
(function(l, r) { if (l.getElementById('livereloadscript')) return; r = l.createElement('script'); r.async = 1; r.src = '//' + (window.location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1'; r.id = 'livereloadscript'; l.getElementsByTagName('head')[0].appendChild(r) })(window.document);
var app = (function () {
    'use strict';

    function noop() { }
    function assign(tar, src) {
        // @ts-ignore
        for (const k in src)
            tar[k] = src[k];
        return tar;
    }
    function is_promise(value) {
        return value && typeof value === 'object' && typeof value.then === 'function';
    }
    function add_location(element, file, line, column, char) {
        element.__svelte_meta = {
            loc: { file, line, column, char }
        };
    }
    function run(fn) {
        return fn();
    }
    function blank_object() {
        return Object.create(null);
    }
    function run_all(fns) {
        fns.forEach(run);
    }
    function is_function(thing) {
        return typeof thing === 'function';
    }
    function safe_not_equal(a, b) {
        return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');
    }
    function validate_store(store, name) {
        if (store != null && typeof store.subscribe !== 'function') {
            throw new Error(`'${name}' is not a store with a 'subscribe' method`);
        }
    }
    function subscribe(store, ...callbacks) {
        if (store == null) {
            return noop;
        }
        const unsub = store.subscribe(...callbacks);
        return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;
    }
    function get_store_value(store) {
        let value;
        subscribe(store, _ => value = _)();
        return value;
    }
    function component_subscribe(component, store, callback) {
        component.$$.on_destroy.push(subscribe(store, callback));
    }
    function create_slot(definition, ctx, $$scope, fn) {
        if (definition) {
            const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);
            return definition[0](slot_ctx);
        }
    }
    function get_slot_context(definition, ctx, $$scope, fn) {
        return definition[1] && fn
            ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))
            : $$scope.ctx;
    }
    function get_slot_changes(definition, $$scope, dirty, fn) {
        if (definition[2] && fn) {
            const lets = definition[2](fn(dirty));
            if ($$scope.dirty === undefined) {
                return lets;
            }
            if (typeof lets === 'object') {
                const merged = [];
                const len = Math.max($$scope.dirty.length, lets.length);
                for (let i = 0; i < len; i += 1) {
                    merged[i] = $$scope.dirty[i] | lets[i];
                }
                return merged;
            }
            return $$scope.dirty | lets;
        }
        return $$scope.dirty;
    }
    function update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {
        const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);
        if (slot_changes) {
            const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);
            slot.p(slot_context, slot_changes);
        }
    }
    function action_destroyer(action_result) {
        return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;
    }

    function append(target, node) {
        target.appendChild(node);
    }
    function insert(target, node, anchor) {
        target.insertBefore(node, anchor || null);
    }
    function detach(node) {
        node.parentNode.removeChild(node);
    }
    function destroy_each(iterations, detaching) {
        for (let i = 0; i < iterations.length; i += 1) {
            if (iterations[i])
                iterations[i].d(detaching);
        }
    }
    function element(name) {
        return document.createElement(name);
    }
    function text(data) {
        return document.createTextNode(data);
    }
    function space() {
        return text(' ');
    }
    function empty() {
        return text('');
    }
    function listen(node, event, handler, options) {
        node.addEventListener(event, handler, options);
        return () => node.removeEventListener(event, handler, options);
    }
    function attr(node, attribute, value) {
        if (value == null)
            node.removeAttribute(attribute);
        else if (node.getAttribute(attribute) !== value)
            node.setAttribute(attribute, value);
    }
    function to_number(value) {
        return value === '' ? undefined : +value;
    }
    function children(element) {
        return Array.from(element.childNodes);
    }
    function set_input_value(input, value) {
        input.value = value == null ? '' : value;
    }
    function set_style(node, key, value, important) {
        node.style.setProperty(key, value, important ? 'important' : '');
    }
    function select_option(select, value) {
        for (let i = 0; i < select.options.length; i += 1) {
            const option = select.options[i];
            if (option.__value === value) {
                option.selected = true;
                return;
            }
        }
    }
    function select_value(select) {
        const selected_option = select.querySelector(':checked') || select.options[0];
        return selected_option && selected_option.__value;
    }
    function custom_event(type, detail) {
        const e = document.createEvent('CustomEvent');
        e.initCustomEvent(type, false, false, detail);
        return e;
    }
    class HtmlTag {
        constructor(anchor = null) {
            this.a = anchor;
            this.e = this.n = null;
        }
        m(html, target, anchor = null) {
            if (!this.e) {
                this.e = element(target.nodeName);
                this.t = target;
                this.h(html);
            }
            this.i(anchor);
        }
        h(html) {
            this.e.innerHTML = html;
            this.n = Array.from(this.e.childNodes);
        }
        i(anchor) {
            for (let i = 0; i < this.n.length; i += 1) {
                insert(this.t, this.n[i], anchor);
            }
        }
        p(html) {
            this.d();
            this.h(html);
            this.i(this.a);
        }
        d() {
            this.n.forEach(detach);
        }
    }

    let current_component;
    function set_current_component(component) {
        current_component = component;
    }
    function get_current_component() {
        if (!current_component)
            throw new Error(`Function called outside component initialization`);
        return current_component;
    }
    function onMount(fn) {
        get_current_component().$$.on_mount.push(fn);
    }
    function onDestroy(fn) {
        get_current_component().$$.on_destroy.push(fn);
    }
    function setContext(key, context) {
        get_current_component().$$.context.set(key, context);
    }
    function getContext(key) {
        return get_current_component().$$.context.get(key);
    }

    const dirty_components = [];
    const binding_callbacks = [];
    const render_callbacks = [];
    const flush_callbacks = [];
    const resolved_promise = Promise.resolve();
    let update_scheduled = false;
    function schedule_update() {
        if (!update_scheduled) {
            update_scheduled = true;
            resolved_promise.then(flush);
        }
    }
    function tick() {
        schedule_update();
        return resolved_promise;
    }
    function add_render_callback(fn) {
        render_callbacks.push(fn);
    }
    function add_flush_callback(fn) {
        flush_callbacks.push(fn);
    }
    let flushing = false;
    const seen_callbacks = new Set();
    function flush() {
        if (flushing)
            return;
        flushing = true;
        do {
            // first, call beforeUpdate functions
            // and update components
            for (let i = 0; i < dirty_components.length; i += 1) {
                const component = dirty_components[i];
                set_current_component(component);
                update(component.$$);
            }
            dirty_components.length = 0;
            while (binding_callbacks.length)
                binding_callbacks.pop()();
            // then, once components are updated, call
            // afterUpdate functions. This may cause
            // subsequent updates...
            for (let i = 0; i < render_callbacks.length; i += 1) {
                const callback = render_callbacks[i];
                if (!seen_callbacks.has(callback)) {
                    // ...so guard against infinite loops
                    seen_callbacks.add(callback);
                    callback();
                }
            }
            render_callbacks.length = 0;
        } while (dirty_components.length);
        while (flush_callbacks.length) {
            flush_callbacks.pop()();
        }
        update_scheduled = false;
        flushing = false;
        seen_callbacks.clear();
    }
    function update($$) {
        if ($$.fragment !== null) {
            $$.update();
            run_all($$.before_update);
            const dirty = $$.dirty;
            $$.dirty = [-1];
            $$.fragment && $$.fragment.p($$.ctx, dirty);
            $$.after_update.forEach(add_render_callback);
        }
    }
    const outroing = new Set();
    let outros;
    function group_outros() {
        outros = {
            r: 0,
            c: [],
            p: outros // parent group
        };
    }
    function check_outros() {
        if (!outros.r) {
            run_all(outros.c);
        }
        outros = outros.p;
    }
    function transition_in(block, local) {
        if (block && block.i) {
            outroing.delete(block);
            block.i(local);
        }
    }
    function transition_out(block, local, detach, callback) {
        if (block && block.o) {
            if (outroing.has(block))
                return;
            outroing.add(block);
            outros.c.push(() => {
                outroing.delete(block);
                if (callback) {
                    if (detach)
                        block.d(1);
                    callback();
                }
            });
            block.o(local);
        }
    }

    function handle_promise(promise, info) {
        const token = info.token = {};
        function update(type, index, key, value) {
            if (info.token !== token)
                return;
            info.resolved = value;
            let child_ctx = info.ctx;
            if (key !== undefined) {
                child_ctx = child_ctx.slice();
                child_ctx[key] = value;
            }
            const block = type && (info.current = type)(child_ctx);
            let needs_flush = false;
            if (info.block) {
                if (info.blocks) {
                    info.blocks.forEach((block, i) => {
                        if (i !== index && block) {
                            group_outros();
                            transition_out(block, 1, 1, () => {
                                info.blocks[i] = null;
                            });
                            check_outros();
                        }
                    });
                }
                else {
                    info.block.d(1);
                }
                block.c();
                transition_in(block, 1);
                block.m(info.mount(), info.anchor);
                needs_flush = true;
            }
            info.block = block;
            if (info.blocks)
                info.blocks[index] = block;
            if (needs_flush) {
                flush();
            }
        }
        if (is_promise(promise)) {
            const current_component = get_current_component();
            promise.then(value => {
                set_current_component(current_component);
                update(info.then, 1, info.value, value);
                set_current_component(null);
            }, error => {
                set_current_component(current_component);
                update(info.catch, 2, info.error, error);
                set_current_component(null);
            });
            // if we previously had a then/catch block, destroy it
            if (info.current !== info.pending) {
                update(info.pending, 0);
                return true;
            }
        }
        else {
            if (info.current !== info.then) {
                update(info.then, 1, info.value, promise);
                return true;
            }
            info.resolved = promise;
        }
    }

    const globals = (typeof window !== 'undefined'
        ? window
        : typeof globalThis !== 'undefined'
            ? globalThis
            : global);

    function destroy_block(block, lookup) {
        block.d(1);
        lookup.delete(block.key);
    }
    function outro_and_destroy_block(block, lookup) {
        transition_out(block, 1, 1, () => {
            lookup.delete(block.key);
        });
    }
    function update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {
        let o = old_blocks.length;
        let n = list.length;
        let i = o;
        const old_indexes = {};
        while (i--)
            old_indexes[old_blocks[i].key] = i;
        const new_blocks = [];
        const new_lookup = new Map();
        const deltas = new Map();
        i = n;
        while (i--) {
            const child_ctx = get_context(ctx, list, i);
            const key = get_key(child_ctx);
            let block = lookup.get(key);
            if (!block) {
                block = create_each_block(key, child_ctx);
                block.c();
            }
            else if (dynamic) {
                block.p(child_ctx, dirty);
            }
            new_lookup.set(key, new_blocks[i] = block);
            if (key in old_indexes)
                deltas.set(key, Math.abs(i - old_indexes[key]));
        }
        const will_move = new Set();
        const did_move = new Set();
        function insert(block) {
            transition_in(block, 1);
            block.m(node, next);
            lookup.set(block.key, block);
            next = block.first;
            n--;
        }
        while (o && n) {
            const new_block = new_blocks[n - 1];
            const old_block = old_blocks[o - 1];
            const new_key = new_block.key;
            const old_key = old_block.key;
            if (new_block === old_block) {
                // do nothing
                next = new_block.first;
                o--;
                n--;
            }
            else if (!new_lookup.has(old_key)) {
                // remove old block
                destroy(old_block, lookup);
                o--;
            }
            else if (!lookup.has(new_key) || will_move.has(new_key)) {
                insert(new_block);
            }
            else if (did_move.has(old_key)) {
                o--;
            }
            else if (deltas.get(new_key) > deltas.get(old_key)) {
                did_move.add(new_key);
                insert(new_block);
            }
            else {
                will_move.add(old_key);
                o--;
            }
        }
        while (o--) {
            const old_block = old_blocks[o];
            if (!new_lookup.has(old_block.key))
                destroy(old_block, lookup);
        }
        while (n)
            insert(new_blocks[n - 1]);
        return new_blocks;
    }
    function validate_each_keys(ctx, list, get_context, get_key) {
        const keys = new Set();
        for (let i = 0; i < list.length; i++) {
            const key = get_key(get_context(ctx, list, i));
            if (keys.has(key)) {
                throw new Error(`Cannot have duplicate keys in a keyed each`);
            }
            keys.add(key);
        }
    }

    function get_spread_update(levels, updates) {
        const update = {};
        const to_null_out = {};
        const accounted_for = { $$scope: 1 };
        let i = levels.length;
        while (i--) {
            const o = levels[i];
            const n = updates[i];
            if (n) {
                for (const key in o) {
                    if (!(key in n))
                        to_null_out[key] = 1;
                }
                for (const key in n) {
                    if (!accounted_for[key]) {
                        update[key] = n[key];
                        accounted_for[key] = 1;
                    }
                }
                levels[i] = n;
            }
            else {
                for (const key in o) {
                    accounted_for[key] = 1;
                }
            }
        }
        for (const key in to_null_out) {
            if (!(key in update))
                update[key] = undefined;
        }
        return update;
    }
    function get_spread_object(spread_props) {
        return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};
    }

    function bind(component, name, callback) {
        const index = component.$$.props[name];
        if (index !== undefined) {
            component.$$.bound[index] = callback;
            callback(component.$$.ctx[index]);
        }
    }
    function create_component(block) {
        block && block.c();
    }
    function mount_component(component, target, anchor) {
        const { fragment, on_mount, on_destroy, after_update } = component.$$;
        fragment && fragment.m(target, anchor);
        // onMount happens before the initial afterUpdate
        add_render_callback(() => {
            const new_on_destroy = on_mount.map(run).filter(is_function);
            if (on_destroy) {
                on_destroy.push(...new_on_destroy);
            }
            else {
                // Edge case - component was destroyed immediately,
                // most likely as a result of a binding initialising
                run_all(new_on_destroy);
            }
            component.$$.on_mount = [];
        });
        after_update.forEach(add_render_callback);
    }
    function destroy_component(component, detaching) {
        const $$ = component.$$;
        if ($$.fragment !== null) {
            run_all($$.on_destroy);
            $$.fragment && $$.fragment.d(detaching);
            // TODO null out other refs, including component.$$ (but need to
            // preserve final state?)
            $$.on_destroy = $$.fragment = null;
            $$.ctx = [];
        }
    }
    function make_dirty(component, i) {
        if (component.$$.dirty[0] === -1) {
            dirty_components.push(component);
            schedule_update();
            component.$$.dirty.fill(0);
        }
        component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));
    }
    function init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {
        const parent_component = current_component;
        set_current_component(component);
        const prop_values = options.props || {};
        const $$ = component.$$ = {
            fragment: null,
            ctx: null,
            // state
            props,
            update: noop,
            not_equal,
            bound: blank_object(),
            // lifecycle
            on_mount: [],
            on_destroy: [],
            before_update: [],
            after_update: [],
            context: new Map(parent_component ? parent_component.$$.context : []),
            // everything else
            callbacks: blank_object(),
            dirty
        };
        let ready = false;
        $$.ctx = instance
            ? instance(component, prop_values, (i, ret, ...rest) => {
                const value = rest.length ? rest[0] : ret;
                if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {
                    if ($$.bound[i])
                        $$.bound[i](value);
                    if (ready)
                        make_dirty(component, i);
                }
                return ret;
            })
            : [];
        $$.update();
        ready = true;
        run_all($$.before_update);
        // `false` as a special case of no DOM component
        $$.fragment = create_fragment ? create_fragment($$.ctx) : false;
        if (options.target) {
            if (options.hydrate) {
                const nodes = children(options.target);
                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                $$.fragment && $$.fragment.l(nodes);
                nodes.forEach(detach);
            }
            else {
                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
                $$.fragment && $$.fragment.c();
            }
            if (options.intro)
                transition_in(component.$$.fragment);
            mount_component(component, options.target, options.anchor);
            flush();
        }
        set_current_component(parent_component);
    }
    class SvelteComponent {
        $destroy() {
            destroy_component(this, 1);
            this.$destroy = noop;
        }
        $on(type, callback) {
            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));
            callbacks.push(callback);
            return () => {
                const index = callbacks.indexOf(callback);
                if (index !== -1)
                    callbacks.splice(index, 1);
            };
        }
        $set() {
            // overridden by instance, if it has props
        }
    }

    function dispatch_dev(type, detail) {
        document.dispatchEvent(custom_event(type, Object.assign({ version: '3.24.0' }, detail)));
    }
    function append_dev(target, node) {
        dispatch_dev("SvelteDOMInsert", { target, node });
        append(target, node);
    }
    function insert_dev(target, node, anchor) {
        dispatch_dev("SvelteDOMInsert", { target, node, anchor });
        insert(target, node, anchor);
    }
    function detach_dev(node) {
        dispatch_dev("SvelteDOMRemove", { node });
        detach(node);
    }
    function listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {
        const modifiers = options === true ? ["capture"] : options ? Array.from(Object.keys(options)) : [];
        if (has_prevent_default)
            modifiers.push('preventDefault');
        if (has_stop_propagation)
            modifiers.push('stopPropagation');
        dispatch_dev("SvelteDOMAddEventListener", { node, event, handler, modifiers });
        const dispose = listen(node, event, handler, options);
        return () => {
            dispatch_dev("SvelteDOMRemoveEventListener", { node, event, handler, modifiers });
            dispose();
        };
    }
    function attr_dev(node, attribute, value) {
        attr(node, attribute, value);
        if (value == null)
            dispatch_dev("SvelteDOMRemoveAttribute", { node, attribute });
        else
            dispatch_dev("SvelteDOMSetAttribute", { node, attribute, value });
    }
    function prop_dev(node, property, value) {
        node[property] = value;
        dispatch_dev("SvelteDOMSetProperty", { node, property, value });
    }
    function set_data_dev(text, data) {
        data = '' + data;
        if (text.wholeText === data)
            return;
        dispatch_dev("SvelteDOMSetData", { node: text, data });
        text.data = data;
    }
    function validate_each_argument(arg) {
        if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {
            let msg = '{#each} only iterates over array-like objects.';
            if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {
                msg += ' You can use a spread to convert this iterable into an array.';
            }
            throw new Error(msg);
        }
    }
    function validate_slots(name, slot, keys) {
        for (const slot_key of Object.keys(slot)) {
            if (!~keys.indexOf(slot_key)) {
                console.warn(`<${name}> received an unexpected slot "${slot_key}".`);
            }
        }
    }
    class SvelteComponentDev extends SvelteComponent {
        constructor(options) {
            if (!options || (!options.target && !options.$$inline)) {
                throw new Error(`'target' is a required option`);
            }
            super();
        }
        $destroy() {
            super.$destroy();
            this.$destroy = () => {
                console.warn(`Component was already destroyed`); // eslint-disable-line no-console
            };
        }
        $capture_state() { }
        $inject_state() { }
    }

    const subscriber_queue = [];
    /**
     * Creates a `Readable` store that allows reading by subscription.
     * @param value initial value
     * @param {StartStopNotifier}start start and stop notifications for subscriptions
     */
    function readable(value, start) {
        return {
            subscribe: writable(value, start).subscribe,
        };
    }
    /**
     * Create a `Writable` store that allows both updating and reading by subscription.
     * @param {*=}value initial value
     * @param {StartStopNotifier=}start start and stop notifications for subscriptions
     */
    function writable(value, start = noop) {
        let stop;
        const subscribers = [];
        function set(new_value) {
            if (safe_not_equal(value, new_value)) {
                value = new_value;
                if (stop) { // store is ready
                    const run_queue = !subscriber_queue.length;
                    for (let i = 0; i < subscribers.length; i += 1) {
                        const s = subscribers[i];
                        s[1]();
                        subscriber_queue.push(s, value);
                    }
                    if (run_queue) {
                        for (let i = 0; i < subscriber_queue.length; i += 2) {
                            subscriber_queue[i][0](subscriber_queue[i + 1]);
                        }
                        subscriber_queue.length = 0;
                    }
                }
            }
        }
        function update(fn) {
            set(fn(value));
        }
        function subscribe(run, invalidate = noop) {
            const subscriber = [run, invalidate];
            subscribers.push(subscriber);
            if (subscribers.length === 1) {
                stop = start(set) || noop;
            }
            run(value);
            return () => {
                const index = subscribers.indexOf(subscriber);
                if (index !== -1) {
                    subscribers.splice(index, 1);
                }
                if (subscribers.length === 0) {
                    stop();
                    stop = null;
                }
            };
        }
        return { set, update, subscribe };
    }
    function derived(stores, fn, initial_value) {
        const single = !Array.isArray(stores);
        const stores_array = single
            ? [stores]
            : stores;
        const auto = fn.length < 2;
        return readable(initial_value, (set) => {
            let inited = false;
            const values = [];
            let pending = 0;
            let cleanup = noop;
            const sync = () => {
                if (pending) {
                    return;
                }
                cleanup();
                const result = fn(single ? values[0] : values, set);
                if (auto) {
                    set(result);
                }
                else {
                    cleanup = is_function(result) ? result : noop;
                }
            };
            const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {
                values[i] = value;
                pending &= ~(1 << i);
                if (inited) {
                    sync();
                }
            }, () => {
                pending |= (1 << i);
            }));
            inited = true;
            sync();
            return function stop() {
                run_all(unsubscribers);
                cleanup();
            };
        });
    }

    const MATCH_PARAM = RegExp(/\:([^/()]+)/g);

    function handleScroll(element) {
      if (navigator.userAgent.includes('jsdom')) return false
      scrollAncestorsToTop(element);
      handleHash();
    }

    function handleHash() {
      if (navigator.userAgent.includes('jsdom')) return false
      const { hash } = window.location;
      if (hash) {
        const el = document.querySelector(hash);
        if (hash && el) el.scrollIntoView();
      }
    }

    function scrollAncestorsToTop(element) {
      if (
        element &&
        element.scrollTo &&
        element.dataset.routify !== 'scroll-lock' &&
        element.dataset['routify-scroll'] !== 'lock'
      ) {
        element.style['scroll-behavior'] = "auto";
        element.scrollTo({ top: 0, behavior: 'auto' });
        element.style['scroll-behavior'] = "";
        scrollAncestorsToTop(element.parentElement);
      }
    }

    const pathToRegex = (str, recursive) => {
      const suffix = recursive ? '' : '/?$'; //fallbacks should match recursively
      str = str.replace(/\/_fallback?$/, '(/|$)');
      str = str.replace(/\/index$/, '(/index)?'); //index files should be matched even if not present in url
      str = str.replace(MATCH_PARAM, '([^/]+)') + suffix;
      return str
    };

    const pathToParamKeys = string => {
      const paramsKeys = [];
      let matches;
      while (matches = MATCH_PARAM.exec(string))
        paramsKeys.push(matches[1]);
      return paramsKeys
    };

    const pathToRank = ({ path }) => {
      return path
        .split('/')
        .filter(Boolean)
        .map(str => (str === '_fallback' ? 'A' : str.startsWith(':') ? 'B' : 'C'))
        .join('')
    };

    let warningSuppressed = false;

    /* eslint no-console: 0 */
    function suppressWarnings() {
      if (warningSuppressed) return
      const consoleWarn = console.warn;
      console.warn = function (msg, ...msgs) {
        const ignores = [
          "was created with unknown prop 'scoped'",
          "was created with unknown prop 'scopedSync'",
        ];
        if (!ignores.find(iMsg => msg.includes(iMsg)))
          return consoleWarn(msg, ...msgs)
      };
      warningSuppressed = true;
    }


    function currentLocation() {
      const pathMatch = window.location.search.match(/__routify_path=([^&]+)/);
      const prefetchMatch = window.location.search.match(/__routify_prefetch=\d+/);
      window.routify = window.routify || {};
      window.routify.prefetched = prefetchMatch ? true : false;
      const path = pathMatch && pathMatch[1].replace(/[#?].+/, ''); // strip any thing after ? and #
      return path || window.location.pathname
    }

    window.routify = window.routify || {};

    /** @type {import('svelte/store').Writable<RouteNode>} */
    const route = writable(null); // the actual route being rendered

    /** @type {import('svelte/store').Writable<RouteNode[]>} */
    const routes = writable([]); // all routes
    routes.subscribe(routes => (window.routify.routes = routes));

    let rootContext = writable({ component: { params: {} } });

    /** @type {import('svelte/store').Writable<RouteNode>} */
    const urlRoute = writable(null);  // the route matching the url

    /** @type {import('svelte/store').Writable<String>} */
    const basepath = (() => {
        const { set, subscribe } = writable("");

        return {
            subscribe,
            set(value) {
                if (value.match(/^[/(]/))
                    set(value);
                else console.warn('Basepaths must start with / or (');
            },
            update() { console.warn('Use assignment or set to update basepaths.'); }
        }
    })();

    const location$1 = derived( // the part of the url matching the basepath
        [basepath, urlRoute],
        ([$basepath, $route]) => {
            const [, base, path] = currentLocation().match(`^(${$basepath})(${$route.regex})`) || [];
            return { base, path }
        }
    );

    const prefetchPath = writable("");

    function onAppLoaded({ path, metatags }) {
        metatags.update();
        const prefetchMatch = window.location.search.match(/__routify_prefetch=(\d+)/);
        const prefetchId = prefetchMatch && prefetchMatch[1];

        dispatchEvent(new CustomEvent('app-loaded'));
        parent.postMessage({
            msg: 'app-loaded',
            prefetched: window.routify.prefetched,
            path,
            prefetchId
        }, "*");
        window['routify'].appLoaded = true;
    }

    var defaultConfig = {
        queryHandler: {
            parse: search => fromEntries(new URLSearchParams(search)),
            stringify: params => '?' + (new URLSearchParams(params)).toString()
        }
    };


    function fromEntries(iterable) {
        return [...iterable].reduce((obj, [key, val]) => {
            obj[key] = val;
            return obj
        }, {})
    }

    /**
     * @param {string} url 
     * @return {ClientNode}
     */
    function urlToRoute(url) {
        /** @type {RouteNode[]} */
        const routes$1 = get_store_value(routes);
        const basepath$1 = get_store_value(basepath);
        const route = routes$1.find(route => url.match(`^${basepath$1}${route.regex}`));
        if (!route)
            throw new Error(
                `Route could not be found.`
            )

        const [, base] = url.match(`^(${basepath$1})${route.regex}`);
        const path = url.slice(base.length);

        if (defaultConfig.queryHandler)
            route.params = defaultConfig.queryHandler.parse(window.location.search);

        if (route.paramKeys) {
            const layouts = layoutByPos(route.layouts);
            const fragments = path.split('/').filter(Boolean);
            const routeProps = getRouteProps(route.path);

            routeProps.forEach((prop, i) => {
                if (prop) {
                    route.params[prop] = fragments[i];
                    if (layouts[i]) layouts[i].param = { [prop]: fragments[i] };
                    else route.param = { [prop]: fragments[i] };
                }
            });
        }

        route.leftover = url.replace(new RegExp(base + route.regex), '');

        return route
    }


    /**
     * @param {array} layouts
     */
    function layoutByPos(layouts) {
        const arr = [];
        layouts.forEach(layout => {
            arr[layout.path.split('/').filter(Boolean).length - 1] = layout;
        });
        return arr
    }


    /**
     * @param {string} url
     */
    function getRouteProps(url) {
        return url
            .split('/')
            .filter(Boolean)
            .map(f => f.match(/\:(.+)/))
            .map(f => f && f[1])
    }

    /* node_modules\@sveltech\routify\runtime\Prefetcher.svelte generated by Svelte v3.24.0 */

    const { Object: Object_1 } = globals;
    const file = "node_modules\\@sveltech\\routify\\runtime\\Prefetcher.svelte";

    function get_each_context(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[1] = list[i];
    	return child_ctx;
    }

    // (93:2) {#each $actives as prefetch (prefetch.options.prefetch)}
    function create_each_block(key_1, ctx) {
    	let iframe;
    	let iframe_src_value;

    	const block = {
    		key: key_1,
    		first: null,
    		c: function create() {
    			iframe = element("iframe");
    			if (iframe.src !== (iframe_src_value = /*prefetch*/ ctx[1].url)) attr_dev(iframe, "src", iframe_src_value);
    			attr_dev(iframe, "frameborder", "0");
    			attr_dev(iframe, "title", "routify prefetcher");
    			add_location(iframe, file, 93, 4, 2705);
    			this.first = iframe;
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, iframe, anchor);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*$actives*/ 1 && iframe.src !== (iframe_src_value = /*prefetch*/ ctx[1].url)) {
    				attr_dev(iframe, "src", iframe_src_value);
    			}
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(iframe);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block.name,
    		type: "each",
    		source: "(93:2) {#each $actives as prefetch (prefetch.options.prefetch)}",
    		ctx
    	});

    	return block;
    }

    function create_fragment(ctx) {
    	let div;
    	let each_blocks = [];
    	let each_1_lookup = new Map();
    	let each_value = /*$actives*/ ctx[0];
    	validate_each_argument(each_value);
    	const get_key = ctx => /*prefetch*/ ctx[1].options.prefetch;
    	validate_each_keys(ctx, each_value, get_each_context, get_key);

    	for (let i = 0; i < each_value.length; i += 1) {
    		let child_ctx = get_each_context(ctx, each_value, i);
    		let key = get_key(child_ctx);
    		each_1_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));
    	}

    	const block = {
    		c: function create() {
    			div = element("div");

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			attr_dev(div, "id", "__routify_iframes");
    			set_style(div, "display", "none");
    			add_location(div, file, 91, 0, 2591);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div, anchor);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(div, null);
    			}
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*$actives*/ 1) {
    				const each_value = /*$actives*/ ctx[0];
    				validate_each_argument(each_value);
    				validate_each_keys(ctx, each_value, get_each_context, get_key);
    				each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx, each_value, each_1_lookup, div, destroy_block, create_each_block, null, get_each_context);
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].d();
    			}
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    const iframeNum = 2;

    const defaults = {
    	validFor: 60,
    	timeout: 5000,
    	gracePeriod: 1000
    };

    /** stores and subscriptions */
    const queue = writable([]);

    const actives = derived(queue, q => q.slice(0, iframeNum));

    actives.subscribe(actives => actives.forEach(({ options }) => {
    	setTimeout(() => removeFromQueue(options.prefetch), options.timeout);
    }));

    function prefetch(path, options = {}) {
    	prefetch.id = prefetch.id || 1;

    	path = !path.href
    	? path
    	: path.href.replace(/^(?:\/\/|[^/]+)*\//, "/");

    	//replace first ? since were mixing user queries with routify queries
    	path = path.replace("?", "&");

    	options = { ...defaults, ...options, path };
    	options.prefetch = prefetch.id++;

    	//don't prefetch within prefetch or SSR
    	if (window.routify.prefetched || navigator.userAgent.match("jsdom")) return false;

    	// add to queue
    	queue.update(q => {
    		if (!q.some(e => e.options.path === path)) q.push({
    			url: `/__app.html?${optionsToQuery(options)}`,
    			options
    		});

    		return q;
    	});
    }

    /**
     * convert options to query string
     * {a:1,b:2} becomes __routify_a=1&routify_b=2
     * @param {defaults & {path: string, prefetch: number}} options
     */
    function optionsToQuery(options) {
    	return Object.entries(options).map(([key, val]) => `__routify_${key}=${val}`).join("&");
    }

    /**
     * @param {number|MessageEvent} idOrEvent
     */
    function removeFromQueue(idOrEvent) {
    	const id = idOrEvent.data ? idOrEvent.data.prefetchId : idOrEvent;
    	if (!id) return null;
    	const entry = get_store_value(queue).find(entry => entry && entry.options.prefetch == id);

    	// removeFromQueue is called by both eventListener and timeout,
    	// but we can only remove the item once
    	if (entry) {
    		const { gracePeriod } = entry.options;
    		const gracePromise = new Promise(resolve => setTimeout(resolve, gracePeriod));

    		const idlePromise = new Promise(resolve => {
    				window.requestIdleCallback
    				? window.requestIdleCallback(resolve)
    				: setTimeout(resolve, gracePeriod + 1000);
    			});

    		Promise.all([gracePromise, idlePromise]).then(() => {
    			queue.update(q => q.filter(q => q.options.prefetch != id));
    		});
    	}
    }

    // Listen to message from child window
    addEventListener("message", removeFromQueue, false);

    function instance($$self, $$props, $$invalidate) {
    	let $actives;
    	validate_store(actives, "actives");
    	component_subscribe($$self, actives, $$value => $$invalidate(0, $actives = $$value));
    	const writable_props = [];

    	Object_1.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<Prefetcher> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Prefetcher", $$slots, []);

    	$$self.$capture_state = () => ({
    		writable,
    		derived,
    		get: get_store_value,
    		iframeNum,
    		defaults,
    		queue,
    		actives,
    		prefetch,
    		optionsToQuery,
    		removeFromQueue,
    		$actives
    	});

    	return [$actives];
    }

    class Prefetcher extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance, create_fragment, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Prefetcher",
    			options,
    			id: create_fragment.name
    		});
    	}
    }

    /// <reference path="../typedef.js" />

    /** @ts-check */
    /**
     * @typedef {Object} RoutifyContext
     * @prop {ClientNode} component
     * @prop {ClientNode} layout
     * @prop {any} componentFile 
     * 
     *  @returns {import('svelte/store').Readable<RoutifyContext>} */
    function getRoutifyContext() {
      return getContext('routify') || rootContext
    }

    /**
     * @callback AfterPageLoadHelper
     * @param {function} callback
     * 
     * @typedef {import('svelte/store').Readable<AfterPageLoadHelper> & {_hooks:Array<function>}} AfterPageLoadHelperStore
     * @type {AfterPageLoadHelperStore}
     */
    const afterPageLoad = {
      _hooks: [],
      subscribe: hookHandler
    };

    /** 
     * @callback BeforeUrlChangeHelper
     * @param {function} callback
     *
     * @typedef {import('svelte/store').Readable<BeforeUrlChangeHelper> & {_hooks:Array<function>}} BeforeUrlChangeHelperStore
     * @type {BeforeUrlChangeHelperStore}
     **/
    const beforeUrlChange = {
      _hooks: [],
      subscribe: hookHandler
    };

    function hookHandler(listener) {
      const hooks = this._hooks;
      const index = hooks.length;
      listener(callback => { hooks[index] = callback; });
      return () => delete hooks[index]
    }

    /**
     * We have to grab params and leftover from the context and not directly from the store.
     * Otherwise the context is updated before the component is destroyed. * 
     * @typedef {Object.<string, *>} ParamsHelper
     * @typedef {import('svelte/store').Readable<ParamsHelper>} ParamsHelperStore
     * @type {ParamsHelperStore}
     **/
    const params = {
      subscribe(run) {
        const ctx = getRoutifyContext();
        return derived(ctx, ctx => ctx.route.params).subscribe(run)
      }
    };

    /**
     * @callback UrlHelper
     * @param {String=} path
     * @param {UrlParams=} params
     * @param {UrlOptions=} options
     * @return {String}
     *
     * @typedef {import('svelte/store').Readable<UrlHelper>} UrlHelperStore
     * @type {UrlHelperStore} 
     * */
    const url = {
      subscribe(listener) {
        const ctx = getRoutifyContext();
        return derived(
          [ctx, route, routes, location$1],
          args => makeUrlHelper(...args)
        ).subscribe(
          listener
        )
      }
    };

    /** 
     * @param {{component: ClientNode}} $ctx 
     * @param {RouteNode} $oldRoute 
     * @param {RouteNode[]} $routes 
     * @param {{base: string, path: string}} $location
     * @returns {UrlHelper}
     */
    function makeUrlHelper($ctx, $oldRoute, $routes, $location) {
      return function url(path, params, options) {
        const { component } = $ctx;
        path = path || './';

        const strict = options && options.strict !== false;
        if (!strict) path = path.replace(/index$/, '');

        if (path.match(/^\.\.?\//)) {
          //RELATIVE PATH
          let [, breadcrumbs, relativePath] = path.match(/^([\.\/]+)(.*)/);
          let dir = component.path.replace(/\/$/, '');
          const traverse = breadcrumbs.match(/\.\.\//g) || [];
          traverse.forEach(() => dir = dir.replace(/\/[^\/]+\/?$/, ''));
          path = `${dir}/${relativePath}`.replace(/\/$/, '');

        } else if (path.match(/^\//)) ; else {
          // NAMED PATH
          const matchingRoute = $routes.find(route => route.meta.name === path);
          if (matchingRoute) path = matchingRoute.shortPath;
        }

        /** @type {Object<string, *>} Parameters */
        const allParams = Object.assign({}, $oldRoute.params, component.params, params);
        let pathWithParams = path;
        for (const [key, value] of Object.entries(allParams)) {
          pathWithParams = pathWithParams.replace(`:${key}`, value);
        }

        const fullPath = $location.base + pathWithParams + _getQueryString(path, params);
        return fullPath.replace(/\?$/, '')
      }
    }

    /**
     * 
     * @param {string} path 
     * @param {object} params 
     */
    function _getQueryString(path, params) {
      if (!defaultConfig.queryHandler) return ""
      const pathParamKeys = pathToParamKeys(path);
      const queryParams = {};
      if (params) Object.entries(params).forEach(([key, value]) => {
        if (!pathParamKeys.includes(key))
          queryParams[key] = value;
      });
      return defaultConfig.queryHandler.stringify(queryParams)
    }

    /**
    * @callback GotoHelper
    * @param {String=} path
    * @param {UrlParams=} params
    * @param {GotoOptions=} options
    *
    * @typedef {import('svelte/store').Readable<GotoHelper>}  GotoHelperStore
    * @type {GotoHelperStore} 
    * */
    const goto = {
      subscribe(listener) {
        return derived(url,
          url => function goto(path, params, _static, shallow) {
            const href = url(path, params);
            if (!_static) history.pushState({}, null, href);
            else getContext('routifyupdatepage')(href, shallow);
          }
        ).subscribe(
          listener
        )
      },
    };



    const _metatags = {
      props: {},
      templates: {},
      services: {
        plain: { propField: 'name', valueField: 'content' },
        twitter: { propField: 'name', valueField: 'content' },
        og: { propField: 'property', valueField: 'content' },
      },
      plugins: [
        {
          name: 'applyTemplate',
          condition: () => true,
          action: (prop, value) => {
            const template = _metatags.getLongest(_metatags.templates, prop) || (x => x);
            return [prop, template(value)]
          }
        },
        {
          name: 'createMeta',
          condition: () => true,
          action(prop, value) {
            _metatags.writeMeta(prop, value);
          }
        },
        {
          name: 'createOG',
          condition: prop => !prop.match(':'),
          action(prop, value) {
            _metatags.writeMeta(`og:${prop}`, value);
          }
        },
        {
          name: 'createTitle',
          condition: prop => prop === 'title',
          action(prop, value) {
            document.title = value;
          }
        }
      ],
      getLongest(repo, name) {
        const providers = repo[name];
        if (providers) {
          const currentPath = get_store_value(route).path;
          const allPaths = Object.keys(repo[name]);
          const matchingPaths = allPaths.filter(path => currentPath.includes(path));

          const longestKey = matchingPaths.sort((a, b) => b.length - a.length)[0];

          return providers[longestKey]
        }
      },
      writeMeta(prop, value) {
        const head = document.getElementsByTagName('head')[0];
        const match = prop.match(/(.+)\:/);
        const serviceName = match && match[1] || 'plain';
        const { propField, valueField } = metatags.services[serviceName] || metatags.services.plain;
        const oldElement = document.querySelector(`meta[${propField}='${prop}']`);
        if (oldElement) oldElement.remove();

        const newElement = document.createElement('meta');
        newElement.setAttribute(propField, prop);
        newElement.setAttribute(valueField, value);
        newElement.setAttribute('data-origin', 'routify');
        head.appendChild(newElement);
      },
      set(prop, value) {
        _metatags.plugins.forEach(plugin => {
          if (plugin.condition(prop, value))
            [prop, value] = plugin.action(prop, value) || [prop, value];
        });
      },
      clear() {
        const oldElement = document.querySelector(`meta`);
        if (oldElement) oldElement.remove();
      },
      template(name, fn) {
        const origin = _metatags.getOrigin();
        _metatags.templates[name] = _metatags.templates[name] || {};
        _metatags.templates[name][origin] = fn;
      },
      update() {
        Object.keys(_metatags.props).forEach((prop) => {
          let value = (_metatags.getLongest(_metatags.props, prop));
          _metatags.plugins.forEach(plugin => {
            if (plugin.condition(prop, value)) {
              [prop, value] = plugin.action(prop, value) || [prop, value];

            }
          });
        });
      },
      batchedUpdate() {
        if (!_metatags._pendingUpdate) {
          _metatags._pendingUpdate = true;
          setTimeout(() => {
            _metatags._pendingUpdate = false;
            this.update();
          });
        }
      },
      _updateQueued: false,
      getOrigin() {
        const routifyCtx = getRoutifyContext();
        return routifyCtx && get_store_value(routifyCtx).path || '/'
      },
      _pendingUpdate: false
    };


    /**
     * metatags
     * @prop {Object.<string, string>}
     */
    const metatags = new Proxy(_metatags, {
      set(target, name, value, receiver) {
        const { props, getOrigin } = target;

        if (Reflect.has(target, name))
          Reflect.set(target, name, value, receiver);
        else {
          props[name] = props[name] || {};
          props[name][getOrigin()] = value;
        }

        if (window['routify'].appLoaded)
          target.batchedUpdate();
        return true
      }
    });

    const isChangingPage = (function () {
      const store = writable(false);
      beforeUrlChange.subscribe(fn => fn(event => {
        store.set(true);
        return true
      }));
      
      afterPageLoad.subscribe(fn => fn(event => store.set(false)));

      return store
    })();

    /* node_modules\@sveltech\routify\runtime\Route.svelte generated by Svelte v3.24.0 */
    const file$1 = "node_modules\\@sveltech\\routify\\runtime\\Route.svelte";

    function get_each_context_1(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[20] = list[i].component;
    	child_ctx[21] = list[i].componentFile;
    	return child_ctx;
    }

    function get_each_context$1(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[20] = list[i].component;
    	child_ctx[21] = list[i].componentFile;
    	return child_ctx;
    }

    // (122:0) {#if $context}
    function create_if_block_1(ctx) {
    	let current_block_type_index;
    	let if_block;
    	let if_block_anchor;
    	let current;
    	const if_block_creators = [create_if_block_2, create_if_block_3];
    	const if_blocks = [];

    	function select_block_type(ctx, dirty) {
    		if (/*$context*/ ctx[6].component.isLayout === false) return 0;
    		if (/*remainingLayouts*/ ctx[5].length) return 1;
    		return -1;
    	}

    	if (~(current_block_type_index = select_block_type(ctx))) {
    		if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    	}

    	const block = {
    		c: function create() {
    			if (if_block) if_block.c();
    			if_block_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			if (~current_block_type_index) {
    				if_blocks[current_block_type_index].m(target, anchor);
    			}

    			insert_dev(target, if_block_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			let previous_block_index = current_block_type_index;
    			current_block_type_index = select_block_type(ctx);

    			if (current_block_type_index === previous_block_index) {
    				if (~current_block_type_index) {
    					if_blocks[current_block_type_index].p(ctx, dirty);
    				}
    			} else {
    				if (if_block) {
    					group_outros();

    					transition_out(if_blocks[previous_block_index], 1, 1, () => {
    						if_blocks[previous_block_index] = null;
    					});

    					check_outros();
    				}

    				if (~current_block_type_index) {
    					if_block = if_blocks[current_block_type_index];

    					if (!if_block) {
    						if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
    						if_block.c();
    					}

    					transition_in(if_block, 1);
    					if_block.m(if_block_anchor.parentNode, if_block_anchor);
    				} else {
    					if_block = null;
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(if_block);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(if_block);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (~current_block_type_index) {
    				if_blocks[current_block_type_index].d(detaching);
    			}

    			if (detaching) detach_dev(if_block_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_1.name,
    		type: "if",
    		source: "(122:0) {#if $context}",
    		ctx
    	});

    	return block;
    }

    // (134:36) 
    function create_if_block_3(ctx) {
    	let each_blocks = [];
    	let each_1_lookup = new Map();
    	let each_1_anchor;
    	let current;
    	let each_value_1 = [/*$context*/ ctx[6]];
    	validate_each_argument(each_value_1);
    	const get_key = ctx => /*component*/ ctx[20].path;
    	validate_each_keys(ctx, each_value_1, get_each_context_1, get_key);

    	for (let i = 0; i < 1; i += 1) {
    		let child_ctx = get_each_context_1(ctx, each_value_1, i);
    		let key = get_key(child_ctx);
    		each_1_lookup.set(key, each_blocks[i] = create_each_block_1(key, child_ctx));
    	}

    	const block = {
    		c: function create() {
    			for (let i = 0; i < 1; i += 1) {
    				each_blocks[i].c();
    			}

    			each_1_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			for (let i = 0; i < 1; i += 1) {
    				each_blocks[i].m(target, anchor);
    			}

    			insert_dev(target, each_1_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*$context, scoped, scopedSync, layout, remainingLayouts, decorator, Decorator, scopeToChild*/ 201326711) {
    				const each_value_1 = [/*$context*/ ctx[6]];
    				validate_each_argument(each_value_1);
    				group_outros();
    				validate_each_keys(ctx, each_value_1, get_each_context_1, get_key);
    				each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx, each_value_1, each_1_lookup, each_1_anchor.parentNode, outro_and_destroy_block, create_each_block_1, each_1_anchor, get_each_context_1);
    				check_outros();
    			}
    		},
    		i: function intro(local) {
    			if (current) return;

    			for (let i = 0; i < 1; i += 1) {
    				transition_in(each_blocks[i]);
    			}

    			current = true;
    		},
    		o: function outro(local) {
    			for (let i = 0; i < 1; i += 1) {
    				transition_out(each_blocks[i]);
    			}

    			current = false;
    		},
    		d: function destroy(detaching) {
    			for (let i = 0; i < 1; i += 1) {
    				each_blocks[i].d(detaching);
    			}

    			if (detaching) detach_dev(each_1_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_3.name,
    		type: "if",
    		source: "(134:36) ",
    		ctx
    	});

    	return block;
    }

    // (123:2) {#if $context.component.isLayout === false}
    function create_if_block_2(ctx) {
    	let each_blocks = [];
    	let each_1_lookup = new Map();
    	let each_1_anchor;
    	let current;
    	let each_value = [/*$context*/ ctx[6]];
    	validate_each_argument(each_value);
    	const get_key = ctx => /*component*/ ctx[20].path;
    	validate_each_keys(ctx, each_value, get_each_context$1, get_key);

    	for (let i = 0; i < 1; i += 1) {
    		let child_ctx = get_each_context$1(ctx, each_value, i);
    		let key = get_key(child_ctx);
    		each_1_lookup.set(key, each_blocks[i] = create_each_block$1(key, child_ctx));
    	}

    	const block = {
    		c: function create() {
    			for (let i = 0; i < 1; i += 1) {
    				each_blocks[i].c();
    			}

    			each_1_anchor = empty();
    		},
    		m: function mount(target, anchor) {
    			for (let i = 0; i < 1; i += 1) {
    				each_blocks[i].m(target, anchor);
    			}

    			insert_dev(target, each_1_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*$context, scoped, scopedSync, layout*/ 85) {
    				const each_value = [/*$context*/ ctx[6]];
    				validate_each_argument(each_value);
    				group_outros();
    				validate_each_keys(ctx, each_value, get_each_context$1, get_key);
    				each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx, each_value, each_1_lookup, each_1_anchor.parentNode, outro_and_destroy_block, create_each_block$1, each_1_anchor, get_each_context$1);
    				check_outros();
    			}
    		},
    		i: function intro(local) {
    			if (current) return;

    			for (let i = 0; i < 1; i += 1) {
    				transition_in(each_blocks[i]);
    			}

    			current = true;
    		},
    		o: function outro(local) {
    			for (let i = 0; i < 1; i += 1) {
    				transition_out(each_blocks[i]);
    			}

    			current = false;
    		},
    		d: function destroy(detaching) {
    			for (let i = 0; i < 1; i += 1) {
    				each_blocks[i].d(detaching);
    			}

    			if (detaching) detach_dev(each_1_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_2.name,
    		type: "if",
    		source: "(123:2) {#if $context.component.isLayout === false}",
    		ctx
    	});

    	return block;
    }

    // (136:6) <svelte:component         this={componentFile}         let:scoped={scopeToChild}         let:decorator         {scoped}         {scopedSync}         {...layout.param || {}}>
    function create_default_slot(ctx) {
    	let route_1;
    	let t;
    	let current;

    	route_1 = new Route({
    			props: {
    				layouts: [.../*remainingLayouts*/ ctx[5]],
    				Decorator: typeof /*decorator*/ ctx[27] !== "undefined"
    				? /*decorator*/ ctx[27]
    				: /*Decorator*/ ctx[1],
    				childOfDecorator: /*layout*/ ctx[4].isDecorator,
    				scoped: {
    					.../*scoped*/ ctx[0],
    					.../*scopeToChild*/ ctx[26]
    				}
    			},
    			$$inline: true
    		});

    	const block = {
    		c: function create() {
    			create_component(route_1.$$.fragment);
    			t = space();
    		},
    		m: function mount(target, anchor) {
    			mount_component(route_1, target, anchor);
    			insert_dev(target, t, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const route_1_changes = {};
    			if (dirty & /*remainingLayouts*/ 32) route_1_changes.layouts = [.../*remainingLayouts*/ ctx[5]];

    			if (dirty & /*decorator, Decorator*/ 134217730) route_1_changes.Decorator = typeof /*decorator*/ ctx[27] !== "undefined"
    			? /*decorator*/ ctx[27]
    			: /*Decorator*/ ctx[1];

    			if (dirty & /*layout*/ 16) route_1_changes.childOfDecorator = /*layout*/ ctx[4].isDecorator;

    			if (dirty & /*scoped, scopeToChild*/ 67108865) route_1_changes.scoped = {
    				.../*scoped*/ ctx[0],
    				.../*scopeToChild*/ ctx[26]
    			};

    			route_1.$set(route_1_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(route_1.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(route_1.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(route_1, detaching);
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot.name,
    		type: "slot",
    		source: "(136:6) <svelte:component         this={componentFile}         let:scoped={scopeToChild}         let:decorator         {scoped}         {scopedSync}         {...layout.param || {}}>",
    		ctx
    	});

    	return block;
    }

    // (135:4) {#each [$context] as { component, componentFile }
    function create_each_block_1(key_1, ctx) {
    	let first;
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;

    	const switch_instance_spread_levels = [
    		{ scoped: /*scoped*/ ctx[0] },
    		{ scopedSync: /*scopedSync*/ ctx[2] },
    		/*layout*/ ctx[4].param || {}
    	];

    	var switch_value = /*componentFile*/ ctx[21];

    	function switch_props(ctx) {
    		let switch_instance_props = {
    			$$slots: {
    				default: [
    					create_default_slot,
    					({ scoped: scopeToChild, decorator }) => ({ 26: scopeToChild, 27: decorator }),
    					({ scoped: scopeToChild, decorator }) => (scopeToChild ? 67108864 : 0) | (decorator ? 134217728 : 0)
    				]
    			},
    			$$scope: { ctx }
    		};

    		for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
    			switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    		}

    		return {
    			props: switch_instance_props,
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = new switch_value(switch_props(ctx));
    	}

    	const block = {
    		key: key_1,
    		first: null,
    		c: function create() {
    			first = empty();
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    			this.first = first;
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, first, anchor);

    			if (switch_instance) {
    				mount_component(switch_instance, target, anchor);
    			}

    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = (dirty & /*scoped, scopedSync, layout*/ 21)
    			? get_spread_update(switch_instance_spread_levels, [
    					dirty & /*scoped*/ 1 && { scoped: /*scoped*/ ctx[0] },
    					dirty & /*scopedSync*/ 4 && { scopedSync: /*scopedSync*/ ctx[2] },
    					dirty & /*layout*/ 16 && get_spread_object(/*layout*/ ctx[4].param || {})
    				])
    			: {};

    			if (dirty & /*$$scope, remainingLayouts, decorator, Decorator, layout, scoped, scopeToChild*/ 469762099) {
    				switch_instance_changes.$$scope = { dirty, ctx };
    			}

    			if (switch_value !== (switch_value = /*componentFile*/ ctx[21])) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = new switch_value(switch_props(ctx));
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(first);
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_1.name,
    		type: "each",
    		source: "(135:4) {#each [$context] as { component, componentFile }",
    		ctx
    	});

    	return block;
    }

    // (124:4) {#each [$context] as { component, componentFile }
    function create_each_block$1(key_1, ctx) {
    	let first;
    	let switch_instance;
    	let switch_instance_anchor;
    	let current;

    	const switch_instance_spread_levels = [
    		{ scoped: /*scoped*/ ctx[0] },
    		{ scopedSync: /*scopedSync*/ ctx[2] },
    		/*layout*/ ctx[4].param || {}
    	];

    	var switch_value = /*componentFile*/ ctx[21];

    	function switch_props(ctx) {
    		let switch_instance_props = {};

    		for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
    			switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    		}

    		return {
    			props: switch_instance_props,
    			$$inline: true
    		};
    	}

    	if (switch_value) {
    		switch_instance = new switch_value(switch_props());
    	}

    	const block = {
    		key: key_1,
    		first: null,
    		c: function create() {
    			first = empty();
    			if (switch_instance) create_component(switch_instance.$$.fragment);
    			switch_instance_anchor = empty();
    			this.first = first;
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, first, anchor);

    			if (switch_instance) {
    				mount_component(switch_instance, target, anchor);
    			}

    			insert_dev(target, switch_instance_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const switch_instance_changes = (dirty & /*scoped, scopedSync, layout*/ 21)
    			? get_spread_update(switch_instance_spread_levels, [
    					dirty & /*scoped*/ 1 && { scoped: /*scoped*/ ctx[0] },
    					dirty & /*scopedSync*/ 4 && { scopedSync: /*scopedSync*/ ctx[2] },
    					dirty & /*layout*/ 16 && get_spread_object(/*layout*/ ctx[4].param || {})
    				])
    			: {};

    			if (switch_value !== (switch_value = /*componentFile*/ ctx[21])) {
    				if (switch_instance) {
    					group_outros();
    					const old_component = switch_instance;

    					transition_out(old_component.$$.fragment, 1, 0, () => {
    						destroy_component(old_component, 1);
    					});

    					check_outros();
    				}

    				if (switch_value) {
    					switch_instance = new switch_value(switch_props());
    					create_component(switch_instance.$$.fragment);
    					transition_in(switch_instance.$$.fragment, 1);
    					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
    				} else {
    					switch_instance = null;
    				}
    			} else if (switch_value) {
    				switch_instance.$set(switch_instance_changes);
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			if (switch_instance) transition_in(switch_instance.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(first);
    			if (detaching) detach_dev(switch_instance_anchor);
    			if (switch_instance) destroy_component(switch_instance, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block$1.name,
    		type: "each",
    		source: "(124:4) {#each [$context] as { component, componentFile }",
    		ctx
    	});

    	return block;
    }

    // (154:0) {#if !parentElement}
    function create_if_block(ctx) {
    	let span;
    	let setParent_action;
    	let mounted;
    	let dispose;

    	const block = {
    		c: function create() {
    			span = element("span");
    			add_location(span, file$1, 154, 2, 4550);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, span, anchor);

    			if (!mounted) {
    				dispose = action_destroyer(setParent_action = /*setParent*/ ctx[8].call(null, span));
    				mounted = true;
    			}
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(span);
    			mounted = false;
    			dispose();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block.name,
    		type: "if",
    		source: "(154:0) {#if !parentElement}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$1(ctx) {
    	let t;
    	let if_block1_anchor;
    	let current;
    	let if_block0 = /*$context*/ ctx[6] && create_if_block_1(ctx);
    	let if_block1 = !/*parentElement*/ ctx[3] && create_if_block(ctx);

    	const block = {
    		c: function create() {
    			if (if_block0) if_block0.c();
    			t = space();
    			if (if_block1) if_block1.c();
    			if_block1_anchor = empty();
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			if (if_block0) if_block0.m(target, anchor);
    			insert_dev(target, t, anchor);
    			if (if_block1) if_block1.m(target, anchor);
    			insert_dev(target, if_block1_anchor, anchor);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (/*$context*/ ctx[6]) {
    				if (if_block0) {
    					if_block0.p(ctx, dirty);

    					if (dirty & /*$context*/ 64) {
    						transition_in(if_block0, 1);
    					}
    				} else {
    					if_block0 = create_if_block_1(ctx);
    					if_block0.c();
    					transition_in(if_block0, 1);
    					if_block0.m(t.parentNode, t);
    				}
    			} else if (if_block0) {
    				group_outros();

    				transition_out(if_block0, 1, 1, () => {
    					if_block0 = null;
    				});

    				check_outros();
    			}

    			if (!/*parentElement*/ ctx[3]) {
    				if (if_block1) ; else {
    					if_block1 = create_if_block(ctx);
    					if_block1.c();
    					if_block1.m(if_block1_anchor.parentNode, if_block1_anchor);
    				}
    			} else if (if_block1) {
    				if_block1.d(1);
    				if_block1 = null;
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(if_block0);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(if_block0);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (if_block0) if_block0.d(detaching);
    			if (detaching) detach_dev(t);
    			if (if_block1) if_block1.d(detaching);
    			if (detaching) detach_dev(if_block1_anchor);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$1.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$1($$self, $$props, $$invalidate) {
    	let $route;
    	let $context;
    	validate_store(route, "route");
    	component_subscribe($$self, route, $$value => $$invalidate(15, $route = $$value));
    	let { layouts = [] } = $$props;
    	let { scoped = {} } = $$props;
    	let { Decorator = null } = $$props;
    	let { childOfDecorator = false } = $$props;
    	let { isRoot = false } = $$props;
    	let scopedSync = {};
    	let layoutIsUpdated = false;
    	let isDecorator = false;

    	/** @type {HTMLElement} */
    	let parentElement;

    	/** @type {LayoutOrDecorator} */
    	let layout = null;

    	/** @type {LayoutOrDecorator} */
    	let lastLayout = null;

    	/** @type {LayoutOrDecorator[]} */
    	let remainingLayouts = [];

    	const context = writable(null);
    	validate_store(context, "context");
    	component_subscribe($$self, context, value => $$invalidate(6, $context = value));

    	/** @type {import("svelte/store").Writable<Context>} */
    	const parentContextStore = getContext("routify");

    	isDecorator = Decorator && !childOfDecorator;
    	setContext("routify", context);

    	/** @param {HTMLElement} el */
    	function setParent(el) {
    		$$invalidate(3, parentElement = el.parentElement);
    	}

    	/** @param {SvelteComponent} componentFile */
    	function onComponentLoaded(componentFile) {
    		/** @type {Context} */
    		const parentContext = get_store_value(parentContextStore);

    		$$invalidate(2, scopedSync = { ...scoped });
    		$$invalidate(14, lastLayout = layout);
    		if (remainingLayouts.length === 0) onLastComponentLoaded();

    		const ctx = {
    			layout: isDecorator ? parentContext.layout : layout,
    			component: layout,
    			route: $route,
    			componentFile,
    			child: isDecorator
    			? parentContext.child
    			: get_store_value(context) && get_store_value(context).child
    		};

    		context.set(ctx);
    		if (isRoot) rootContext.set(ctx);

    		if (parentContext && !isDecorator) parentContextStore.update(store => {
    			store.child = layout || store.child;
    			return store;
    		});
    	}

    	/**  @param {LayoutOrDecorator} layout */
    	function setComponent(layout) {
    		let PendingComponent = layout.component();
    		if (PendingComponent instanceof Promise) PendingComponent.then(onComponentLoaded); else onComponentLoaded(PendingComponent);
    	}

    	async function onLastComponentLoaded() {
    		afterPageLoad._hooks.forEach(hook => hook(layout.api));
    		await tick();
    		handleScroll(parentElement);

    		if (!window["routify"].appLoaded) {
    			const pagePath = $context.component.path;
    			const routePath = $route.path;
    			const isOnCurrentRoute = pagePath === routePath; //maybe we're getting redirected

    			// Let everyone know the last child has rendered
    			if (!window["routify"].stopAutoReady && isOnCurrentRoute) {
    				onAppLoaded({ path: pagePath, metatags });
    			}
    		}
    	}

    	const writable_props = ["layouts", "scoped", "Decorator", "childOfDecorator", "isRoot"];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<Route> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Route", $$slots, []);

    	$$self.$set = $$props => {
    		if ("layouts" in $$props) $$invalidate(9, layouts = $$props.layouts);
    		if ("scoped" in $$props) $$invalidate(0, scoped = $$props.scoped);
    		if ("Decorator" in $$props) $$invalidate(1, Decorator = $$props.Decorator);
    		if ("childOfDecorator" in $$props) $$invalidate(10, childOfDecorator = $$props.childOfDecorator);
    		if ("isRoot" in $$props) $$invalidate(11, isRoot = $$props.isRoot);
    	};

    	$$self.$capture_state = () => ({
    		getContext,
    		setContext,
    		onDestroy,
    		onMount,
    		tick,
    		writable,
    		get: get_store_value,
    		metatags,
    		afterPageLoad,
    		route,
    		routes,
    		rootContext,
    		handleScroll,
    		onAppLoaded,
    		layouts,
    		scoped,
    		Decorator,
    		childOfDecorator,
    		isRoot,
    		scopedSync,
    		layoutIsUpdated,
    		isDecorator,
    		parentElement,
    		layout,
    		lastLayout,
    		remainingLayouts,
    		context,
    		parentContextStore,
    		setParent,
    		onComponentLoaded,
    		setComponent,
    		onLastComponentLoaded,
    		$route,
    		$context
    	});

    	$$self.$inject_state = $$props => {
    		if ("layouts" in $$props) $$invalidate(9, layouts = $$props.layouts);
    		if ("scoped" in $$props) $$invalidate(0, scoped = $$props.scoped);
    		if ("Decorator" in $$props) $$invalidate(1, Decorator = $$props.Decorator);
    		if ("childOfDecorator" in $$props) $$invalidate(10, childOfDecorator = $$props.childOfDecorator);
    		if ("isRoot" in $$props) $$invalidate(11, isRoot = $$props.isRoot);
    		if ("scopedSync" in $$props) $$invalidate(2, scopedSync = $$props.scopedSync);
    		if ("layoutIsUpdated" in $$props) layoutIsUpdated = $$props.layoutIsUpdated;
    		if ("isDecorator" in $$props) $$invalidate(13, isDecorator = $$props.isDecorator);
    		if ("parentElement" in $$props) $$invalidate(3, parentElement = $$props.parentElement);
    		if ("layout" in $$props) $$invalidate(4, layout = $$props.layout);
    		if ("lastLayout" in $$props) $$invalidate(14, lastLayout = $$props.lastLayout);
    		if ("remainingLayouts" in $$props) $$invalidate(5, remainingLayouts = $$props.remainingLayouts);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	$$self.$$.update = () => {
    		if ($$self.$$.dirty & /*isDecorator, Decorator, layouts*/ 8706) {
    			 if (isDecorator) {
    				const decoratorLayout = {
    					component: () => Decorator,
    					path: `${layouts[0].path}__decorator`,
    					isDecorator: true
    				};

    				$$invalidate(9, layouts = [decoratorLayout, ...layouts]);
    			}
    		}

    		if ($$self.$$.dirty & /*layouts*/ 512) {
    			 $$invalidate(4, [layout, ...remainingLayouts] = layouts, layout, ((($$invalidate(5, remainingLayouts), $$invalidate(9, layouts)), $$invalidate(13, isDecorator)), $$invalidate(1, Decorator)));
    		}

    		if ($$self.$$.dirty & /*lastLayout, layout*/ 16400) {
    			 layoutIsUpdated = !lastLayout || lastLayout.path !== layout.path;
    		}

    		if ($$self.$$.dirty & /*layout*/ 16) {
    			 setComponent(layout);
    		}
    	};

    	return [
    		scoped,
    		Decorator,
    		scopedSync,
    		parentElement,
    		layout,
    		remainingLayouts,
    		$context,
    		context,
    		setParent,
    		layouts,
    		childOfDecorator,
    		isRoot
    	];
    }

    class Route extends SvelteComponentDev {
    	constructor(options) {
    		super(options);

    		init(this, options, instance$1, create_fragment$1, safe_not_equal, {
    			layouts: 9,
    			scoped: 0,
    			Decorator: 1,
    			childOfDecorator: 10,
    			isRoot: 11
    		});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Route",
    			options,
    			id: create_fragment$1.name
    		});
    	}

    	get layouts() {
    		throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set layouts(value) {
    		throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get scoped() {
    		throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set scoped(value) {
    		throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get Decorator() {
    		throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set Decorator(value) {
    		throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get childOfDecorator() {
    		throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set childOfDecorator(value) {
    		throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get isRoot() {
    		throw new Error("<Route>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set isRoot(value) {
    		throw new Error("<Route>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    function init$1(routes, callback) {
      /** @type { ClientNode | false } */
      let lastRoute = false;

      function updatePage(proxyToUrl, shallow) {
        const url = proxyToUrl || currentLocation();
        const route$1 = urlToRoute(url);
        const currentRoute = shallow && urlToRoute(currentLocation());
        const contextRoute = currentRoute || route$1;
        const layouts = [...contextRoute.layouts, route$1];
        if (lastRoute) delete lastRoute.last; //todo is a page component the right place for the previous route?
        route$1.last = lastRoute;
        lastRoute = route$1;

        //set the route in the store
        if (!proxyToUrl)
          urlRoute.set(route$1);
        route.set(route$1);

        //run callback in Router.svelte
        callback(layouts);
      }

      const destroy = createEventListeners(updatePage);

      return { updatePage, destroy }
    }

    /**
     * svelte:window events doesn't work on refresh
     * @param {Function} updatePage
     */
    function createEventListeners(updatePage) {
    ['pushState', 'replaceState'].forEach(eventName => {
        const fn = history[eventName];
        history[eventName] = async function (state = {}, title, url) {
          const { id, path, params } = get_store_value(route);
          state = { id, path, params, ...state };
          const event = new Event(eventName.toLowerCase());
          Object.assign(event, { state, title, url });

          if (await runHooksBeforeUrlChange(event)) {
            fn.apply(this, [state, title, url]);
            return dispatchEvent(event)
          }
        };
      });

      let _ignoreNextPop = false;

      const listeners = {
        click: handleClick,
        pushstate: () => updatePage(),
        replacestate: () => updatePage(),
        popstate: async event => {
          if (_ignoreNextPop)
            _ignoreNextPop = false;
          else {
            if (await runHooksBeforeUrlChange(event)) {
              updatePage();
            } else {
              _ignoreNextPop = true;
              event.preventDefault();
              history.go(1);
            }
          }
        },
      };

      Object.entries(listeners).forEach(args => addEventListener(...args));

      const unregister = () => {
        Object.entries(listeners).forEach(args => removeEventListener(...args));
      };

      return unregister
    }

    function handleClick(event) {
      const el = event.target.closest('a');
      const href = el && el.getAttribute('href');

      if (
        event.ctrlKey ||
        event.metaKey ||
        event.altKey ||
        event.shiftKey ||
        event.button ||
        event.defaultPrevented
      )
        return
      if (!href || el.target || el.host !== location.host) return

      event.preventDefault();
      history.pushState({}, '', href);
    }

    async function runHooksBeforeUrlChange(event) {
      const route$1 = get_store_value(route);
      for (const hook of beforeUrlChange._hooks.filter(Boolean)) {
        // return false if the hook returns false
        const result = await hook(event, route$1); //todo remove route from hook. Its API Can be accessed as $page
        if (!result) return false
      }
      return true
    }

    /* node_modules\@sveltech\routify\runtime\Router.svelte generated by Svelte v3.24.0 */

    const { Object: Object_1$1 } = globals;

    // (64:0) {#if layouts && $route !== null}
    function create_if_block$1(ctx) {
    	let route_1;
    	let current;

    	route_1 = new Route({
    			props: {
    				layouts: /*layouts*/ ctx[0],
    				isRoot: true
    			},
    			$$inline: true
    		});

    	const block = {
    		c: function create() {
    			create_component(route_1.$$.fragment);
    		},
    		m: function mount(target, anchor) {
    			mount_component(route_1, target, anchor);
    			current = true;
    		},
    		p: function update(ctx, dirty) {
    			const route_1_changes = {};
    			if (dirty & /*layouts*/ 1) route_1_changes.layouts = /*layouts*/ ctx[0];
    			route_1.$set(route_1_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(route_1.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(route_1.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(route_1, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$1.name,
    		type: "if",
    		source: "(64:0) {#if layouts && $route !== null}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$2(ctx) {
    	let t;
    	let prefetcher;
    	let current;
    	let if_block = /*layouts*/ ctx[0] && /*$route*/ ctx[1] !== null && create_if_block$1(ctx);
    	prefetcher = new Prefetcher({ $$inline: true });

    	const block = {
    		c: function create() {
    			if (if_block) if_block.c();
    			t = space();
    			create_component(prefetcher.$$.fragment);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			if (if_block) if_block.m(target, anchor);
    			insert_dev(target, t, anchor);
    			mount_component(prefetcher, target, anchor);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (/*layouts*/ ctx[0] && /*$route*/ ctx[1] !== null) {
    				if (if_block) {
    					if_block.p(ctx, dirty);

    					if (dirty & /*layouts, $route*/ 3) {
    						transition_in(if_block, 1);
    					}
    				} else {
    					if_block = create_if_block$1(ctx);
    					if_block.c();
    					transition_in(if_block, 1);
    					if_block.m(t.parentNode, t);
    				}
    			} else if (if_block) {
    				group_outros();

    				transition_out(if_block, 1, 1, () => {
    					if_block = null;
    				});

    				check_outros();
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(if_block);
    			transition_in(prefetcher.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(if_block);
    			transition_out(prefetcher.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (if_block) if_block.d(detaching);
    			if (detaching) detach_dev(t);
    			destroy_component(prefetcher, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$2.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$2($$self, $$props, $$invalidate) {
    	let $route;
    	validate_store(route, "route");
    	component_subscribe($$self, route, $$value => $$invalidate(1, $route = $$value));
    	let { routes: routes$1 } = $$props;
    	let { config = {} } = $$props;
    	let layouts;
    	let navigator;
    	window.routify = window.routify || {};
    	window.routify.inBrowser = !window.navigator.userAgent.match("jsdom");

    	Object.entries(config).forEach(([key, value]) => {
    		defaultConfig[key] = value;
    	});

    	suppressWarnings();
    	const updatePage = (...args) => navigator && navigator.updatePage(...args);
    	setContext("routifyupdatepage", updatePage);
    	const callback = res => $$invalidate(0, layouts = res);

    	const cleanup = () => {
    		if (!navigator) return;
    		navigator.destroy();
    		navigator = null;
    	};

    	let initTimeout = null;

    	// init is async to prevent a horrible bug that completely disable reactivity
    	// in the host component -- something like the component's update function is
    	// called before its fragment is created, and since the component is then seen
    	// as already dirty, it is never scheduled for update again, and remains dirty
    	// forever... I failed to isolate the precise conditions for the bug, but the
    	// faulty update is triggered by a change in the route store, and so offseting
    	// store initialization by one tick gives the host component some time to
    	// create its fragment. The root cause it probably a bug in Svelte with deeply
    	// intertwinned store and reactivity.
    	const doInit = () => {
    		clearTimeout(initTimeout);

    		initTimeout = setTimeout(() => {
    			cleanup();
    			navigator = init$1(routes$1, callback);
    			routes.set(routes$1);
    			navigator.updatePage();
    		});
    	};

    	onDestroy(cleanup);
    	const writable_props = ["routes", "config"];

    	Object_1$1.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<Router> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Router", $$slots, []);

    	$$self.$set = $$props => {
    		if ("routes" in $$props) $$invalidate(2, routes$1 = $$props.routes);
    		if ("config" in $$props) $$invalidate(3, config = $$props.config);
    	};

    	$$self.$capture_state = () => ({
    		setContext,
    		onDestroy,
    		Route,
    		Prefetcher,
    		init: init$1,
    		route,
    		routesStore: routes,
    		prefetchPath,
    		suppressWarnings,
    		defaultConfig,
    		routes: routes$1,
    		config,
    		layouts,
    		navigator,
    		updatePage,
    		callback,
    		cleanup,
    		initTimeout,
    		doInit,
    		$route
    	});

    	$$self.$inject_state = $$props => {
    		if ("routes" in $$props) $$invalidate(2, routes$1 = $$props.routes);
    		if ("config" in $$props) $$invalidate(3, config = $$props.config);
    		if ("layouts" in $$props) $$invalidate(0, layouts = $$props.layouts);
    		if ("navigator" in $$props) navigator = $$props.navigator;
    		if ("initTimeout" in $$props) initTimeout = $$props.initTimeout;
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	$$self.$$.update = () => {
    		if ($$self.$$.dirty & /*routes*/ 4) {
    			 if (routes$1) doInit();
    		}
    	};

    	return [layouts, $route, routes$1, config];
    }

    class Router extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$2, create_fragment$2, safe_not_equal, { routes: 2, config: 3 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Router",
    			options,
    			id: create_fragment$2.name
    		});

    		const { ctx } = this.$$;
    		const props = options.props || {};

    		if (/*routes*/ ctx[2] === undefined && !("routes" in props)) {
    			console.warn("<Router> was created without expected prop 'routes'");
    		}
    	}

    	get routes() {
    		throw new Error("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set routes(value) {
    		throw new Error("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	get config() {
    		throw new Error("<Router>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set config(value) {
    		throw new Error("<Router>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /** 
     * Node payload
     * @typedef {Object} NodePayload
     * @property {RouteNode=} file current node
     * @property {RouteNode=} parent parent of the current node
     * @property {StateObject=} state state shared by every node in the walker
     * @property {Object=} scope scope inherited by descendants in the scope
     *
     * State Object
     * @typedef {Object} StateObject
     * @prop {TreePayload=} treePayload payload from the tree
     * 
     * Node walker proxy
     * @callback NodeWalkerProxy
     * @param {NodePayload} NodePayload
     */


    /**
     * Node middleware
     * @description Walks through the nodes of a tree
     * @example middleware = createNodeMiddleware(payload => {payload.file.name = 'hello'})(treePayload))
     * @param {NodeWalkerProxy} fn 
     */
    function createNodeMiddleware(fn) {

        /**    
         * NodeMiddleware payload receiver
         * @param {TreePayload} payload
         */
        const inner = async function execute(payload) {
            return await nodeMiddleware(payload.tree, fn, { state: { treePayload: payload } })
        };

        /**    
         * NodeMiddleware sync payload receiver
         * @param {TreePayload} payload
         */
        inner.sync = function executeSync(payload) {
            return nodeMiddlewareSync(payload.tree, fn, { state: { treePayload: payload } })
        };

        return inner
    }

    /**
     * Node walker
     * @param {Object} file mutable file
     * @param {NodeWalkerProxy} fn function to be called for each file
     * @param {NodePayload=} payload 
     */
    async function nodeMiddleware(file, fn, payload) {
        const { state, scope, parent } = payload || {};
        payload = {
            file,
            parent,
            state: state || {},            //state is shared by all files in the walk
            scope: clone(scope || {}),     //scope is inherited by descendants
        };

        await fn(payload);

        if (file.children) {
            payload.parent = file;
            await Promise.all(file.children.map(_file => nodeMiddleware(_file, fn, payload)));
        }
        return payload
    }

    /**
     * Node walker (sync version)
     * @param {Object} file mutable file
     * @param {NodeWalkerProxy} fn function to be called for each file
     * @param {NodePayload=} payload 
     */
    function nodeMiddlewareSync(file, fn, payload) {
        const { state, scope, parent } = payload || {};
        payload = {
            file,
            parent,
            state: state || {},            //state is shared by all files in the walk
            scope: clone(scope || {}),     //scope is inherited by descendants
        };

        fn(payload);

        if (file.children) {
            payload.parent = file;
            file.children.map(_file => nodeMiddlewareSync(_file, fn, payload));
        }
        return payload
    }


    /**
     * Clone with JSON
     * @param {T} obj 
     * @returns {T} JSON cloned object
     * @template T
     */
    function clone(obj) { return JSON.parse(JSON.stringify(obj)) }



    var middleware = { createNodeMiddleware, nodeMiddleware, nodeMiddlewareSync };
    var middleware_1 = middleware.createNodeMiddleware;

    const setRegex = middleware_1(({ file }) => {
        if (file.isPage || file.isFallback)
            file.regex = pathToRegex(file.path, file.isFallback);
    });
    const setParamKeys = middleware_1(({ file }) => {
        file.paramKeys = pathToParamKeys(file.path);
    });

    const setShortPath = middleware_1(({ file }) => {
        if (file.isFallback || file.isIndex)
            file.shortPath = file.path.replace(/\/[^/]+$/, '');
        else file.shortPath = file.path;
    });
    const setRank = middleware_1(({ file }) => {
        file.ranking = pathToRank(file);
    });


    // todo delete?
    const addMetaChildren = middleware_1(({ file }) => {
        const node = file;
        const metaChildren = file.meta && file.meta.children || [];
        if (metaChildren.length) {
            node.children = node.children || [];
            node.children.push(...metaChildren.map(meta => ({ isMeta: true, ...meta, meta })));
        }
    });

    const setIsIndexable = middleware_1(payload => {
        const { file } = payload;
        const { isLayout, isFallback, meta } = file;
        file.isIndexable = !isLayout && !isFallback && meta.index !== false;
        file.isNonIndexable = !file.isIndexable;
    });


    const assignRelations = middleware_1(({ file, parent }) => {
        Object.defineProperty(file, 'parent', { get: () => parent });
        Object.defineProperty(file, 'nextSibling', { get: () => _getSibling(file, 1) });
        Object.defineProperty(file, 'prevSibling', { get: () => _getSibling(file, -1) });
        Object.defineProperty(file, 'lineage', { get: () => _getLineage(parent) });
    });

    function _getLineage(node, lineage = []){
        if(node){
            lineage.unshift(node);
            _getLineage(node.parent, lineage);
        }
        return lineage
    }

    /**
     * 
     * @param {RouteNode} file 
     * @param {Number} direction 
     */
    function _getSibling(file, direction) {
        if (!file.root) {
            const siblings = file.parent.children.filter(c => c.isIndexable);
            const index = siblings.indexOf(file);
            return siblings[index + direction]
        }
    }

    const assignIndex = middleware_1(({ file, parent }) => {
        if (file.isIndex) Object.defineProperty(parent, 'index', { get: () => file });
        if (file.isLayout)
            Object.defineProperty(parent, 'layout', { get: () => file });
    });

    const assignLayout = middleware_1(({ file, scope }) => {
        Object.defineProperty(file, 'layouts', { get: () => getLayouts(file) });
        function getLayouts(file) {
            const { parent } = file;
            const layout = parent && parent.layout;
            const isReset = layout && layout.isReset;
            const layouts = (parent && !isReset && getLayouts(parent)) || [];
            if (layout) layouts.push(layout);
            return layouts
        }
    });


    const createFlatList = treePayload => {
        middleware_1(payload => {
            if (payload.file.isPage || payload.file.isFallback)
            payload.state.treePayload.routes.push(payload.file);
        }).sync(treePayload);    
        treePayload.routes.sort((c, p) => (c.ranking >= p.ranking ? -1 : 1));
    };

    const setPrototype = middleware_1(({ file }) => {
        const Prototype = file.root
            ? Root
            : file.children
                ? file.isFile ? PageDir : Dir
                : file.isReset
                    ? Reset
                    : file.isLayout
                        ? Layout
                        : file.isFallback
                            ? Fallback
                            : Page;
        Object.setPrototypeOf(file, Prototype.prototype);

        function Layout() { }
        function Dir() { }
        function Fallback() { }
        function Page() { }
        function PageDir() { }
        function Reset() { }
        function Root() { }
    });

    var miscPlugins = /*#__PURE__*/Object.freeze({
        __proto__: null,
        setRegex: setRegex,
        setParamKeys: setParamKeys,
        setShortPath: setShortPath,
        setRank: setRank,
        addMetaChildren: addMetaChildren,
        setIsIndexable: setIsIndexable,
        assignRelations: assignRelations,
        assignIndex: assignIndex,
        assignLayout: assignLayout,
        createFlatList: createFlatList,
        setPrototype: setPrototype
    });

    const assignAPI = middleware_1(({ file }) => {
        file.api = new ClientApi(file);
    });

    class ClientApi {
        constructor(file) {
            this.__file = file;
            Object.defineProperty(this, '__file', { enumerable: false });
            this.isMeta = !!file.isMeta;
            this.path = file.path;
            this.title = _prettyName(file);
            this.meta = file.meta;
        }

        get parent() { return !this.__file.root && this.__file.parent.api }
        get children() {
            return (this.__file.children || this.__file.isLayout && this.__file.parent.children || [])
                .filter(c => !c.isNonIndexable)
                .sort((a, b) => {
                    if(a.isMeta && b.isMeta) return 0
                    a = (a.meta.index || a.meta.title || a.path).toString();
                    b = (b.meta.index || b.meta.title || b.path).toString();
                    return a.localeCompare((b), undefined, { numeric: true, sensitivity: 'base' })
                })
                .map(({ api }) => api)
        }
        get next() { return _navigate(this, +1) }
        get prev() { return _navigate(this, -1) }
        preload() {
            this.__file.layouts.forEach(file => file.component());
            this.__file.component(); 
        }
    }

    function _navigate(node, direction) {
        if (!node.__file.root) {
            const siblings = node.parent.children;
            const index = siblings.indexOf(node);
            return node.parent.children[index + direction]
        }
    }


    function _prettyName(file) {
        if (typeof file.meta.title !== 'undefined') return file.meta.title
        else return (file.shortPath || file.path)
            .split('/')
            .pop()
            .replace(/-/g, ' ')
    }

    const plugins = {...miscPlugins, assignAPI};

    function buildClientTree(tree) {
      const order = [
        // pages
        "setParamKeys", //pages only
        "setRegex", //pages only
        "setShortPath", //pages only
        "setRank", //pages only
        "assignLayout", //pages only,
        // all
        "setPrototype",
        "addMetaChildren",
        "assignRelations", //all (except meta components?)
        "setIsIndexable", //all
        "assignIndex", //all
        "assignAPI", //all
        // routes
        "createFlatList"
      ];

      const payload = { tree, routes: [] };
      for (let name of order) {
        const syncFn = plugins[name].sync || plugins[name];
        syncFn(payload);
      }
      return payload
    }

    /* src\components\landing-page\Nav.svelte generated by Svelte v3.24.0 */
    const file$2 = "src\\components\\landing-page\\Nav.svelte";

    function create_fragment$3(ctx) {
    	let header;
    	let div0;
    	let a0;
    	let img;
    	let img_src_value;
    	let a0_href_value;
    	let t0;
    	let div1;
    	let a1;
    	let t1;
    	let a1_href_value;
    	let t2;
    	let a2;
    	let t3;
    	let a2_href_value;

    	const block = {
    		c: function create() {
    			header = element("header");
    			div0 = element("div");
    			a0 = element("a");
    			img = element("img");
    			t0 = space();
    			div1 = element("div");
    			a1 = element("a");
    			t1 = text("Masuk");
    			t2 = space();
    			a2 = element("a");
    			t3 = text("Daftar");
    			if (img.src !== (img_src_value = "./assets/logo.png")) attr_dev(img, "src", img_src_value);
    			attr_dev(img, "alt", "logo");
    			attr_dev(img, "class", "svelte-16gnj6n");
    			add_location(img, file$2, 72, 6, 1324);
    			attr_dev(a0, "href", a0_href_value = /*$url*/ ctx[0]("/index"));
    			attr_dev(a0, "class", "svelte-16gnj6n");
    			add_location(a0, file$2, 71, 4, 1291);
    			attr_dev(div0, "class", "logo");
    			add_location(div0, file$2, 70, 2, 1267);
    			attr_dev(a1, "href", a1_href_value = /*$url*/ ctx[0]("/accounts/login"));
    			attr_dev(a1, "class", "login svelte-16gnj6n");
    			add_location(a1, file$2, 76, 4, 1416);
    			attr_dev(a2, "href", a2_href_value = /*$url*/ ctx[0]("/accounts/registration"));
    			attr_dev(a2, "class", "registration svelte-16gnj6n");
    			add_location(a2, file$2, 77, 4, 1479);
    			attr_dev(div1, "class", "accounts svelte-16gnj6n");
    			add_location(div1, file$2, 75, 2, 1388);
    			attr_dev(header, "class", "navigation svelte-16gnj6n");
    			add_location(header, file$2, 69, 0, 1236);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, header, anchor);
    			append_dev(header, div0);
    			append_dev(div0, a0);
    			append_dev(a0, img);
    			append_dev(header, t0);
    			append_dev(header, div1);
    			append_dev(div1, a1);
    			append_dev(a1, t1);
    			append_dev(div1, t2);
    			append_dev(div1, a2);
    			append_dev(a2, t3);
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*$url*/ 1 && a0_href_value !== (a0_href_value = /*$url*/ ctx[0]("/index"))) {
    				attr_dev(a0, "href", a0_href_value);
    			}

    			if (dirty & /*$url*/ 1 && a1_href_value !== (a1_href_value = /*$url*/ ctx[0]("/accounts/login"))) {
    				attr_dev(a1, "href", a1_href_value);
    			}

    			if (dirty & /*$url*/ 1 && a2_href_value !== (a2_href_value = /*$url*/ ctx[0]("/accounts/registration"))) {
    				attr_dev(a2, "href", a2_href_value);
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(header);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$3.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$3($$self, $$props, $$invalidate) {
    	let $url;
    	validate_store(url, "url");
    	component_subscribe($$self, url, $$value => $$invalidate(0, $url = $$value));
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<Nav> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Nav", $$slots, []);
    	$$self.$capture_state = () => ({ url, $url });
    	return [$url];
    }

    class Nav extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$3, create_fragment$3, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Nav",
    			options,
    			id: create_fragment$3.name
    		});
    	}
    }

    /* src\components\landing-page\Footer.svelte generated by Svelte v3.24.0 */

    const file$3 = "src\\components\\landing-page\\Footer.svelte";

    function create_fragment$4(ctx) {
    	let footer;
    	let div8;
    	let div4;
    	let img0;
    	let img0_src_value;
    	let t0;
    	let p;
    	let t2;
    	let div3;
    	let div0;
    	let a0;
    	let img1;
    	let img1_src_value;
    	let t3;
    	let div1;
    	let a1;
    	let img2;
    	let img2_src_value;
    	let t4;
    	let div2;
    	let a2;
    	let img3;
    	let img3_src_value;
    	let t5;
    	let div5;
    	let h60;
    	let t7;
    	let ul0;
    	let li0;
    	let a3;
    	let t9;
    	let li1;
    	let a4;
    	let t11;
    	let div6;
    	let h61;
    	let t13;
    	let ul1;
    	let li2;
    	let a5;
    	let t15;
    	let li3;
    	let a6;
    	let t17;
    	let li4;
    	let a7;
    	let t19;
    	let div7;
    	let h62;
    	let t21;
    	let ul2;
    	let li5;
    	let a8;
    	let t23;
    	let li6;
    	let a9;
    	let t25;
    	let h5;

    	const block = {
    		c: function create() {
    			footer = element("footer");
    			div8 = element("div");
    			div4 = element("div");
    			img0 = element("img");
    			t0 = space();
    			p = element("p");
    			p.textContent = "Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident doloremque dolore obcaecati dignissimos reprehenderit, assumenda repellat molestiae fugit quas at. Quod nobis consectetur vitae sed. At suscipit enim maxime a.";
    			t2 = space();
    			div3 = element("div");
    			div0 = element("div");
    			a0 = element("a");
    			img1 = element("img");
    			t3 = space();
    			div1 = element("div");
    			a1 = element("a");
    			img2 = element("img");
    			t4 = space();
    			div2 = element("div");
    			a2 = element("a");
    			img3 = element("img");
    			t5 = space();
    			div5 = element("div");
    			h60 = element("h6");
    			h60.textContent = "About";
    			t7 = space();
    			ul0 = element("ul");
    			li0 = element("li");
    			a3 = element("a");
    			a3.textContent = "About Pateron";
    			t9 = space();
    			li1 = element("li");
    			a4 = element("a");
    			a4.textContent = "Carer";
    			t11 = space();
    			div6 = element("div");
    			h61 = element("h6");
    			h61.textContent = "Konten";
    			t13 = space();
    			ul1 = element("ul");
    			li2 = element("li");
    			a5 = element("a");
    			a5.textContent = "Program";
    			t15 = space();
    			li3 = element("li");
    			a6 = element("a");
    			a6.textContent = "Fitur";
    			t17 = space();
    			li4 = element("li");
    			a7 = element("a");
    			a7.textContent = "Manfaat";
    			t19 = space();
    			div7 = element("div");
    			h62 = element("h6");
    			h62.textContent = "Customer Service";
    			t21 = space();
    			ul2 = element("ul");
    			li5 = element("li");
    			a8 = element("a");
    			a8.textContent = "FAQ";
    			t23 = space();
    			li6 = element("li");
    			a9 = element("a");
    			a9.textContent = "Customer Service";
    			t25 = space();
    			h5 = element("h5");
    			h5.textContent = "Copyright 2020";
    			if (img0.src !== (img0_src_value = "./assets/logo-2.png")) attr_dev(img0, "src", img0_src_value);
    			attr_dev(img0, "alt", "logo-2");
    			attr_dev(img0, "height", "40px");
    			add_location(img0, file$3, 63, 6, 1068);
    			attr_dev(p, "class", "has-text-left");
    			add_location(p, file$3, 64, 6, 1134);
    			if (img1.src !== (img1_src_value = "./assets/line.png")) attr_dev(img1, "src", img1_src_value);
    			attr_dev(img1, "alt", "line-logo");
    			attr_dev(img1, "class", "svelte-r59vgk");
    			add_location(img1, file$3, 70, 12, 1527);
    			attr_dev(a0, "href", "#");
    			add_location(a0, file$3, 69, 10, 1501);
    			attr_dev(div0, "class", "column svelte-r59vgk");
    			add_location(div0, file$3, 68, 8, 1469);
    			if (img2.src !== (img2_src_value = "./assets/instagram.png")) attr_dev(img2, "src", img2_src_value);
    			attr_dev(img2, "alt", "instagram-logo");
    			attr_dev(img2, "class", "svelte-r59vgk");
    			add_location(img2, file$3, 75, 12, 1672);
    			attr_dev(a1, "href", "#");
    			add_location(a1, file$3, 74, 10, 1646);
    			attr_dev(div1, "class", "column svelte-r59vgk");
    			add_location(div1, file$3, 73, 8, 1614);
    			if (img3.src !== (img3_src_value = "./assets/telephone.png")) attr_dev(img3, "src", img3_src_value);
    			attr_dev(img3, "alt", "telephone-logo");
    			attr_dev(img3, "class", "svelte-r59vgk");
    			add_location(img3, file$3, 80, 12, 1827);
    			attr_dev(a2, "href", "#");
    			add_location(a2, file$3, 79, 10, 1801);
    			attr_dev(div2, "class", "column svelte-r59vgk");
    			add_location(div2, file$3, 78, 8, 1769);
    			attr_dev(div3, "class", "columns is-mobile social-media svelte-r59vgk");
    			add_location(div3, file$3, 67, 6, 1415);
    			attr_dev(div4, "class", "pateron svelte-r59vgk");
    			add_location(div4, file$3, 62, 4, 1039);
    			attr_dev(h60, "class", "title is-4 svelte-r59vgk");
    			add_location(h60, file$3, 86, 6, 1978);
    			attr_dev(a3, "href", "#");
    			attr_dev(a3, "class", "svelte-r59vgk");
    			add_location(a3, file$3, 88, 12, 2037);
    			attr_dev(li0, "class", "svelte-r59vgk");
    			add_location(li0, file$3, 88, 8, 2033);
    			attr_dev(a4, "href", "#");
    			attr_dev(a4, "class", "svelte-r59vgk");
    			add_location(a4, file$3, 89, 12, 2081);
    			attr_dev(li1, "class", "svelte-r59vgk");
    			add_location(li1, file$3, 89, 8, 2077);
    			attr_dev(ul0, "class", "svelte-r59vgk");
    			add_location(ul0, file$3, 87, 6, 2019);
    			attr_dev(div5, "class", "about mt-4 svelte-r59vgk");
    			add_location(div5, file$3, 85, 4, 1946);
    			attr_dev(h61, "class", "title is-4 svelte-r59vgk");
    			add_location(h61, file$3, 93, 6, 2167);
    			attr_dev(a5, "href", "#");
    			attr_dev(a5, "class", "svelte-r59vgk");
    			add_location(a5, file$3, 95, 12, 2227);
    			attr_dev(li2, "class", "svelte-r59vgk");
    			add_location(li2, file$3, 95, 8, 2223);
    			attr_dev(a6, "href", "#");
    			attr_dev(a6, "class", "svelte-r59vgk");
    			add_location(a6, file$3, 96, 12, 2265);
    			attr_dev(li3, "class", "svelte-r59vgk");
    			add_location(li3, file$3, 96, 8, 2261);
    			attr_dev(a7, "href", "#");
    			attr_dev(a7, "class", "svelte-r59vgk");
    			add_location(a7, file$3, 97, 12, 2301);
    			attr_dev(li4, "class", "svelte-r59vgk");
    			add_location(li4, file$3, 97, 8, 2297);
    			attr_dev(ul1, "class", "svelte-r59vgk");
    			add_location(ul1, file$3, 94, 6, 2209);
    			attr_dev(div6, "class", "konten mt-4 svelte-r59vgk");
    			add_location(div6, file$3, 92, 4, 2134);
    			attr_dev(h62, "class", "title is-4 svelte-r59vgk");
    			add_location(h62, file$3, 101, 6, 2385);
    			attr_dev(a8, "href", "#");
    			attr_dev(a8, "class", "svelte-r59vgk");
    			add_location(a8, file$3, 103, 12, 2455);
    			attr_dev(li5, "class", "svelte-r59vgk");
    			add_location(li5, file$3, 103, 8, 2451);
    			attr_dev(a9, "href", "#");
    			attr_dev(a9, "class", "svelte-r59vgk");
    			add_location(a9, file$3, 104, 12, 2489);
    			attr_dev(li6, "class", "svelte-r59vgk");
    			add_location(li6, file$3, 104, 8, 2485);
    			attr_dev(ul2, "class", "svelte-r59vgk");
    			add_location(ul2, file$3, 102, 6, 2437);
    			attr_dev(div7, "class", "cs mt-4 svelte-r59vgk");
    			add_location(div7, file$3, 100, 4, 2356);
    			attr_dev(div8, "class", "footer-section svelte-r59vgk");
    			add_location(div8, file$3, 61, 2, 1005);
    			attr_dev(h5, "class", "svelte-r59vgk");
    			add_location(h5, file$3, 108, 2, 2561);
    			attr_dev(footer, "class", "svelte-r59vgk");
    			add_location(footer, file$3, 60, 0, 993);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, footer, anchor);
    			append_dev(footer, div8);
    			append_dev(div8, div4);
    			append_dev(div4, img0);
    			append_dev(div4, t0);
    			append_dev(div4, p);
    			append_dev(div4, t2);
    			append_dev(div4, div3);
    			append_dev(div3, div0);
    			append_dev(div0, a0);
    			append_dev(a0, img1);
    			append_dev(div3, t3);
    			append_dev(div3, div1);
    			append_dev(div1, a1);
    			append_dev(a1, img2);
    			append_dev(div3, t4);
    			append_dev(div3, div2);
    			append_dev(div2, a2);
    			append_dev(a2, img3);
    			append_dev(div8, t5);
    			append_dev(div8, div5);
    			append_dev(div5, h60);
    			append_dev(div5, t7);
    			append_dev(div5, ul0);
    			append_dev(ul0, li0);
    			append_dev(li0, a3);
    			append_dev(ul0, t9);
    			append_dev(ul0, li1);
    			append_dev(li1, a4);
    			append_dev(div8, t11);
    			append_dev(div8, div6);
    			append_dev(div6, h61);
    			append_dev(div6, t13);
    			append_dev(div6, ul1);
    			append_dev(ul1, li2);
    			append_dev(li2, a5);
    			append_dev(ul1, t15);
    			append_dev(ul1, li3);
    			append_dev(li3, a6);
    			append_dev(ul1, t17);
    			append_dev(ul1, li4);
    			append_dev(li4, a7);
    			append_dev(div8, t19);
    			append_dev(div8, div7);
    			append_dev(div7, h62);
    			append_dev(div7, t21);
    			append_dev(div7, ul2);
    			append_dev(ul2, li5);
    			append_dev(li5, a8);
    			append_dev(ul2, t23);
    			append_dev(ul2, li6);
    			append_dev(li6, a9);
    			append_dev(footer, t25);
    			append_dev(footer, h5);
    		},
    		p: noop,
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(footer);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$4.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$4($$self, $$props) {
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<Footer> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Footer", $$slots, []);
    	return [];
    }

    class Footer extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$4, create_fragment$4, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Footer",
    			options,
    			id: create_fragment$4.name
    		});
    	}
    }

    /* src\pages\_layout.svelte generated by Svelte v3.24.0 */

    function create_fragment$5(ctx) {
    	let nav;
    	let t0;
    	let t1;
    	let footer;
    	let current;
    	nav = new Nav({ $$inline: true });
    	const default_slot_template = /*$$slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);
    	footer = new Footer({ $$inline: true });

    	const block = {
    		c: function create() {
    			create_component(nav.$$.fragment);
    			t0 = space();
    			if (default_slot) default_slot.c();
    			t1 = space();
    			create_component(footer.$$.fragment);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			mount_component(nav, target, anchor);
    			insert_dev(target, t0, anchor);

    			if (default_slot) {
    				default_slot.m(target, anchor);
    			}

    			insert_dev(target, t1, anchor);
    			mount_component(footer, target, anchor);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && dirty & /*$$scope*/ 1) {
    					update_slot(default_slot, default_slot_template, ctx, /*$$scope*/ ctx[0], dirty, null, null);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(nav.$$.fragment, local);
    			transition_in(default_slot, local);
    			transition_in(footer.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(nav.$$.fragment, local);
    			transition_out(default_slot, local);
    			transition_out(footer.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(nav, detaching);
    			if (detaching) detach_dev(t0);
    			if (default_slot) default_slot.d(detaching);
    			if (detaching) detach_dev(t1);
    			destroy_component(footer, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$5.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$5($$self, $$props, $$invalidate) {
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<Layout> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Layout", $$slots, ['default']);

    	$$self.$set = $$props => {
    		if ("$$scope" in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	$$self.$capture_state = () => ({ Nav, Footer });
    	return [$$scope, $$slots];
    }

    class Layout extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$5, create_fragment$5, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Layout",
    			options,
    			id: create_fragment$5.name
    		});
    	}
    }

    /* src\pages\accounts\_reset.svelte generated by Svelte v3.24.0 */

    function create_fragment$6(ctx) {
    	let current;
    	const default_slot_template = /*$$slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			if (default_slot) default_slot.c();
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			if (default_slot) {
    				default_slot.m(target, anchor);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && dirty & /*$$scope*/ 1) {
    					update_slot(default_slot, default_slot_template, ctx, /*$$scope*/ ctx[0], dirty, null, null);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$6.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$6($$self, $$props, $$invalidate) {
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<Reset> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Reset", $$slots, ['default']);

    	$$self.$set = $$props => {
    		if ("$$scope" in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, $$slots];
    }

    class Reset extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$6, create_fragment$6, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Reset",
    			options,
    			id: create_fragment$6.name
    		});
    	}
    }

    async function post(uri, data) {
      let csrf = document.getElementById("csrf");
      let formdata = new FormData();
      formdata.append(csrf.name, csrf.value);
      for (const key in data) {
        if (data.hasOwnProperty(key)) {
          const element = data[key];
          formdata.append(key, element);
        }
      }
      let promise = await fetch(uri, {
        method: "POST",
        body: formdata,
      });
      let res = await promise.clone().json();
      csrf.name = res.csrfKey;
      csrf.value = res.csrfToken;
      return promise;
    }

    function get(uri) {
      return fetch(uri, {
        method: "GET",
      });
    }

    /* src\pages\accounts\login.svelte generated by Svelte v3.24.0 */

    const { console: console_1 } = globals;
    const file$4 = "src\\pages\\accounts\\login.svelte";

    // (85:3) {#if isError.status}
    function create_if_block_1$1(ctx) {
    	let h5;
    	let t_value = /*isError*/ ctx[3].message + "";
    	let t;

    	const block = {
    		c: function create() {
    			h5 = element("h5");
    			t = text(t_value);
    			attr_dev(h5, "class", "error svelte-1wq4wb7");
    			add_location(h5, file$4, 85, 4, 1751);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h5, anchor);
    			append_dev(h5, t);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*isError*/ 8 && t_value !== (t_value = /*isError*/ ctx[3].message + "")) set_data_dev(t, t_value);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h5);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block_1$1.name,
    		type: "if",
    		source: "(85:3) {#if isError.status}",
    		ctx
    	});

    	return block;
    }

    // (92:4) {:else}
    function create_else_block(ctx) {
    	let t;

    	const block = {
    		c: function create() {
    			t = text("Login");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, t, anchor);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block.name,
    		type: "else",
    		source: "(92:4) {:else}",
    		ctx
    	});

    	return block;
    }

    // (90:4) {#if isLoading}
    function create_if_block$2(ctx) {
    	let t;

    	const block = {
    		c: function create() {
    			t = text("Loading");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, t, anchor);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$2.name,
    		type: "if",
    		source: "(90:4) {#if isLoading}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$7(ctx) {
    	let div3;
    	let div2;
    	let form;
    	let div0;
    	let label0;
    	let t1;
    	let input0;
    	let t2;
    	let div1;
    	let label1;
    	let t4;
    	let input1;
    	let t5;
    	let t6;
    	let button;
    	let mounted;
    	let dispose;
    	let if_block0 = /*isError*/ ctx[3].status && create_if_block_1$1(ctx);

    	function select_block_type(ctx, dirty) {
    		if (/*isLoading*/ ctx[1]) return create_if_block$2;
    		return create_else_block;
    	}

    	let current_block_type = select_block_type(ctx);
    	let if_block1 = current_block_type(ctx);

    	const block = {
    		c: function create() {
    			div3 = element("div");
    			div2 = element("div");
    			form = element("form");
    			div0 = element("div");
    			label0 = element("label");
    			label0.textContent = "Username";
    			t1 = space();
    			input0 = element("input");
    			t2 = space();
    			div1 = element("div");
    			label1 = element("label");
    			label1.textContent = "Password";
    			t4 = space();
    			input1 = element("input");
    			t5 = space();
    			if (if_block0) if_block0.c();
    			t6 = space();
    			button = element("button");
    			if_block1.c();
    			attr_dev(label0, "for", "username");
    			add_location(label0, file$4, 75, 4, 1365);
    			attr_dev(input0, "type", "text");
    			attr_dev(input0, "autocomplete", "off");
    			attr_dev(input0, "placeholder", "Masukan Username");
    			attr_dev(input0, "class", "svelte-1wq4wb7");
    			add_location(input0, file$4, 76, 4, 1409);
    			attr_dev(div0, "class", "form-group svelte-1wq4wb7");
    			add_location(div0, file$4, 74, 3, 1335);
    			attr_dev(label1, "for", "password");
    			add_location(label1, file$4, 80, 4, 1558);
    			attr_dev(input1, "type", "password");
    			attr_dev(input1, "autocomplete", "off");
    			attr_dev(input1, "placeholder", "Masukan Password");
    			attr_dev(input1, "class", "svelte-1wq4wb7");
    			add_location(input1, file$4, 81, 4, 1602);
    			attr_dev(div1, "class", "form-group svelte-1wq4wb7");
    			add_location(div1, file$4, 79, 3, 1528);
    			attr_dev(button, "type", "submit");
    			button.disabled = /*isFieldNull*/ ctx[2];
    			add_location(button, file$4, 88, 3, 1809);
    			attr_dev(form, "method", "POST");
    			attr_dev(form, "class", "svelte-1wq4wb7");
    			add_location(form, file$4, 72, 2, 1283);
    			attr_dev(div2, "class", "login svelte-1wq4wb7");
    			add_location(div2, file$4, 70, 1, 1258);
    			add_location(div3, file$4, 69, 0, 1250);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div3, anchor);
    			append_dev(div3, div2);
    			append_dev(div2, form);
    			append_dev(form, div0);
    			append_dev(div0, label0);
    			append_dev(div0, t1);
    			append_dev(div0, input0);
    			set_input_value(input0, /*userLogin*/ ctx[0].login);
    			append_dev(form, t2);
    			append_dev(form, div1);
    			append_dev(div1, label1);
    			append_dev(div1, t4);
    			append_dev(div1, input1);
    			set_input_value(input1, /*userLogin*/ ctx[0].password);
    			append_dev(form, t5);
    			if (if_block0) if_block0.m(form, null);
    			append_dev(form, t6);
    			append_dev(form, button);
    			if_block1.m(button, null);

    			if (!mounted) {
    				dispose = [
    					listen_dev(input0, "input", /*input0_input_handler*/ ctx[5]),
    					listen_dev(input1, "input", /*input1_input_handler*/ ctx[6]),
    					listen_dev(form, "submit", /*handleSubmit*/ ctx[4], false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*userLogin*/ 1 && input0.value !== /*userLogin*/ ctx[0].login) {
    				set_input_value(input0, /*userLogin*/ ctx[0].login);
    			}

    			if (dirty & /*userLogin*/ 1 && input1.value !== /*userLogin*/ ctx[0].password) {
    				set_input_value(input1, /*userLogin*/ ctx[0].password);
    			}

    			if (/*isError*/ ctx[3].status) {
    				if (if_block0) {
    					if_block0.p(ctx, dirty);
    				} else {
    					if_block0 = create_if_block_1$1(ctx);
    					if_block0.c();
    					if_block0.m(form, t6);
    				}
    			} else if (if_block0) {
    				if_block0.d(1);
    				if_block0 = null;
    			}

    			if (current_block_type !== (current_block_type = select_block_type(ctx))) {
    				if_block1.d(1);
    				if_block1 = current_block_type(ctx);

    				if (if_block1) {
    					if_block1.c();
    					if_block1.m(button, null);
    				}
    			}

    			if (dirty & /*isFieldNull*/ 4) {
    				prop_dev(button, "disabled", /*isFieldNull*/ ctx[2]);
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div3);
    			if (if_block0) if_block0.d();
    			if_block1.d();
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$7.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$7($$self, $$props, $$invalidate) {
    	let $goto;
    	validate_store(goto, "goto");
    	component_subscribe($$self, goto, $$value => $$invalidate(7, $goto = $$value));
    	let userLogin = { login: "", password: "" };
    	let isLoading = false;
    	let isFieldNull = true;
    	let isError = { status: false, message: "" };

    	async function loginProcess() {
    		try {
    			let fetchLogin = await post("/login", userLogin);
    			let response = await fetchLogin.json();
    			console.log(response);
    			$$invalidate(1, isLoading = false);

    			if (fetchLogin.status === 200) {
    				$goto("/users/siswa/dashboard");
    			} else {
    				$$invalidate(3, isError.status = true, isError);
    				$$invalidate(3, isError.message = response.error, isError);
    			}
    		} catch(error) {
    			$$invalidate(3, isError.status = true, isError);
    			$$invalidate(3, isError.message = error, isError);
    		}
    	}

    	function handleSubmit(e) {
    		e.preventDefault();
    		$$invalidate(1, isLoading = true);
    		loginProcess();
    	}

    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console_1.warn(`<Login> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Login", $$slots, []);

    	function input0_input_handler() {
    		userLogin.login = this.value;
    		$$invalidate(0, userLogin);
    	}

    	function input1_input_handler() {
    		userLogin.password = this.value;
    		$$invalidate(0, userLogin);
    	}

    	$$self.$capture_state = () => ({
    		get,
    		post,
    		goto,
    		userLogin,
    		isLoading,
    		isFieldNull,
    		isError,
    		loginProcess,
    		handleSubmit,
    		$goto
    	});

    	$$self.$inject_state = $$props => {
    		if ("userLogin" in $$props) $$invalidate(0, userLogin = $$props.userLogin);
    		if ("isLoading" in $$props) $$invalidate(1, isLoading = $$props.isLoading);
    		if ("isFieldNull" in $$props) $$invalidate(2, isFieldNull = $$props.isFieldNull);
    		if ("isError" in $$props) $$invalidate(3, isError = $$props.isError);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	$$self.$$.update = () => {
    		if ($$self.$$.dirty & /*userLogin*/ 1) {
    			 $$invalidate(2, isFieldNull = userLogin.username === "" || userLogin.password === ""
    			? true
    			: false);
    		}
    	};

    	return [
    		userLogin,
    		isLoading,
    		isFieldNull,
    		isError,
    		handleSubmit,
    		input0_input_handler,
    		input1_input_handler
    	];
    }

    class Login extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$7, create_fragment$7, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Login",
    			options,
    			id: create_fragment$7.name
    		});
    	}
    }

    /* src\pages\accounts\registration.svelte generated by Svelte v3.24.0 */

    const { console: console_1$1 } = globals;
    const file$5 = "src\\pages\\accounts\\registration.svelte";

    // (93:10) {:else}
    function create_else_block$1(ctx) {
    	let t;

    	const block = {
    		c: function create() {
    			t = text("Registrasi");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, t, anchor);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block$1.name,
    		type: "else",
    		source: "(93:10) {:else}",
    		ctx
    	});

    	return block;
    }

    // (91:10) {#if isLoading}
    function create_if_block$3(ctx) {
    	let t;

    	const block = {
    		c: function create() {
    			t = text("Loading");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, t, anchor);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$3.name,
    		type: "if",
    		source: "(91:10) {#if isLoading}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$8(ctx) {
    	let div8;
    	let form;
    	let div0;
    	let label0;
    	let t1;
    	let input0;
    	let t2;
    	let div1;
    	let label1;
    	let t4;
    	let input1;
    	let t5;
    	let div2;
    	let label2;
    	let t7;
    	let input2;
    	let t8;
    	let div3;
    	let label3;
    	let t10;
    	let input3;
    	let t11;
    	let div4;
    	let label4;
    	let t13;
    	let input4;
    	let t14;
    	let div5;
    	let label5;
    	let t16;
    	let input5;
    	let t17;
    	let div6;
    	let label6;
    	let t19;
    	let input6;
    	let t20;
    	let div7;
    	let button;
    	let mounted;
    	let dispose;

    	function select_block_type(ctx, dirty) {
    		if (/*isLoading*/ ctx[1]) return create_if_block$3;
    		return create_else_block$1;
    	}

    	let current_block_type = select_block_type(ctx);
    	let if_block = current_block_type(ctx);

    	const block = {
    		c: function create() {
    			div8 = element("div");
    			form = element("form");
    			div0 = element("div");
    			label0 = element("label");
    			label0.textContent = "Fullname";
    			t1 = space();
    			input0 = element("input");
    			t2 = space();
    			div1 = element("div");
    			label1 = element("label");
    			label1.textContent = "School";
    			t4 = space();
    			input1 = element("input");
    			t5 = space();
    			div2 = element("div");
    			label2 = element("label");
    			label2.textContent = "City";
    			t7 = space();
    			input2 = element("input");
    			t8 = space();
    			div3 = element("div");
    			label3 = element("label");
    			label3.textContent = "Phone";
    			t10 = space();
    			input3 = element("input");
    			t11 = space();
    			div4 = element("div");
    			label4 = element("label");
    			label4.textContent = "Username";
    			t13 = space();
    			input4 = element("input");
    			t14 = space();
    			div5 = element("div");
    			label5 = element("label");
    			label5.textContent = "Email";
    			t16 = space();
    			input5 = element("input");
    			t17 = space();
    			div6 = element("div");
    			label6 = element("label");
    			label6.textContent = "Password";
    			t19 = space();
    			input6 = element("input");
    			t20 = space();
    			div7 = element("div");
    			button = element("button");
    			if_block.c();
    			attr_dev(label0, "for", "fullname");
    			add_location(label0, file$5, 54, 6, 1050);
    			attr_dev(input0, "type", "text");
    			attr_dev(input0, "autocomplete", "off");
    			attr_dev(input0, "name", "fullname");
    			attr_dev(input0, "id", "fullname");
    			add_location(input0, file$5, 55, 6, 1096);
    			attr_dev(div0, "class", "form-group svelte-128bdaa");
    			add_location(div0, file$5, 53, 4, 1018);
    			attr_dev(label1, "for", "school");
    			add_location(label1, file$5, 59, 6, 1255);
    			attr_dev(input1, "type", "text");
    			attr_dev(input1, "autocomplete", "off");
    			attr_dev(input1, "name", "school");
    			attr_dev(input1, "id", "school");
    			add_location(input1, file$5, 60, 6, 1297);
    			attr_dev(div1, "class", "form-group svelte-128bdaa");
    			add_location(div1, file$5, 58, 4, 1223);
    			attr_dev(label2, "for", "city");
    			add_location(label2, file$5, 64, 6, 1452);
    			attr_dev(input2, "type", "text");
    			attr_dev(input2, "autocomplete", "off");
    			attr_dev(input2, "name", "city");
    			attr_dev(input2, "id", "city");
    			add_location(input2, file$5, 65, 6, 1490);
    			attr_dev(div2, "class", "form-group svelte-128bdaa");
    			add_location(div2, file$5, 63, 4, 1420);
    			attr_dev(label3, "for", "phone");
    			add_location(label3, file$5, 69, 6, 1637);
    			attr_dev(input3, "type", "number");
    			attr_dev(input3, "autocomplete", "off");
    			attr_dev(input3, "name", "phone");
    			attr_dev(input3, "id", "phone");
    			add_location(input3, file$5, 70, 6, 1677);
    			attr_dev(div3, "class", "form-group svelte-128bdaa");
    			add_location(div3, file$5, 68, 4, 1605);
    			attr_dev(label4, "for", "username");
    			add_location(label4, file$5, 74, 6, 1829);
    			attr_dev(input4, "type", "text");
    			attr_dev(input4, "autocomplete", "off");
    			attr_dev(input4, "name", "username");
    			attr_dev(input4, "id", "username");
    			add_location(input4, file$5, 75, 6, 1875);
    			attr_dev(div4, "class", "form-group svelte-128bdaa");
    			add_location(div4, file$5, 73, 4, 1797);
    			attr_dev(label5, "for", "email");
    			add_location(label5, file$5, 79, 6, 2038);
    			attr_dev(input5, "type", "email");
    			attr_dev(input5, "autocomplete", "off");
    			attr_dev(input5, "name", "email");
    			attr_dev(input5, "id", "email");
    			add_location(input5, file$5, 80, 6, 2078);
    			attr_dev(div5, "class", "form-group svelte-128bdaa");
    			add_location(div5, file$5, 78, 4, 2006);
    			attr_dev(label6, "for", "password");
    			add_location(label6, file$5, 84, 6, 2229);
    			attr_dev(input6, "type", "password");
    			attr_dev(input6, "name", "password");
    			attr_dev(input6, "id", "password");
    			add_location(input6, file$5, 85, 6, 2275);
    			attr_dev(div6, "class", "form-group svelte-128bdaa");
    			add_location(div6, file$5, 83, 4, 2197);
    			attr_dev(button, "type", "submit");
    			add_location(button, file$5, 89, 6, 2419);
    			attr_dev(div7, "class", "form-group svelte-128bdaa");
    			add_location(div7, file$5, 88, 4, 2387);
    			attr_dev(form, "method", "POST");
    			add_location(form, file$5, 52, 2, 967);
    			attr_dev(div8, "class", "registration svelte-128bdaa");
    			add_location(div8, file$5, 50, 0, 935);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div8, anchor);
    			append_dev(div8, form);
    			append_dev(form, div0);
    			append_dev(div0, label0);
    			append_dev(div0, t1);
    			append_dev(div0, input0);
    			set_input_value(input0, /*userRegistration*/ ctx[0].fullname);
    			append_dev(form, t2);
    			append_dev(form, div1);
    			append_dev(div1, label1);
    			append_dev(div1, t4);
    			append_dev(div1, input1);
    			set_input_value(input1, /*userRegistration*/ ctx[0].school);
    			append_dev(form, t5);
    			append_dev(form, div2);
    			append_dev(div2, label2);
    			append_dev(div2, t7);
    			append_dev(div2, input2);
    			set_input_value(input2, /*userRegistration*/ ctx[0].city);
    			append_dev(form, t8);
    			append_dev(form, div3);
    			append_dev(div3, label3);
    			append_dev(div3, t10);
    			append_dev(div3, input3);
    			set_input_value(input3, /*userRegistration*/ ctx[0].phone);
    			append_dev(form, t11);
    			append_dev(form, div4);
    			append_dev(div4, label4);
    			append_dev(div4, t13);
    			append_dev(div4, input4);
    			set_input_value(input4, /*userRegistration*/ ctx[0].username);
    			append_dev(form, t14);
    			append_dev(form, div5);
    			append_dev(div5, label5);
    			append_dev(div5, t16);
    			append_dev(div5, input5);
    			set_input_value(input5, /*userRegistration*/ ctx[0].email);
    			append_dev(form, t17);
    			append_dev(form, div6);
    			append_dev(div6, label6);
    			append_dev(div6, t19);
    			append_dev(div6, input6);
    			set_input_value(input6, /*userRegistration*/ ctx[0].password);
    			append_dev(form, t20);
    			append_dev(form, div7);
    			append_dev(div7, button);
    			if_block.m(button, null);

    			if (!mounted) {
    				dispose = [
    					listen_dev(input0, "input", /*input0_input_handler*/ ctx[3]),
    					listen_dev(input1, "input", /*input1_input_handler*/ ctx[4]),
    					listen_dev(input2, "input", /*input2_input_handler*/ ctx[5]),
    					listen_dev(input3, "input", /*input3_input_handler*/ ctx[6]),
    					listen_dev(input4, "input", /*input4_input_handler*/ ctx[7]),
    					listen_dev(input5, "input", /*input5_input_handler*/ ctx[8]),
    					listen_dev(input6, "input", /*input6_input_handler*/ ctx[9]),
    					listen_dev(form, "submit", /*handleSubmit*/ ctx[2], false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*userRegistration*/ 1 && input0.value !== /*userRegistration*/ ctx[0].fullname) {
    				set_input_value(input0, /*userRegistration*/ ctx[0].fullname);
    			}

    			if (dirty & /*userRegistration*/ 1 && input1.value !== /*userRegistration*/ ctx[0].school) {
    				set_input_value(input1, /*userRegistration*/ ctx[0].school);
    			}

    			if (dirty & /*userRegistration*/ 1 && input2.value !== /*userRegistration*/ ctx[0].city) {
    				set_input_value(input2, /*userRegistration*/ ctx[0].city);
    			}

    			if (dirty & /*userRegistration*/ 1 && to_number(input3.value) !== /*userRegistration*/ ctx[0].phone) {
    				set_input_value(input3, /*userRegistration*/ ctx[0].phone);
    			}

    			if (dirty & /*userRegistration*/ 1 && input4.value !== /*userRegistration*/ ctx[0].username) {
    				set_input_value(input4, /*userRegistration*/ ctx[0].username);
    			}

    			if (dirty & /*userRegistration*/ 1 && input5.value !== /*userRegistration*/ ctx[0].email) {
    				set_input_value(input5, /*userRegistration*/ ctx[0].email);
    			}

    			if (dirty & /*userRegistration*/ 1 && input6.value !== /*userRegistration*/ ctx[0].password) {
    				set_input_value(input6, /*userRegistration*/ ctx[0].password);
    			}

    			if (current_block_type !== (current_block_type = select_block_type(ctx))) {
    				if_block.d(1);
    				if_block = current_block_type(ctx);

    				if (if_block) {
    					if_block.c();
    					if_block.m(button, null);
    				}
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div8);
    			if_block.d();
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$8.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$8($$self, $$props, $$invalidate) {
    	let userRegistration = {
    		fullname: "",
    		school: "",
    		city: "",
    		phone: "",
    		username: "",
    		email: "",
    		password: ""
    	};

    	let isLoading = false;

    	function handleSubmit(e) {
    		e.preventDefault();
    		$$invalidate(1, isLoading = true);
    		registrationProcess();
    	}

    	async function registrationProcess() {
    		const fetchRegistration = await post("/register", JSON.stringify(userRegistration));
    		console.log(fetchRegistration);
    	} // try {
    	//   const response = await fetchRegistration.json();

    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console_1$1.warn(`<Registration> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Registration", $$slots, []);

    	function input0_input_handler() {
    		userRegistration.fullname = this.value;
    		$$invalidate(0, userRegistration);
    	}

    	function input1_input_handler() {
    		userRegistration.school = this.value;
    		$$invalidate(0, userRegistration);
    	}

    	function input2_input_handler() {
    		userRegistration.city = this.value;
    		$$invalidate(0, userRegistration);
    	}

    	function input3_input_handler() {
    		userRegistration.phone = to_number(this.value);
    		$$invalidate(0, userRegistration);
    	}

    	function input4_input_handler() {
    		userRegistration.username = this.value;
    		$$invalidate(0, userRegistration);
    	}

    	function input5_input_handler() {
    		userRegistration.email = this.value;
    		$$invalidate(0, userRegistration);
    	}

    	function input6_input_handler() {
    		userRegistration.password = this.value;
    		$$invalidate(0, userRegistration);
    	}

    	$$self.$capture_state = () => ({
    		get,
    		post,
    		goto,
    		userRegistration,
    		isLoading,
    		handleSubmit,
    		registrationProcess
    	});

    	$$self.$inject_state = $$props => {
    		if ("userRegistration" in $$props) $$invalidate(0, userRegistration = $$props.userRegistration);
    		if ("isLoading" in $$props) $$invalidate(1, isLoading = $$props.isLoading);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [
    		userRegistration,
    		isLoading,
    		handleSubmit,
    		input0_input_handler,
    		input1_input_handler,
    		input2_input_handler,
    		input3_input_handler,
    		input4_input_handler,
    		input5_input_handler,
    		input6_input_handler
    	];
    }

    class Registration extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$8, create_fragment$8, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Registration",
    			options,
    			id: create_fragment$8.name
    		});
    	}
    }

    /* src\components\landing-page\Testimoni.svelte generated by Svelte v3.24.0 */

    const { console: console_1$2 } = globals;
    const file$6 = "src\\components\\landing-page\\Testimoni.svelte";

    function get_each_context$2(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[5] = list[i][0];
    	child_ctx[6] = list[i][1];
    	return child_ctx;
    }

    // (184:6) {#each peoples as [image, name]}
    function create_each_block$2(ctx) {
    	let div2;
    	let div1;
    	let div0;
    	let img;
    	let img_src_value;
    	let img_alt_value;
    	let t0;
    	let p;
    	let t1_value = /*name*/ ctx[6] + "";
    	let t1;
    	let t2;

    	const block = {
    		c: function create() {
    			div2 = element("div");
    			div1 = element("div");
    			div0 = element("div");
    			img = element("img");
    			t0 = space();
    			p = element("p");
    			t1 = text(t1_value);
    			t2 = space();
    			if (img.src !== (img_src_value = /*image*/ ctx[5])) attr_dev(img, "src", img_src_value);
    			attr_dev(img, "width", "30px");
    			attr_dev(img, "alt", img_alt_value = /*name*/ ctx[6]);
    			attr_dev(img, "class", "svelte-1qjnpv7");
    			add_location(img, file$6, 187, 12, 4893);
    			add_location(div0, file$6, 186, 10, 4874);
    			attr_dev(p, "class", "svelte-1qjnpv7");
    			add_location(p, file$6, 189, 10, 4964);
    			attr_dev(div1, "class", "user-image svelte-1qjnpv7");
    			add_location(div1, file$6, 185, 8, 4838);
    			attr_dev(div2, "class", "column");
    			add_location(div2, file$6, 184, 6, 4808);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div2, anchor);
    			append_dev(div2, div1);
    			append_dev(div1, div0);
    			append_dev(div0, img);
    			append_dev(div1, t0);
    			append_dev(div1, p);
    			append_dev(p, t1);
    			append_dev(div2, t2);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*peoples*/ 1 && img.src !== (img_src_value = /*image*/ ctx[5])) {
    				attr_dev(img, "src", img_src_value);
    			}

    			if (dirty & /*peoples*/ 1 && img_alt_value !== (img_alt_value = /*name*/ ctx[6])) {
    				attr_dev(img, "alt", img_alt_value);
    			}

    			if (dirty & /*peoples*/ 1 && t1_value !== (t1_value = /*name*/ ctx[6] + "")) set_data_dev(t1, t1_value);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div2);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block$2.name,
    		type: "each",
    		source: "(184:6) {#each peoples as [image, name]}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$9(ctx) {
    	let div4;
    	let div3;
    	let div0;
    	let p;
    	let t0_value = /*testimonials*/ ctx[2][/*current*/ ctx[1]][0] + "";
    	let t0;
    	let t1;
    	let div1;
    	let t2;
    	let div2;
    	let button0;
    	let img0;
    	let img0_src_value;
    	let t3;
    	let button1;
    	let img1;
    	let img1_src_value;
    	let mounted;
    	let dispose;
    	let each_value = /*peoples*/ ctx[0];
    	validate_each_argument(each_value);
    	let each_blocks = [];

    	for (let i = 0; i < each_value.length; i += 1) {
    		each_blocks[i] = create_each_block$2(get_each_context$2(ctx, each_value, i));
    	}

    	const block = {
    		c: function create() {
    			div4 = element("div");
    			div3 = element("div");
    			div0 = element("div");
    			p = element("p");
    			t0 = text(t0_value);
    			t1 = space();
    			div1 = element("div");

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			t2 = space();
    			div2 = element("div");
    			button0 = element("button");
    			img0 = element("img");
    			t3 = space();
    			button1 = element("button");
    			img1 = element("img");
    			attr_dev(p, "class", "has-text-centered");
    			add_location(p, file$6, 178, 6, 4606);
    			attr_dev(div0, "class", "bubble-text svelte-1qjnpv7");
    			add_location(div0, file$6, 177, 4, 4573);
    			attr_dev(div1, "class", "user-testimonial is-gapless columns is-mobile svelte-1qjnpv7");
    			add_location(div1, file$6, 182, 4, 4701);
    			attr_dev(img0, "id", "left-arrow");
    			if (img0.src !== (img0_src_value = "./assets/left-arrow.png")) attr_dev(img0, "src", img0_src_value);
    			attr_dev(img0, "alt", "left-arrow");
    			attr_dev(img0, "class", "svelte-1qjnpv7");
    			add_location(img0, file$6, 198, 8, 5136);
    			attr_dev(button0, "class", "svelte-1qjnpv7");
    			add_location(button0, file$6, 197, 6, 5102);
    			attr_dev(img1, "id", "right-arrow");
    			if (img1.src !== (img1_src_value = "./assets/right-arrow.png")) attr_dev(img1, "src", img1_src_value);
    			attr_dev(img1, "alt", "right-arrow");
    			attr_dev(img1, "class", "svelte-1qjnpv7");
    			add_location(img1, file$6, 201, 8, 5263);
    			attr_dev(button1, "class", "svelte-1qjnpv7");
    			add_location(button1, file$6, 200, 6, 5229);
    			attr_dev(div2, "class", "btn-controller svelte-1qjnpv7");
    			add_location(div2, file$6, 196, 4, 5066);
    			attr_dev(div3, "class", "comment svelte-1qjnpv7");
    			add_location(div3, file$6, 176, 2, 4546);
    			add_location(div4, file$6, 175, 0, 4537);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div4, anchor);
    			append_dev(div4, div3);
    			append_dev(div3, div0);
    			append_dev(div0, p);
    			append_dev(p, t0);
    			append_dev(div3, t1);
    			append_dev(div3, div1);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(div1, null);
    			}

    			append_dev(div3, t2);
    			append_dev(div3, div2);
    			append_dev(div2, button0);
    			append_dev(button0, img0);
    			append_dev(div2, t3);
    			append_dev(div2, button1);
    			append_dev(button1, img1);

    			if (!mounted) {
    				dispose = [
    					listen_dev(button0, "click", /*prev*/ ctx[4], false, false, false),
    					listen_dev(button1, "click", /*next*/ ctx[3], false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(ctx, [dirty]) {
    			if (dirty & /*current*/ 2 && t0_value !== (t0_value = /*testimonials*/ ctx[2][/*current*/ ctx[1]][0] + "")) set_data_dev(t0, t0_value);

    			if (dirty & /*peoples*/ 1) {
    				each_value = /*peoples*/ ctx[0];
    				validate_each_argument(each_value);
    				let i;

    				for (i = 0; i < each_value.length; i += 1) {
    					const child_ctx = get_each_context$2(ctx, each_value, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    					} else {
    						each_blocks[i] = create_each_block$2(child_ctx);
    						each_blocks[i].c();
    						each_blocks[i].m(div1, null);
    					}
    				}

    				for (; i < each_blocks.length; i += 1) {
    					each_blocks[i].d(1);
    				}

    				each_blocks.length = each_value.length;
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div4);
    			destroy_each(each_blocks, detaching);
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$9.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$9($$self, $$props, $$invalidate) {
    	const testimonials = [
    		[
    			"In one of the testimonials which accompanied his application to the trustees of Rugby, the writer stated it as his conviction that \"if Mr Arnold were elected, he would change the face of education all through the public schools of England.\"",
    			"https://image.flaticon.com/icons/svg/3203/3203725.svg",
    			"Diana"
    		],
    		[
    			"Horsford, in a number of monographs (unfortunately of no historical or scientific value), fixed upon the vicinity of Boston, where now stand a Leif Ericsson statue and Horsford\" Norumbega Tower as testimonials to the Norse explorers.",
    			"https://image.flaticon.com/icons/svg/3144/3144735.svg",
    			"Marcel"
    		],
    		[
    			"He received large money testimonials (6000 on his silver-wedding day and £5000 on his fiftieth birthday), which he handed over to these institutions.",
    			"https://image.flaticon.com/icons/svg/3048/3048122.svg",
    			"Alex"
    		],
    		[
    			"Information on how the monitor works, along with product testimonials and instruction video clip, can be found about the Snuza Halo on the product website at Snuza.",
    			"https://image.flaticon.com/icons/svg/3048/3048163.svg",
    			"Angel"
    		],
    		[
    			"According to testimonials on the company\"s website, a number of people who have suffered from migraines for years have experienced a great deal of success with Micranium.",
    			"https://image.flaticon.com/icons/svg/3048/3048176.svg",
    			"Thomas"
    		]
    	];

    	let peoples = [];

    	testimonials.forEach(data => {
    		let peopleData = [data[1], data[2]];
    		peoples.push(peopleData);
    	});

    	let current = 2;

    	function next() {
    		$$invalidate(1, current += 1);
    		$$invalidate(0, peoples[peoples.length] = peoples[0], peoples);
    		peoples.shift();
    		console.log(current);
    	}

    	function prev() {
    		$$invalidate(1, current -= 1);
    		peoples.splice(0, 0, peoples[peoples.length - 1]);
    		peoples.pop();
    		$$invalidate(0, peoples);
    		console.log(current);
    	}

    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console_1$2.warn(`<Testimoni> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Testimoni", $$slots, []);

    	$$self.$capture_state = () => ({
    		testimonials,
    		peoples,
    		current,
    		next,
    		prev
    	});

    	$$self.$inject_state = $$props => {
    		if ("peoples" in $$props) $$invalidate(0, peoples = $$props.peoples);
    		if ("current" in $$props) $$invalidate(1, current = $$props.current);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	$$self.$$.update = () => {
    		if ($$self.$$.dirty & /*current*/ 2) {
    			 {
    				if (current < 0) {
    					$$invalidate(1, current = testimonials.length - 1);
    				} else if (current === testimonials.length) {
    					$$invalidate(1, current = 0);
    				}
    			}
    		}
    	};

    	return [peoples, current, testimonials, next, prev];
    }

    class Testimoni extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$9, create_fragment$9, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Testimoni",
    			options,
    			id: create_fragment$9.name
    		});
    	}
    }

    /* src\pages\index.svelte generated by Svelte v3.24.0 */
    const file$7 = "src\\pages\\index.svelte";

    function create_fragment$a(ctx) {
    	let div0;
    	let t1;
    	let div6;
    	let div5;
    	let div2;
    	let div1;
    	let img0;
    	let img0_src_value;
    	let t2;
    	let div4;
    	let div3;
    	let h30;
    	let t4;
    	let p0;
    	let t6;
    	let p1;
    	let t8;
    	let button0;
    	let t10;
    	let div16;
    	let h31;
    	let t12;
    	let div15;
    	let div8;
    	let div7;
    	let img1;
    	let img1_src_value;
    	let t13;
    	let p2;
    	let t15;
    	let div10;
    	let div9;
    	let img2;
    	let img2_src_value;
    	let t16;
    	let p3;
    	let t18;
    	let div12;
    	let div11;
    	let img3;
    	let img3_src_value;
    	let t19;
    	let p4;
    	let t21;
    	let div14;
    	let div13;
    	let img4;
    	let img4_src_value;
    	let t22;
    	let p5;
    	let t24;
    	let div22;
    	let h32;
    	let t26;
    	let div20;
    	let div17;
    	let p6;
    	let t28;
    	let p7;
    	let t30;
    	let p8;
    	let t32;
    	let div18;
    	let img5;
    	let img5_src_value;
    	let t33;
    	let div19;
    	let p9;
    	let t35;
    	let p10;
    	let t37;
    	let p11;
    	let t39;
    	let div21;
    	let a0;
    	let button1;
    	let t41;
    	let div29;
    	let div28;
    	let div23;
    	let h33;
    	let t43;
    	let p12;
    	let t45;
    	let p13;
    	let t47;
    	let div27;
    	let div26;
    	let div24;
    	let img6;
    	let img6_src_value;
    	let t48;
    	let div25;
    	let img7;
    	let img7_src_value;
    	let t49;
    	let div30;
    	let h34;
    	let t51;
    	let testimoni;
    	let t52;
    	let img8;
    	let img8_src_value;
    	let t53;
    	let div37;
    	let div36;
    	let div32;
    	let div31;
    	let p14;
    	let t55;
    	let div35;
    	let div34;
    	let p15;
    	let t57;
    	let div33;
    	let button2;
    	let a1;
    	let t59;
    	let button3;
    	let a2;
    	let current;
    	testimoni = new Testimoni({ $$inline: true });

    	const block = {
    		c: function create() {
    			div0 = element("div");
    			div0.textContent = "asdas";
    			t1 = space();
    			div6 = element("div");
    			div5 = element("div");
    			div2 = element("div");
    			div1 = element("div");
    			img0 = element("img");
    			t2 = space();
    			div4 = element("div");
    			div3 = element("div");
    			h30 = element("h3");
    			h30.textContent = "PATERON PROGRAM";
    			t4 = space();
    			p0 = element("p");
    			p0.textContent = "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque quo sit quae cupiditate tenetur corporis. Veniam temporibus quod quos odio, illum, commodi sapiente, impedit error ipsum dolor obcaecati doloremque iusto!";
    			t6 = space();
    			p1 = element("p");
    			p1.textContent = "Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque quo sit quae cupiditate tenetur corporis. Veniam temporibus quod quos odio, illum, commodi sapiente, impedit error ipsum dolor obcaecati doloremque iusto!";
    			t8 = space();
    			button0 = element("button");
    			button0.textContent = "Pelajari Lebih Lanjut";
    			t10 = space();
    			div16 = element("div");
    			h31 = element("h3");
    			h31.textContent = "FITUR PATERON";
    			t12 = space();
    			div15 = element("div");
    			div8 = element("div");
    			div7 = element("div");
    			img1 = element("img");
    			t13 = space();
    			p2 = element("p");
    			p2.textContent = "Lorem ipsum dolor sit amet consectetur, adipisicing elit. Maxime quo omnis culpa nisi! Tempore officia ipsum magnam sunt possimus. Voluptas rerum maxime qui possimus labore magnam. Earum veritatis in dolores.";
    			t15 = space();
    			div10 = element("div");
    			div9 = element("div");
    			img2 = element("img");
    			t16 = space();
    			p3 = element("p");
    			p3.textContent = "Lorem ipsum dolor sit amet consectetur, adipisicing elit. Maxime quo omnis culpa nisi! Tempore officia ipsum magnam sunt possimus. Voluptas rerum maxime qui possimus labore magnam. Earum veritatis in dolores.";
    			t18 = space();
    			div12 = element("div");
    			div11 = element("div");
    			img3 = element("img");
    			t19 = space();
    			p4 = element("p");
    			p4.textContent = "Lorem ipsum dolor sit amet consectetur, adipisicing elit. Maxime quo omnis culpa nisi! Tempore officia ipsum magnam sunt possimus. Voluptas rerum maxime qui possimus labore magnam. Earum veritatis in dolores.";
    			t21 = space();
    			div14 = element("div");
    			div13 = element("div");
    			img4 = element("img");
    			t22 = space();
    			p5 = element("p");
    			p5.textContent = "Lorem ipsum dolor sit amet consectetur, adipisicing elit. Maxime quo omnis culpa nisi! Tempore officia ipsum magnam sunt possimus. Voluptas rerum maxime qui possimus labore magnam. Earum veritatis in dolores.";
    			t24 = space();
    			div22 = element("div");
    			h32 = element("h3");
    			h32.textContent = "YANG KAMU DAPATKAN";
    			t26 = space();
    			div20 = element("div");
    			div17 = element("div");
    			p6 = element("p");
    			p6.textContent = "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Atque nisi accusamus exercitationem laborum distinctio!";
    			t28 = space();
    			p7 = element("p");
    			p7.textContent = "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Atque nisi accusamus exercitationem laborum distinctio!";
    			t30 = space();
    			p8 = element("p");
    			p8.textContent = "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Atque nisi accusamus exercitationem laborum distinctio!";
    			t32 = space();
    			div18 = element("div");
    			img5 = element("img");
    			t33 = space();
    			div19 = element("div");
    			p9 = element("p");
    			p9.textContent = "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Atque nisi accusamus exercitationem laborum distinctio!";
    			t35 = space();
    			p10 = element("p");
    			p10.textContent = "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Atque nisi accusamus exercitationem laborum distinctio!";
    			t37 = space();
    			p11 = element("p");
    			p11.textContent = "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Atque nisi accusamus exercitationem laborum distinctio!";
    			t39 = space();
    			div21 = element("div");
    			a0 = element("a");
    			button1 = element("button");
    			button1.textContent = "Daftar";
    			t41 = space();
    			div29 = element("div");
    			div28 = element("div");
    			div23 = element("div");
    			h33 = element("h3");
    			h33.textContent = "FASILITERON";
    			t43 = space();
    			p12 = element("p");
    			p12.textContent = "Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel nemo dolorum atque repellendus laboriosam quaerat tempora fuga suscipit doloribus nesciunt, iure quas! Aperiam, assumenda enim quaerat asperiores quibusdam error veritatis!";
    			t45 = space();
    			p13 = element("p");
    			p13.textContent = "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Maxime provident deleniti repellendus earum fugit ipsam porro iusto cumque delectus, asperiores, nobis quia? Illo reiciendis nemo quas, deserunt repellendus sed odio!";
    			t47 = space();
    			div27 = element("div");
    			div26 = element("div");
    			div24 = element("div");
    			img6 = element("img");
    			t48 = space();
    			div25 = element("div");
    			img7 = element("img");
    			t49 = space();
    			div30 = element("div");
    			h34 = element("h3");
    			h34.textContent = "TESTIMONI";
    			t51 = space();
    			create_component(testimoni.$$.fragment);
    			t52 = space();
    			img8 = element("img");
    			t53 = space();
    			div37 = element("div");
    			div36 = element("div");
    			div32 = element("div");
    			div31 = element("div");
    			p14 = element("p");
    			p14.textContent = "ADS SPACE";
    			t55 = space();
    			div35 = element("div");
    			div34 = element("div");
    			p15 = element("p");
    			p15.textContent = "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsum aliquid, at nulla error, fugit atque nam totam facere placeat hic ab. Soluta ipsam vitae alias dolor nisi qui consequatur labore?";
    			t57 = space();
    			div33 = element("div");
    			button2 = element("button");
    			a1 = element("a");
    			a1.textContent = "Pertanyaan Lebih Lanjut";
    			t59 = space();
    			button3 = element("button");
    			a2 = element("a");
    			a2.textContent = "Daftar Segera";
    			attr_dev(div0, "class", "header-content svelte-xrtjkp");
    			add_location(div0, file$7, 198, 0, 3202);
    			if (img0.src !== (img0_src_value = "./assets/ilustration.svg")) attr_dev(img0, "src", img0_src_value);
    			attr_dev(img0, "alt", "");
    			add_location(img0, file$7, 205, 8, 3405);
    			attr_dev(div1, "class", "ilustration-program");
    			add_location(div1, file$7, 204, 6, 3362);
    			attr_dev(div2, "class", "column is-half");
    			add_location(div2, file$7, 203, 4, 3326);
    			attr_dev(h30, "class", "title title-feature is-size-3-mobile is-size-3-tablet is-size-2-desktop svelte-xrtjkp");
    			add_location(h30, file$7, 210, 8, 3548);
    			attr_dev(p0, "class", "is-size-6-mobile svelte-xrtjkp");
    			add_location(p0, file$7, 211, 8, 3662);
    			attr_dev(p1, "class", "is-size-6-mobile svelte-xrtjkp");
    			add_location(p1, file$7, 214, 8, 3945);
    			attr_dev(button0, "class", "button is-info is-rounded btn-pelajari svelte-xrtjkp");
    			add_location(button0, file$7, 217, 8, 4228);
    			attr_dev(div3, "class", "pateron-program  svelte-xrtjkp");
    			add_location(div3, file$7, 209, 6, 3508);
    			attr_dev(div4, "class", "column");
    			add_location(div4, file$7, 208, 4, 3480);
    			attr_dev(div5, "class", "columns is-variable is-8");
    			add_location(div5, file$7, 202, 2, 3282);
    			attr_dev(div6, "class", "program-content svelte-xrtjkp");
    			add_location(div6, file$7, 201, 0, 3249);
    			attr_dev(h31, "class", "title has-text-centered title-feature is-size-3-mobile is-size-3-tablet is-size-2-desktop svelte-xrtjkp");
    			add_location(h31, file$7, 223, 2, 4392);
    			if (img1.src !== (img1_src_value = "./assets/feature.png")) attr_dev(img1, "src", img1_src_value);
    			attr_dev(img1, "alt", "feature");
    			attr_dev(img1, "class", "svelte-xrtjkp");
    			add_location(img1, file$7, 227, 8, 4618);
    			attr_dev(p2, "class", "svelte-xrtjkp");
    			add_location(p2, file$7, 228, 8, 4674);
    			attr_dev(div7, "class", "feature-item svelte-xrtjkp");
    			add_location(div7, file$7, 226, 6, 4582);
    			attr_dev(div8, "class", "column");
    			add_location(div8, file$7, 225, 4, 4554);
    			if (img2.src !== (img2_src_value = "./assets/feature.png")) attr_dev(img2, "src", img2_src_value);
    			attr_dev(img2, "alt", "feature");
    			attr_dev(img2, "class", "svelte-xrtjkp");
    			add_location(img2, file$7, 233, 8, 4985);
    			attr_dev(p3, "class", "svelte-xrtjkp");
    			add_location(p3, file$7, 234, 8, 5041);
    			attr_dev(div9, "class", "feature-item svelte-xrtjkp");
    			add_location(div9, file$7, 232, 6, 4949);
    			attr_dev(div10, "class", "column");
    			add_location(div10, file$7, 231, 4, 4921);
    			if (img3.src !== (img3_src_value = "./assets/feature.png")) attr_dev(img3, "src", img3_src_value);
    			attr_dev(img3, "alt", "feature");
    			attr_dev(img3, "class", "svelte-xrtjkp");
    			add_location(img3, file$7, 239, 8, 5352);
    			attr_dev(p4, "class", "svelte-xrtjkp");
    			add_location(p4, file$7, 240, 8, 5408);
    			attr_dev(div11, "class", "feature-item svelte-xrtjkp");
    			add_location(div11, file$7, 238, 6, 5316);
    			attr_dev(div12, "class", "column");
    			add_location(div12, file$7, 237, 4, 5288);
    			if (img4.src !== (img4_src_value = "./assets/feature.png")) attr_dev(img4, "src", img4_src_value);
    			attr_dev(img4, "alt", "feature");
    			attr_dev(img4, "class", "svelte-xrtjkp");
    			add_location(img4, file$7, 245, 8, 5719);
    			attr_dev(p5, "class", "svelte-xrtjkp");
    			add_location(p5, file$7, 246, 8, 5775);
    			attr_dev(div13, "class", "feature-item svelte-xrtjkp");
    			add_location(div13, file$7, 244, 6, 5683);
    			attr_dev(div14, "class", "column");
    			add_location(div14, file$7, 243, 4, 5655);
    			attr_dev(div15, "class", "columns is-desktop");
    			add_location(div15, file$7, 224, 2, 4516);
    			attr_dev(div16, "class", "feature-pateron svelte-xrtjkp");
    			add_location(div16, file$7, 222, 0, 4359);
    			attr_dev(h32, "class", "title has-text-centered title-feature is-size-3-mobile is-size-3-tablet is-size-2-desktop svelte-xrtjkp");
    			add_location(h32, file$7, 252, 2, 6066);
    			attr_dev(p6, "class", "svelte-xrtjkp");
    			add_location(p6, file$7, 255, 6, 6279);
    			attr_dev(p7, "class", "svelte-xrtjkp");
    			add_location(p7, file$7, 258, 6, 6425);
    			attr_dev(p8, "class", "svelte-xrtjkp");
    			add_location(p8, file$7, 261, 6, 6571);
    			attr_dev(div17, "class", "column user-feature-item svelte-xrtjkp");
    			add_location(div17, file$7, 254, 4, 6233);
    			if (img5.src !== (img5_src_value = "./assets/feature.png")) attr_dev(img5, "src", img5_src_value);
    			attr_dev(img5, "alt", "user-feature");
    			attr_dev(img5, "class", "svelte-xrtjkp");
    			add_location(img5, file$7, 266, 6, 6777);
    			attr_dev(div18, "class", "column user-feature-item svelte-xrtjkp");
    			add_location(div18, file$7, 265, 4, 6731);
    			attr_dev(p9, "class", "svelte-xrtjkp");
    			add_location(p9, file$7, 269, 6, 6892);
    			attr_dev(p10, "class", "svelte-xrtjkp");
    			add_location(p10, file$7, 272, 6, 7038);
    			attr_dev(p11, "class", "svelte-xrtjkp");
    			add_location(p11, file$7, 275, 6, 7184);
    			attr_dev(div19, "class", "column user-feature-item svelte-xrtjkp");
    			add_location(div19, file$7, 268, 4, 6846);
    			attr_dev(div20, "class", "columns is-desktop");
    			add_location(div20, file$7, 253, 2, 6195);
    			attr_dev(button1, "class", "button is-info is-rounded  svelte-xrtjkp");
    			add_location(button1, file$7, 282, 6, 7413);
    			attr_dev(a0, "href", "#");
    			attr_dev(a0, "class", "btn-daftar svelte-xrtjkp");
    			add_location(a0, file$7, 281, 4, 7374);
    			attr_dev(div21, "class", "daftar svelte-xrtjkp");
    			add_location(div21, file$7, 280, 2, 7348);
    			attr_dev(div22, "class", "user-feature svelte-xrtjkp");
    			add_location(div22, file$7, 251, 0, 6036);
    			attr_dev(h33, "id", "fasiliteron-title");
    			attr_dev(h33, "class", "title title-feature is-size-3-mobile is-size-3-tablet is-size-2-desktop svelte-xrtjkp");
    			add_location(h33, file$7, 289, 6, 7602);
    			attr_dev(p12, "class", "mt-6 svelte-xrtjkp");
    			add_location(p12, file$7, 290, 6, 7733);
    			attr_dev(p13, "class", "mt-5 svelte-xrtjkp");
    			add_location(p13, file$7, 293, 6, 8012);
    			attr_dev(div23, "class", "column is-two-fifths");
    			add_location(div23, file$7, 288, 4, 7557);
    			if (img6.src !== (img6_src_value = "https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=334&q=80")) attr_dev(img6, "src", img6_src_value);
    			attr_dev(img6, "alt", "image");
    			add_location(img6, file$7, 300, 10, 8401);
    			attr_dev(div24, "class", "column svelte-xrtjkp");
    			add_location(div24, file$7, 299, 8, 8369);
    			if (img7.src !== (img7_src_value = "https://images.unsplash.com/photo-1516756587022-7891ad56a8cd?ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80")) attr_dev(img7, "src", img7_src_value);
    			attr_dev(img7, "alt", "image");
    			add_location(img7, file$7, 303, 10, 8616);
    			attr_dev(div25, "class", "column svelte-xrtjkp");
    			add_location(div25, file$7, 302, 8, 8584);
    			attr_dev(div26, "class", "columns fasiliteron-image svelte-xrtjkp");
    			add_location(div26, file$7, 298, 6, 8320);
    			attr_dev(div27, "class", "column");
    			add_location(div27, file$7, 297, 4, 8292);
    			attr_dev(div28, "class", "columns");
    			add_location(div28, file$7, 287, 2, 7530);
    			attr_dev(div29, "class", "fasiliteron svelte-xrtjkp");
    			add_location(div29, file$7, 286, 0, 7501);
    			attr_dev(h34, "class", "title has-text-centered title-feature is-size-3-mobile is-size-3-tablet is-size-2-desktop mt-6 svelte-xrtjkp");
    			add_location(h34, file$7, 310, 2, 8836);
    			attr_dev(div30, "class", "testimoni svelte-xrtjkp");
    			add_location(div30, file$7, 309, 0, 8809);
    			if (img8.src !== (img8_src_value = "./assets/line_blue.svg")) attr_dev(img8, "src", img8_src_value);
    			attr_dev(img8, "alt", "");
    			add_location(img8, file$7, 313, 0, 8983);
    			attr_dev(p14, "class", "has-text-centered svelte-xrtjkp");
    			add_location(p14, file$7, 318, 8, 9168);
    			attr_dev(div31, "class", "ads-space svelte-xrtjkp");
    			add_location(div31, file$7, 317, 6, 9135);
    			attr_dev(div32, "class", "column");
    			add_location(div32, file$7, 316, 4, 9107);
    			attr_dev(p15, "class", "has-text-centered faq-text svelte-xrtjkp");
    			add_location(p15, file$7, 325, 8, 9326);
    			attr_dev(a1, "href", "#");
    			attr_dev(a1, "class", "svelte-xrtjkp");
    			add_location(a1, file$7, 330, 12, 9715);
    			attr_dev(button2, "class", "button btn-pertanyaan-lanjut is-info is-rounded is-outlined svelte-xrtjkp");
    			add_location(button2, file$7, 329, 10, 9625);
    			attr_dev(a2, "href", "#");
    			attr_dev(a2, "class", "svelte-xrtjkp");
    			add_location(a2, file$7, 333, 12, 9861);
    			attr_dev(button3, "class", "button btn-daftar-segera is-info is-rounded svelte-xrtjkp");
    			add_location(button3, file$7, 332, 10, 9787);
    			attr_dev(div33, "class", "btn-faq svelte-xrtjkp");
    			add_location(div33, file$7, 328, 8, 9592);
    			attr_dev(div34, "class", "simple-faq");
    			add_location(div34, file$7, 324, 6, 9292);
    			attr_dev(div35, "class", "column");
    			add_location(div35, file$7, 323, 4, 9264);
    			attr_dev(div36, "class", "columns is-variable is-8-desktop");
    			add_location(div36, file$7, 315, 2, 9055);
    			attr_dev(div37, "class", "faq-content svelte-xrtjkp");
    			add_location(div37, file$7, 314, 0, 9026);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div0, anchor);
    			insert_dev(target, t1, anchor);
    			insert_dev(target, div6, anchor);
    			append_dev(div6, div5);
    			append_dev(div5, div2);
    			append_dev(div2, div1);
    			append_dev(div1, img0);
    			append_dev(div5, t2);
    			append_dev(div5, div4);
    			append_dev(div4, div3);
    			append_dev(div3, h30);
    			append_dev(div3, t4);
    			append_dev(div3, p0);
    			append_dev(div3, t6);
    			append_dev(div3, p1);
    			append_dev(div3, t8);
    			append_dev(div3, button0);
    			insert_dev(target, t10, anchor);
    			insert_dev(target, div16, anchor);
    			append_dev(div16, h31);
    			append_dev(div16, t12);
    			append_dev(div16, div15);
    			append_dev(div15, div8);
    			append_dev(div8, div7);
    			append_dev(div7, img1);
    			append_dev(div7, t13);
    			append_dev(div7, p2);
    			append_dev(div15, t15);
    			append_dev(div15, div10);
    			append_dev(div10, div9);
    			append_dev(div9, img2);
    			append_dev(div9, t16);
    			append_dev(div9, p3);
    			append_dev(div15, t18);
    			append_dev(div15, div12);
    			append_dev(div12, div11);
    			append_dev(div11, img3);
    			append_dev(div11, t19);
    			append_dev(div11, p4);
    			append_dev(div15, t21);
    			append_dev(div15, div14);
    			append_dev(div14, div13);
    			append_dev(div13, img4);
    			append_dev(div13, t22);
    			append_dev(div13, p5);
    			insert_dev(target, t24, anchor);
    			insert_dev(target, div22, anchor);
    			append_dev(div22, h32);
    			append_dev(div22, t26);
    			append_dev(div22, div20);
    			append_dev(div20, div17);
    			append_dev(div17, p6);
    			append_dev(div17, t28);
    			append_dev(div17, p7);
    			append_dev(div17, t30);
    			append_dev(div17, p8);
    			append_dev(div20, t32);
    			append_dev(div20, div18);
    			append_dev(div18, img5);
    			append_dev(div20, t33);
    			append_dev(div20, div19);
    			append_dev(div19, p9);
    			append_dev(div19, t35);
    			append_dev(div19, p10);
    			append_dev(div19, t37);
    			append_dev(div19, p11);
    			append_dev(div22, t39);
    			append_dev(div22, div21);
    			append_dev(div21, a0);
    			append_dev(a0, button1);
    			insert_dev(target, t41, anchor);
    			insert_dev(target, div29, anchor);
    			append_dev(div29, div28);
    			append_dev(div28, div23);
    			append_dev(div23, h33);
    			append_dev(div23, t43);
    			append_dev(div23, p12);
    			append_dev(div23, t45);
    			append_dev(div23, p13);
    			append_dev(div28, t47);
    			append_dev(div28, div27);
    			append_dev(div27, div26);
    			append_dev(div26, div24);
    			append_dev(div24, img6);
    			append_dev(div26, t48);
    			append_dev(div26, div25);
    			append_dev(div25, img7);
    			insert_dev(target, t49, anchor);
    			insert_dev(target, div30, anchor);
    			append_dev(div30, h34);
    			append_dev(div30, t51);
    			mount_component(testimoni, div30, null);
    			insert_dev(target, t52, anchor);
    			insert_dev(target, img8, anchor);
    			insert_dev(target, t53, anchor);
    			insert_dev(target, div37, anchor);
    			append_dev(div37, div36);
    			append_dev(div36, div32);
    			append_dev(div32, div31);
    			append_dev(div31, p14);
    			append_dev(div36, t55);
    			append_dev(div36, div35);
    			append_dev(div35, div34);
    			append_dev(div34, p15);
    			append_dev(div34, t57);
    			append_dev(div34, div33);
    			append_dev(div33, button2);
    			append_dev(button2, a1);
    			append_dev(div33, t59);
    			append_dev(div33, button3);
    			append_dev(button3, a2);
    			current = true;
    		},
    		p: noop,
    		i: function intro(local) {
    			if (current) return;
    			transition_in(testimoni.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(testimoni.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div0);
    			if (detaching) detach_dev(t1);
    			if (detaching) detach_dev(div6);
    			if (detaching) detach_dev(t10);
    			if (detaching) detach_dev(div16);
    			if (detaching) detach_dev(t24);
    			if (detaching) detach_dev(div22);
    			if (detaching) detach_dev(t41);
    			if (detaching) detach_dev(div29);
    			if (detaching) detach_dev(t49);
    			if (detaching) detach_dev(div30);
    			destroy_component(testimoni);
    			if (detaching) detach_dev(t52);
    			if (detaching) detach_dev(img8);
    			if (detaching) detach_dev(t53);
    			if (detaching) detach_dev(div37);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$a.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$a($$self, $$props, $$invalidate) {
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<Pages> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Pages", $$slots, []);
    	$$self.$capture_state = () => ({ Testimoni });
    	return [];
    }

    class Pages extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$a, create_fragment$a, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Pages",
    			options,
    			id: create_fragment$a.name
    		});
    	}
    }

    /* src\pages\users\_reset.svelte generated by Svelte v3.24.0 */

    function create_fragment$b(ctx) {
    	let current;
    	const default_slot_template = /*$$slots*/ ctx[1].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[0], null);

    	const block = {
    		c: function create() {
    			if (default_slot) default_slot.c();
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			if (default_slot) {
    				default_slot.m(target, anchor);
    			}

    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && dirty & /*$$scope*/ 1) {
    					update_slot(default_slot, default_slot_template, ctx, /*$$scope*/ ctx[0], dirty, null, null);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (default_slot) default_slot.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$b.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$b($$self, $$props, $$invalidate) {
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<Reset> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Reset", $$slots, ['default']);

    	$$self.$set = $$props => {
    		if ("$$scope" in $$props) $$invalidate(0, $$scope = $$props.$$scope);
    	};

    	return [$$scope, $$slots];
    }

    class Reset$1 extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$b, create_fragment$b, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Reset",
    			options,
    			id: create_fragment$b.name
    		});
    	}
    }

    let TOdata = null;

    const dataTO = writable(TOdata);

    /* src\pages\users\admin\tryout\edit.svelte generated by Svelte v3.24.0 */

    const { console: console_1$3 } = globals;
    const file$8 = "src\\pages\\users\\admin\\tryout\\edit.svelte";

    function get_each_context_1$1(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[25] = list[i];
    	child_ctx[27] = i;
    	return child_ctx;
    }

    function get_each_context$3(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[22] = list[i];
    	child_ctx[24] = i;
    	return child_ctx;
    }

    // (136:0) {:catch error}
    function create_catch_block(ctx) {
    	let p;
    	let t_value = /*error*/ ctx[28].message + "";
    	let t;

    	const block = {
    		c: function create() {
    			p = element("p");
    			t = text(t_value);
    			set_style(p, "color", "red");
    			add_location(p, file$8, 136, 0, 4680);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, p, anchor);
    			append_dev(p, t);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*loadFullData*/ 8 && t_value !== (t_value = /*error*/ ctx[28].message + "")) set_data_dev(t, t_value);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(p);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_catch_block.name,
    		type: "catch",
    		source: "(136:0) {:catch error}",
    		ctx
    	});

    	return block;
    }

    // (84:0) {:then data}
    function create_then_block(ctx) {
    	let div2;
    	let div1;
    	let div0;
    	let input0;
    	let t0;
    	let button0;
    	let t2;
    	let div8;
    	let t3;
    	let br;
    	let t4;
    	let div7;
    	let div3;
    	let t5;
    	let div4;
    	let input1;
    	let t6;
    	let div5;
    	let input2;
    	let t7;
    	let div6;
    	let button1;
    	let span0;
    	let i;
    	let t8;
    	let span1;
    	let mounted;
    	let dispose;
    	let each_value = /*$dataTO*/ ctx[4].subtest;
    	validate_each_argument(each_value);
    	let each_blocks = [];

    	for (let i = 0; i < each_value.length; i += 1) {
    		each_blocks[i] = create_each_block$3(get_each_context$3(ctx, each_value, i));
    	}

    	let each_1_else = null;

    	if (!each_value.length) {
    		each_1_else = create_else_block_1(ctx);
    	}

    	const block = {
    		c: function create() {
    			div2 = element("div");
    			div1 = element("div");
    			div0 = element("div");
    			input0 = element("input");
    			t0 = space();
    			button0 = element("button");
    			button0.textContent = "save";
    			t2 = space();
    			div8 = element("div");

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			if (each_1_else) {
    				each_1_else.c();
    			}

    			t3 = space();
    			br = element("br");
    			t4 = space();
    			div7 = element("div");
    			div3 = element("div");
    			t5 = space();
    			div4 = element("div");
    			input1 = element("input");
    			t6 = space();
    			div5 = element("div");
    			input2 = element("input");
    			t7 = space();
    			div6 = element("div");
    			button1 = element("button");
    			span0 = element("span");
    			i = element("i");
    			t8 = space();
    			span1 = element("span");
    			span1.textContent = "subtest";
    			attr_dev(input0, "class", "input is-large");
    			attr_dev(input0, "type", "text");
    			attr_dev(input0, "placeholder", "Judul Tryout");
    			add_location(input0, file$8, 86, 28, 2318);
    			attr_dev(div0, "class", "column");
    			add_location(div0, file$8, 86, 8, 2298);
    			attr_dev(button0, "class", "button is-info is-outlined is-large column is-2");
    			add_location(button0, file$8, 87, 8, 2421);
    			attr_dev(div1, "class", "columns is-vcentered card-content");
    			add_location(div1, file$8, 85, 4, 2241);
    			attr_dev(div2, "class", "card");
    			set_style(div2, "position", "sticky");
    			set_style(div2, "top", "0");
    			set_style(div2, "z-index", "1");
    			add_location(div2, file$8, 84, 0, 2171);
    			add_location(br, file$8, 121, 4, 4000);
    			attr_dev(div3, "class", "column");
    			add_location(div3, file$8, 123, 4, 4082);
    			attr_dev(input1, "class", "input");
    			attr_dev(input1, "type", "text");
    			attr_dev(input1, "placeholder", "Judul subtest");
    			add_location(input1, file$8, 125, 12, 4157);
    			attr_dev(div4, "class", "column is-3");
    			add_location(div4, file$8, 124, 8, 4118);
    			attr_dev(input2, "class", "input");
    			attr_dev(input2, "type", "number");
    			attr_dev(input2, "min", "0");
    			attr_dev(input2, "placeholder", "Waktu dalam menit");
    			add_location(input2, file$8, 128, 12, 4302);
    			attr_dev(div5, "class", "column is-3");
    			add_location(div5, file$8, 127, 8, 4263);
    			attr_dev(i, "class", "fas fa-plus");
    			attr_dev(i, "aria-hidden", "true");
    			add_location(i, file$8, 131, 99, 4543);
    			attr_dev(span0, "class", "icon");
    			add_location(span0, file$8, 131, 80, 4524);
    			add_location(span1, file$8, 131, 153, 4597);
    			attr_dev(button1, "class", "button is-primary is-outlined");
    			add_location(button1, file$8, 131, 12, 4456);
    			attr_dev(div6, "class", "column is-2");
    			add_location(div6, file$8, 130, 8, 4417);
    			attr_dev(div7, "class", "columns is-vcentered is-1");
    			set_style(div7, "align-text", "right");
    			add_location(div7, file$8, 122, 4, 4010);
    			attr_dev(div8, "class", "container");
    			set_style(div8, "margin-top", "40px");
    			add_location(div8, file$8, 90, 0, 2538);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div2, anchor);
    			append_dev(div2, div1);
    			append_dev(div1, div0);
    			append_dev(div0, input0);
    			set_input_value(input0, /*name*/ ctx[1]);
    			append_dev(div1, t0);
    			append_dev(div1, button0);
    			insert_dev(target, t2, anchor);
    			insert_dev(target, div8, anchor);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(div8, null);
    			}

    			if (each_1_else) {
    				each_1_else.m(div8, null);
    			}

    			append_dev(div8, t3);
    			append_dev(div8, br);
    			append_dev(div8, t4);
    			append_dev(div8, div7);
    			append_dev(div7, div3);
    			append_dev(div7, t5);
    			append_dev(div7, div4);
    			append_dev(div4, input1);
    			set_input_value(input1, /*judul*/ ctx[0]);
    			append_dev(div7, t6);
    			append_dev(div7, div5);
    			append_dev(div5, input2);
    			set_input_value(input2, /*time*/ ctx[2]);
    			append_dev(div7, t7);
    			append_dev(div7, div6);
    			append_dev(div6, button1);
    			append_dev(button1, span0);
    			append_dev(span0, i);
    			append_dev(button1, t8);
    			append_dev(button1, span1);

    			if (!mounted) {
    				dispose = [
    					listen_dev(input0, "input", /*input0_input_handler*/ ctx[11]),
    					listen_dev(button0, "click", /*saveTO*/ ctx[10], false, false, false),
    					listen_dev(input1, "input", /*input1_input_handler*/ ctx[16]),
    					listen_dev(input2, "input", /*input2_input_handler*/ ctx[17]),
    					listen_dev(button1, "click", /*addSubtest*/ ctx[8], false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*name*/ 2 && input0.value !== /*name*/ ctx[1]) {
    				set_input_value(input0, /*name*/ ctx[1]);
    			}

    			if (dirty & /*delSoal, addSoal, $dataTO, $goto, delSubtest*/ 752) {
    				each_value = /*$dataTO*/ ctx[4].subtest;
    				validate_each_argument(each_value);
    				let i;

    				for (i = 0; i < each_value.length; i += 1) {
    					const child_ctx = get_each_context$3(ctx, each_value, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    					} else {
    						each_blocks[i] = create_each_block$3(child_ctx);
    						each_blocks[i].c();
    						each_blocks[i].m(div8, t3);
    					}
    				}

    				for (; i < each_blocks.length; i += 1) {
    					each_blocks[i].d(1);
    				}

    				each_blocks.length = each_value.length;

    				if (each_value.length) {
    					if (each_1_else) {
    						each_1_else.d(1);
    						each_1_else = null;
    					}
    				} else if (!each_1_else) {
    					each_1_else = create_else_block_1(ctx);
    					each_1_else.c();
    					each_1_else.m(div8, t3);
    				}
    			}

    			if (dirty & /*judul*/ 1 && input1.value !== /*judul*/ ctx[0]) {
    				set_input_value(input1, /*judul*/ ctx[0]);
    			}

    			if (dirty & /*time*/ 4 && to_number(input2.value) !== /*time*/ ctx[2]) {
    				set_input_value(input2, /*time*/ ctx[2]);
    			}
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div2);
    			if (detaching) detach_dev(t2);
    			if (detaching) detach_dev(div8);
    			destroy_each(each_blocks, detaching);
    			if (each_1_else) each_1_else.d();
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_then_block.name,
    		type: "then",
    		source: "(84:0) {:then data}",
    		ctx
    	});

    	return block;
    }

    // (117:0) {:else}
    function create_else_block_1(ctx) {
    	let div1;
    	let div0;
    	let p;

    	const block = {
    		c: function create() {
    			div1 = element("div");
    			div0 = element("div");
    			p = element("p");
    			p.textContent = "Belum ada subtest";
    			attr_dev(p, "class", "title is-5");
    			add_location(p, file$8, 118, 34, 3924);
    			attr_dev(div0, "class", "card-content");
    			add_location(div0, file$8, 118, 8, 3898);
    			attr_dev(div1, "class", "card");
    			add_location(div1, file$8, 117, 1, 3870);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div1, anchor);
    			append_dev(div1, div0);
    			append_dev(div0, p);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div1);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block_1.name,
    		type: "else",
    		source: "(117:0) {:else}",
    		ctx
    	});

    	return block;
    }

    // (109:16) {:else}
    function create_else_block$2(ctx) {
    	let p;

    	const block = {
    		c: function create() {
    			p = element("p");
    			p.textContent = "Belum ada soal  ";
    			add_location(p, file$8, 109, 20, 3411);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, p, anchor);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(p);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block$2.name,
    		type: "else",
    		source: "(109:16) {:else}",
    		ctx
    	});

    	return block;
    }

    // (105:16) {#each sub.soal as soal_value,j}
    function create_each_block_1$1(ctx) {
    	let button;
    	let t_value = /*soal_value*/ ctx[25].no + "";
    	let t;
    	let mounted;
    	let dispose;

    	function click_handler_1(...args) {
    		return /*click_handler_1*/ ctx[13](/*i*/ ctx[24], /*j*/ ctx[27], ...args);
    	}

    	const block = {
    		c: function create() {
    			button = element("button");
    			t = text(t_value);
    			attr_dev(button, "class", "button is-link is-light");
    			add_location(button, file$8, 105, 20, 3191);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, button, anchor);
    			append_dev(button, t);

    			if (!mounted) {
    				dispose = listen_dev(button, "click", click_handler_1, false, false, false);
    				mounted = true;
    			}
    		},
    		p: function update(new_ctx, dirty) {
    			ctx = new_ctx;
    			if (dirty & /*$dataTO*/ 16 && t_value !== (t_value = /*soal_value*/ ctx[25].no + "")) set_data_dev(t, t_value);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(button);
    			mounted = false;
    			dispose();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block_1$1.name,
    		type: "each",
    		source: "(105:16) {#each sub.soal as soal_value,j}",
    		ctx
    	});

    	return block;
    }

    // (92:0) {#each $dataTO.subtest as sub,i}
    function create_each_block$3(ctx) {
    	let div2;
    	let header;
    	let p0;
    	let t0_value = /*sub*/ ctx[22].judul + "";
    	let t0;
    	let t1;
    	let t2_value = /*sub*/ ctx[22].time_in_minute + "";
    	let t2;
    	let t3;
    	let t4;
    	let p1;
    	let span0;
    	let i0;
    	let t5;
    	let div1;
    	let div0;
    	let t6;
    	let button0;
    	let span1;
    	let i1;
    	let t7;
    	let button1;
    	let span2;
    	let i2;
    	let mounted;
    	let dispose;

    	function click_handler(...args) {
    		return /*click_handler*/ ctx[12](/*i*/ ctx[24], ...args);
    	}

    	let each_value_1 = /*sub*/ ctx[22].soal;
    	validate_each_argument(each_value_1);
    	let each_blocks = [];

    	for (let i = 0; i < each_value_1.length; i += 1) {
    		each_blocks[i] = create_each_block_1$1(get_each_context_1$1(ctx, each_value_1, i));
    	}

    	let each_1_else_1 = null;

    	if (!each_value_1.length) {
    		each_1_else_1 = create_else_block$2(ctx);
    	}

    	function click_handler_2(...args) {
    		return /*click_handler_2*/ ctx[14](/*i*/ ctx[24], ...args);
    	}

    	function click_handler_3(...args) {
    		return /*click_handler_3*/ ctx[15](/*i*/ ctx[24], ...args);
    	}

    	const block = {
    		c: function create() {
    			div2 = element("div");
    			header = element("header");
    			p0 = element("p");
    			t0 = text(t0_value);
    			t1 = text(" - ");
    			t2 = text(t2_value);
    			t3 = text(" minutes");
    			t4 = space();
    			p1 = element("p");
    			span0 = element("span");
    			i0 = element("i");
    			t5 = space();
    			div1 = element("div");
    			div0 = element("div");

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			if (each_1_else_1) {
    				each_1_else_1.c();
    			}

    			t6 = space();
    			button0 = element("button");
    			span1 = element("span");
    			i1 = element("i");
    			t7 = space();
    			button1 = element("button");
    			span2 = element("span");
    			i2 = element("i");
    			attr_dev(p0, "class", "card-header-title");
    			add_location(p0, file$8, 94, 12, 2696);
    			attr_dev(i0, "class", "fas fa-trash has-text-danger");
    			attr_dev(i0, "aria-hidden", "true");
    			add_location(i0, file$8, 98, 16, 2927);
    			attr_dev(span0, "class", "icon");
    			add_location(span0, file$8, 97, 12, 2890);
    			attr_dev(p1, "class", "card-header-icon");
    			attr_dev(p1, "aria-label", "delete");
    			add_location(p1, file$8, 96, 12, 2799);
    			attr_dev(header, "class", "card-header");
    			add_location(header, file$8, 93, 8, 2654);
    			attr_dev(i1, "class", "fas fa-plus");
    			attr_dev(i1, "aria-hidden", "true");
    			add_location(i1, file$8, 111, 109, 3575);
    			attr_dev(span1, "class", "icon");
    			add_location(span1, file$8, 111, 90, 3556);
    			attr_dev(button0, "class", "button is-primary is-outlined");
    			add_location(button0, file$8, 111, 16, 3482);
    			attr_dev(i2, "class", "fas fa-trash");
    			attr_dev(i2, "aria-hidden", "true");
    			add_location(i2, file$8, 112, 108, 3747);
    			attr_dev(span2, "class", "icon");
    			add_location(span2, file$8, 112, 89, 3728);
    			attr_dev(button1, "class", "button is-danger is-outlined");
    			add_location(button1, file$8, 112, 16, 3655);
    			attr_dev(div0, "class", "buttons");
    			add_location(div0, file$8, 103, 12, 3098);
    			attr_dev(div1, "class", "card-content");
    			add_location(div1, file$8, 102, 8, 3058);
    			attr_dev(div2, "class", "card");
    			add_location(div2, file$8, 92, 4, 2626);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div2, anchor);
    			append_dev(div2, header);
    			append_dev(header, p0);
    			append_dev(p0, t0);
    			append_dev(p0, t1);
    			append_dev(p0, t2);
    			append_dev(p0, t3);
    			append_dev(header, t4);
    			append_dev(header, p1);
    			append_dev(p1, span0);
    			append_dev(span0, i0);
    			append_dev(div2, t5);
    			append_dev(div2, div1);
    			append_dev(div1, div0);

    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(div0, null);
    			}

    			if (each_1_else_1) {
    				each_1_else_1.m(div0, null);
    			}

    			append_dev(div0, t6);
    			append_dev(div0, button0);
    			append_dev(button0, span1);
    			append_dev(span1, i1);
    			append_dev(div0, t7);
    			append_dev(div0, button1);
    			append_dev(button1, span2);
    			append_dev(span2, i2);

    			if (!mounted) {
    				dispose = [
    					listen_dev(p1, "click", click_handler, false, false, false),
    					listen_dev(button0, "click", click_handler_2, false, false, false),
    					listen_dev(button1, "click", click_handler_3, false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(new_ctx, dirty) {
    			ctx = new_ctx;
    			if (dirty & /*$dataTO*/ 16 && t0_value !== (t0_value = /*sub*/ ctx[22].judul + "")) set_data_dev(t0, t0_value);
    			if (dirty & /*$dataTO*/ 16 && t2_value !== (t2_value = /*sub*/ ctx[22].time_in_minute + "")) set_data_dev(t2, t2_value);

    			if (dirty & /*$goto, $dataTO*/ 48) {
    				each_value_1 = /*sub*/ ctx[22].soal;
    				validate_each_argument(each_value_1);
    				let i;

    				for (i = 0; i < each_value_1.length; i += 1) {
    					const child_ctx = get_each_context_1$1(ctx, each_value_1, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    					} else {
    						each_blocks[i] = create_each_block_1$1(child_ctx);
    						each_blocks[i].c();
    						each_blocks[i].m(div0, t6);
    					}
    				}

    				for (; i < each_blocks.length; i += 1) {
    					each_blocks[i].d(1);
    				}

    				each_blocks.length = each_value_1.length;

    				if (each_value_1.length) {
    					if (each_1_else_1) {
    						each_1_else_1.d(1);
    						each_1_else_1 = null;
    					}
    				} else if (!each_1_else_1) {
    					each_1_else_1 = create_else_block$2(ctx);
    					each_1_else_1.c();
    					each_1_else_1.m(div0, t6);
    				}
    			}
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div2);
    			destroy_each(each_blocks, detaching);
    			if (each_1_else_1) each_1_else_1.d();
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block$3.name,
    		type: "each",
    		source: "(92:0) {#each $dataTO.subtest as sub,i}",
    		ctx
    	});

    	return block;
    }

    // (82:21)   loading boss...  {:then data}
    function create_pending_block(ctx) {
    	let t;

    	const block = {
    		c: function create() {
    			t = text("loading boss...");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, t, anchor);
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_pending_block.name,
    		type: "pending",
    		source: "(82:21)   loading boss...  {:then data}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$c(ctx) {
    	let await_block_anchor;
    	let promise;

    	let info = {
    		ctx,
    		current: null,
    		token: null,
    		pending: create_pending_block,
    		then: create_then_block,
    		catch: create_catch_block,
    		value: 21,
    		error: 28
    	};

    	handle_promise(promise = /*loadFullData*/ ctx[3], info);

    	const block = {
    		c: function create() {
    			await_block_anchor = empty();
    			info.block.c();
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, await_block_anchor, anchor);
    			info.block.m(target, info.anchor = anchor);
    			info.mount = () => await_block_anchor.parentNode;
    			info.anchor = await_block_anchor;
    		},
    		p: function update(new_ctx, [dirty]) {
    			ctx = new_ctx;
    			info.ctx = ctx;

    			if (dirty & /*loadFullData*/ 8 && promise !== (promise = /*loadFullData*/ ctx[3]) && handle_promise(promise, info)) ; else {
    				const child_ctx = ctx.slice();
    				child_ctx[21] = info.resolved;
    				info.block.p(child_ctx, dirty);
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(await_block_anchor);
    			info.block.d(detaching);
    			info.token = null;
    			info = null;
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$c.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$c($$self, $$props, $$invalidate) {
    	let $dataTO;
    	let $params;
    	let $goto;
    	validate_store(dataTO, "dataTO");
    	component_subscribe($$self, dataTO, $$value => $$invalidate(4, $dataTO = $$value));
    	validate_store(params, "params");
    	component_subscribe($$self, params, $$value => $$invalidate(18, $params = $$value));
    	validate_store(goto, "goto");
    	component_subscribe($$self, goto, $$value => $$invalidate(5, $goto = $$value));
    	let judul = "";
    	let name = "";
    	let time = 0;

    	const templateSoal = {
    		question: "Masukan disini!",
    		option_a: "Masukan disini!",
    		option_b: "Masukan disini!",
    		option_c: "Masukan disini!",
    		option_d: "Masukan disini!",
    		option_e: "Masukan disini!",
    		key: "A",
    		no: 0,
    		solution: "Masukan solusi persoalan disini"
    	};

    	let isDirty = true;
    	let loadFullData = null;

    	if ($dataTO === null) {
    		loadFullData = fetch(`http://${window.location.host}/tryout/fulldata/${$params.idtryout}`).then(res => res.json()).then(json => {
    			dataTO.update(n => json);
    			$$invalidate(1, name = json.name);
    		});
    	} else {
    		name = $dataTO.name;
    	}

    	function addSoal(idSubtest) {
    		dataTO.update(n => {
    			n.subtest[idSubtest].soal.push({
    				...templateSoal,
    				no: n.subtest[idSubtest].soal.length + 1
    			});

    			return n;
    		});
    	}

    	function delSoal(idSubtest) {
    		dataTO.update(n => {
    			n.subtest[idSubtest].soal.pop();
    			return n;
    		});
    	}

    	function addSubtest(event) {
    		dataTO.update(n => {
    			n.subtest.push({
    				judul: judul === ""
    				? "Subtest " + (n.subtest.length + 1)
    				: judul,
    				time_in_minute: time,
    				soal: []
    			});

    			return n;
    		});

    		$$invalidate(0, judul = "");
    		$$invalidate(2, time = 0);
    	}

    	function delSubtest(id) {
    		dataTO.update(n => {
    			n.subtest.splice(id, 1);
    			return n;
    		});
    	}

    	function saveTO() {
    		let saveData = $dataTO;
    		saveData.name = name;

    		fetch(`http://${window.location.host}/tryout/save`, {
    			method: "POST",
    			body: JSON.stringify(saveData)
    		}).then(() => {
    			$goto("../list");
    		}).catch(e => console.log(e.message));
    	}

    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console_1$3.warn(`<Edit> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Edit", $$slots, []);

    	function input0_input_handler() {
    		name = this.value;
    		$$invalidate(1, name);
    	}

    	const click_handler = i => delSubtest(i);

    	const click_handler_1 = (i, j, event) => {
    		$goto("../soal", { subtest: i, soal: j });
    	};

    	const click_handler_2 = i => addSoal(i);
    	const click_handler_3 = i => delSoal(i);

    	function input1_input_handler() {
    		judul = this.value;
    		$$invalidate(0, judul);
    	}

    	function input2_input_handler() {
    		time = to_number(this.value);
    		$$invalidate(2, time);
    	}

    	$$self.$capture_state = () => ({
    		dataTO,
    		goto,
    		params,
    		judul,
    		name,
    		time,
    		templateSoal,
    		isDirty,
    		loadFullData,
    		addSoal,
    		delSoal,
    		addSubtest,
    		delSubtest,
    		saveTO,
    		$dataTO,
    		$params,
    		$goto
    	});

    	$$self.$inject_state = $$props => {
    		if ("judul" in $$props) $$invalidate(0, judul = $$props.judul);
    		if ("name" in $$props) $$invalidate(1, name = $$props.name);
    		if ("time" in $$props) $$invalidate(2, time = $$props.time);
    		if ("isDirty" in $$props) isDirty = $$props.isDirty;
    		if ("loadFullData" in $$props) $$invalidate(3, loadFullData = $$props.loadFullData);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [
    		judul,
    		name,
    		time,
    		loadFullData,
    		$dataTO,
    		$goto,
    		addSoal,
    		delSoal,
    		addSubtest,
    		delSubtest,
    		saveTO,
    		input0_input_handler,
    		click_handler,
    		click_handler_1,
    		click_handler_2,
    		click_handler_3,
    		input1_input_handler,
    		input2_input_handler
    	];
    }

    class Edit extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$c, create_fragment$c, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Edit",
    			options,
    			id: create_fragment$c.name
    		});
    	}
    }

    /* src\pages\users\admin\tryout\list.svelte generated by Svelte v3.24.0 */
    const file$9 = "src\\pages\\users\\admin\\tryout\\list.svelte";

    function get_each_context$4(ctx, list, i) {
    	const child_ctx = ctx.slice();
    	child_ctx[19] = list[i];
    	return child_ctx;
    }

    // (71:12) {:catch error}
    function create_catch_block_1(ctx) {
    	let p;
    	let t_value = /*error*/ ctx[17].message + "";
    	let t;

    	const block = {
    		c: function create() {
    			p = element("p");
    			t = text(t_value);
    			set_style(p, "color", "red");
    			add_location(p, file$9, 71, 16, 2638);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, p, anchor);
    			append_dev(p, t);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*listTO*/ 2 && t_value !== (t_value = /*error*/ ctx[17].message + "")) set_data_dev(t, t_value);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(p);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_catch_block_1.name,
    		type: "catch",
    		source: "(71:12) {:catch error}",
    		ctx
    	});

    	return block;
    }

    // (55:12) {:then list}
    function create_then_block_1(ctx) {
    	let each_1_anchor;
    	let each_value = /*list*/ ctx[18];
    	validate_each_argument(each_value);
    	let each_blocks = [];

    	for (let i = 0; i < each_value.length; i += 1) {
    		each_blocks[i] = create_each_block$4(get_each_context$4(ctx, each_value, i));
    	}

    	let each_1_else = null;

    	if (!each_value.length) {
    		each_1_else = create_else_block_1$1(ctx);
    	}

    	const block = {
    		c: function create() {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].c();
    			}

    			each_1_anchor = empty();

    			if (each_1_else) {
    				each_1_else.c();
    			}
    		},
    		m: function mount(target, anchor) {
    			for (let i = 0; i < each_blocks.length; i += 1) {
    				each_blocks[i].m(target, anchor);
    			}

    			insert_dev(target, each_1_anchor, anchor);

    			if (each_1_else) {
    				each_1_else.m(target, anchor);
    			}
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*delTOclick, listTO, publishTO, unpublishTO, $goto*/ 234) {
    				each_value = /*list*/ ctx[18];
    				validate_each_argument(each_value);
    				let i;

    				for (i = 0; i < each_value.length; i += 1) {
    					const child_ctx = get_each_context$4(ctx, each_value, i);

    					if (each_blocks[i]) {
    						each_blocks[i].p(child_ctx, dirty);
    					} else {
    						each_blocks[i] = create_each_block$4(child_ctx);
    						each_blocks[i].c();
    						each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
    					}
    				}

    				for (; i < each_blocks.length; i += 1) {
    					each_blocks[i].d(1);
    				}

    				each_blocks.length = each_value.length;

    				if (each_value.length) {
    					if (each_1_else) {
    						each_1_else.d(1);
    						each_1_else = null;
    					}
    				} else if (!each_1_else) {
    					each_1_else = create_else_block_1$1(ctx);
    					each_1_else.c();
    					each_1_else.m(each_1_anchor.parentNode, each_1_anchor);
    				}
    			}
    		},
    		d: function destroy(detaching) {
    			destroy_each(each_blocks, detaching);
    			if (detaching) detach_dev(each_1_anchor);
    			if (each_1_else) each_1_else.d(detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_then_block_1.name,
    		type: "then",
    		source: "(55:12) {:then list}",
    		ctx
    	});

    	return block;
    }

    // (68:16) {:else}
    function create_else_block_1$1(ctx) {
    	let p;

    	const block = {
    		c: function create() {
    			p = element("p");
    			p.textContent = "Belum ada tryout";
    			add_location(p, file$9, 68, 16, 2544);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, p, anchor);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(p);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block_1$1.name,
    		type: "else",
    		source: "(68:16) {:else}",
    		ctx
    	});

    	return block;
    }

    // (63:24) {:else}
    function create_else_block$3(ctx) {
    	let td;
    	let button;
    	let mounted;
    	let dispose;

    	function click_handler_2(...args) {
    		return /*click_handler_2*/ ctx[10](/*to*/ ctx[19], ...args);
    	}

    	const block = {
    		c: function create() {
    			td = element("td");
    			button = element("button");
    			button.textContent = "Unpublish";
    			attr_dev(button, "class", "button is-danger is-small");
    			add_location(button, file$9, 63, 28, 2204);
    			add_location(td, file$9, 63, 24, 2200);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, td, anchor);
    			append_dev(td, button);

    			if (!mounted) {
    				dispose = listen_dev(button, "click", click_handler_2, false, false, false);
    				mounted = true;
    			}
    		},
    		p: function update(new_ctx, dirty) {
    			ctx = new_ctx;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(td);
    			mounted = false;
    			dispose();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_else_block$3.name,
    		type: "else",
    		source: "(63:24) {:else}",
    		ctx
    	});

    	return block;
    }

    // (61:24) {#if to.publish_time==null}
    function create_if_block$4(ctx) {
    	let td;
    	let button;
    	let mounted;
    	let dispose;

    	function click_handler_1(...args) {
    		return /*click_handler_1*/ ctx[9](/*to*/ ctx[19], ...args);
    	}

    	const block = {
    		c: function create() {
    			td = element("td");
    			button = element("button");
    			button.textContent = "Publish";
    			attr_dev(button, "class", "button is-link is-small");
    			add_location(button, file$9, 61, 28, 2040);
    			add_location(td, file$9, 61, 24, 2036);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, td, anchor);
    			append_dev(td, button);

    			if (!mounted) {
    				dispose = listen_dev(button, "click", click_handler_1, false, false, false);
    				mounted = true;
    			}
    		},
    		p: function update(new_ctx, dirty) {
    			ctx = new_ctx;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(td);
    			mounted = false;
    			dispose();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_if_block$4.name,
    		type: "if",
    		source: "(61:24) {#if to.publish_time==null}",
    		ctx
    	});

    	return block;
    }

    // (56:16) {#each list as to}
    function create_each_block$4(ctx) {
    	let tr;
    	let td0;
    	let t0_value = /*to*/ ctx[19].name + "";
    	let t0;
    	let t1;
    	let td1;
    	let t2_value = /*to*/ ctx[19].tryout_price.replace(/\B(?=(\d{3})+(?!\d))/g, ".") + "";
    	let t2;
    	let t3;
    	let td2;
    	let button0;
    	let t5;
    	let t6;
    	let td3;
    	let button1;
    	let t8;
    	let mounted;
    	let dispose;

    	function click_handler(...args) {
    		return /*click_handler*/ ctx[8](/*to*/ ctx[19], ...args);
    	}

    	function select_block_type(ctx, dirty) {
    		if (/*to*/ ctx[19].publish_time == null) return create_if_block$4;
    		return create_else_block$3;
    	}

    	let current_block_type = select_block_type(ctx);
    	let if_block = current_block_type(ctx);

    	function click_handler_3(...args) {
    		return /*click_handler_3*/ ctx[11](/*to*/ ctx[19], ...args);
    	}

    	const block = {
    		c: function create() {
    			tr = element("tr");
    			td0 = element("td");
    			t0 = text(t0_value);
    			t1 = space();
    			td1 = element("td");
    			t2 = text(t2_value);
    			t3 = space();
    			td2 = element("td");
    			button0 = element("button");
    			button0.textContent = "Edit";
    			t5 = space();
    			if_block.c();
    			t6 = space();
    			td3 = element("td");
    			button1 = element("button");
    			button1.textContent = "Hapus";
    			t8 = space();
    			add_location(td0, file$9, 57, 24, 1704);
    			add_location(td1, file$9, 58, 24, 1748);
    			attr_dev(button0, "class", "button is-info is-small");
    			add_location(button0, file$9, 59, 28, 1842);
    			add_location(td2, file$9, 59, 24, 1838);
    			attr_dev(button1, "class", "button is-danger is-small");
    			add_location(button1, file$9, 65, 28, 2372);
    			add_location(td3, file$9, 65, 24, 2368);
    			add_location(tr, file$9, 56, 20, 1674);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, tr, anchor);
    			append_dev(tr, td0);
    			append_dev(td0, t0);
    			append_dev(tr, t1);
    			append_dev(tr, td1);
    			append_dev(td1, t2);
    			append_dev(tr, t3);
    			append_dev(tr, td2);
    			append_dev(td2, button0);
    			append_dev(tr, t5);
    			if_block.m(tr, null);
    			append_dev(tr, t6);
    			append_dev(tr, td3);
    			append_dev(td3, button1);
    			append_dev(tr, t8);

    			if (!mounted) {
    				dispose = [
    					listen_dev(button0, "click", click_handler, false, false, false),
    					listen_dev(button1, "click", click_handler_3, false, false, false)
    				];

    				mounted = true;
    			}
    		},
    		p: function update(new_ctx, dirty) {
    			ctx = new_ctx;
    			if (dirty & /*listTO*/ 2 && t0_value !== (t0_value = /*to*/ ctx[19].name + "")) set_data_dev(t0, t0_value);
    			if (dirty & /*listTO*/ 2 && t2_value !== (t2_value = /*to*/ ctx[19].tryout_price.replace(/\B(?=(\d{3})+(?!\d))/g, ".") + "")) set_data_dev(t2, t2_value);

    			if (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {
    				if_block.p(ctx, dirty);
    			} else {
    				if_block.d(1);
    				if_block = current_block_type(ctx);

    				if (if_block) {
    					if_block.c();
    					if_block.m(tr, t6);
    				}
    			}
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(tr);
    			if_block.d();
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_each_block$4.name,
    		type: "each",
    		source: "(56:16) {#each list as to}",
    		ctx
    	});

    	return block;
    }

    // (53:27)               <p>...loading boss</p>              {:then list}
    function create_pending_block_1(ctx) {
    	let p;

    	const block = {
    		c: function create() {
    			p = element("p");
    			p.textContent = "...loading boss";
    			add_location(p, file$9, 53, 12, 1568);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, p, anchor);
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(p);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_pending_block_1.name,
    		type: "pending",
    		source: "(53:27)               <p>...loading boss</p>              {:then list}",
    		ctx
    	});

    	return block;
    }

    // (89:12) {:catch error}
    function create_catch_block$1(ctx) {
    	let td;
    	let button;
    	let mounted;
    	let dispose;

    	const block = {
    		c: function create() {
    			td = element("td");
    			button = element("button");
    			button.textContent = "Tambah Tryout";
    			attr_dev(button, "class", "button is-primary");
    			add_location(button, file$9, 89, 28, 3649);
    			attr_dev(td, "colspan", "3");
    			add_location(td, file$9, 89, 12, 3633);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, td, anchor);
    			append_dev(td, button);

    			if (!mounted) {
    				dispose = listen_dev(button, "click", /*addTOclick*/ ctx[4], false, false, false);
    				mounted = true;
    			}
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(td);
    			mounted = false;
    			dispose();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_catch_block$1.name,
    		type: "catch",
    		source: "(89:12) {:catch error}",
    		ctx
    	});

    	return block;
    }

    // (87:12) {:then nothing}
    function create_then_block$1(ctx) {
    	let td;
    	let button;
    	let mounted;
    	let dispose;

    	const block = {
    		c: function create() {
    			td = element("td");
    			button = element("button");
    			button.textContent = "Tambah Tryout";
    			attr_dev(button, "class", "button is-primary");
    			add_location(button, file$9, 87, 28, 3508);
    			attr_dev(td, "colspan", "3");
    			add_location(td, file$9, 87, 12, 3492);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, td, anchor);
    			append_dev(td, button);

    			if (!mounted) {
    				dispose = listen_dev(button, "click", /*addTOclick*/ ctx[4], false, false, false);
    				mounted = true;
    			}
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(td);
    			mounted = false;
    			dispose();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_then_block$1.name,
    		type: "then",
    		source: "(87:12) {:then nothing}",
    		ctx
    	});

    	return block;
    }

    // (85:26)               <td colspan="3"><button class="button is-primary is-loading">Tambah Tryout</button></td>              {:then nothing}
    function create_pending_block$1(ctx) {
    	let td;
    	let button;

    	const block = {
    		c: function create() {
    			td = element("td");
    			button = element("button");
    			button.textContent = "Tambah Tryout";
    			attr_dev(button, "class", "button is-primary is-loading");
    			add_location(button, file$9, 85, 28, 3377);
    			attr_dev(td, "colspan", "3");
    			add_location(td, file$9, 85, 12, 3361);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, td, anchor);
    			append_dev(td, button);
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(td);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_pending_block$1.name,
    		type: "pending",
    		source: "(85:26)               <td colspan=\\\"3\\\"><button class=\\\"button is-primary is-loading\\\">Tambah Tryout</button></td>              {:then nothing}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$d(ctx) {
    	let div;
    	let table;
    	let thead;
    	let tr0;
    	let th0;
    	let t1;
    	let th1;
    	let t3;
    	let th2;
    	let t4;
    	let th3;
    	let t5;
    	let th4;
    	let t6;
    	let tbody;
    	let promise;
    	let t7;
    	let tr1;
    	let td0;
    	let t9;
    	let td1;
    	let t11;
    	let td2;
    	let button0;
    	let t13;
    	let td3;
    	let button1;
    	let t15;
    	let td4;
    	let button2;
    	let t17;
    	let tfoot;
    	let td5;
    	let input0;
    	let t18;
    	let td6;
    	let input1;
    	let t19;
    	let promise_1;
    	let mounted;
    	let dispose;

    	let info = {
    		ctx,
    		current: null,
    		token: null,
    		pending: create_pending_block_1,
    		then: create_then_block_1,
    		catch: create_catch_block_1,
    		value: 18,
    		error: 17
    	};

    	handle_promise(promise = /*listTO*/ ctx[1], info);

    	let info_1 = {
    		ctx,
    		current: null,
    		token: null,
    		pending: create_pending_block$1,
    		then: create_then_block$1,
    		catch: create_catch_block$1,
    		value: 16,
    		error: 17
    	};

    	handle_promise(promise_1 = /*addTO*/ ctx[2], info_1);

    	const block = {
    		c: function create() {
    			div = element("div");
    			table = element("table");
    			thead = element("thead");
    			tr0 = element("tr");
    			th0 = element("th");
    			th0.textContent = "Judul";
    			t1 = space();
    			th1 = element("th");
    			th1.textContent = "Harga";
    			t3 = space();
    			th2 = element("th");
    			t4 = space();
    			th3 = element("th");
    			t5 = space();
    			th4 = element("th");
    			t6 = space();
    			tbody = element("tbody");
    			info.block.c();
    			t7 = space();
    			tr1 = element("tr");
    			td0 = element("td");
    			td0.textContent = "Tryout 2";
    			t9 = space();
    			td1 = element("td");
    			td1.textContent = "20.000";
    			t11 = space();
    			td2 = element("td");
    			button0 = element("button");
    			button0.textContent = "Edit";
    			t13 = space();
    			td3 = element("td");
    			button1 = element("button");
    			button1.textContent = "Publish";
    			t15 = space();
    			td4 = element("td");
    			button2 = element("button");
    			button2.textContent = "Hapus";
    			t17 = space();
    			tfoot = element("tfoot");
    			td5 = element("td");
    			input0 = element("input");
    			t18 = space();
    			td6 = element("td");
    			input1 = element("input");
    			t19 = space();
    			info_1.block.c();
    			add_location(th0, file$9, 44, 16, 1344);
    			add_location(th1, file$9, 45, 16, 1376);
    			add_location(th2, file$9, 46, 16, 1408);
    			add_location(th3, file$9, 47, 16, 1435);
    			add_location(th4, file$9, 48, 16, 1462);
    			add_location(tr0, file$9, 43, 12, 1322);
    			add_location(thead, file$9, 42, 8, 1301);
    			add_location(td0, file$9, 74, 16, 2737);
    			add_location(td1, file$9, 75, 16, 2772);
    			attr_dev(button0, "class", "button is-info is-small");
    			add_location(button0, file$9, 76, 20, 2809);
    			add_location(td2, file$9, 76, 16, 2805);
    			attr_dev(button1, "class", "button is-link is-small");
    			button1.disabled = true;
    			add_location(button1, file$9, 77, 20, 2889);
    			add_location(td3, file$9, 77, 16, 2885);
    			attr_dev(button2, "class", "button is-danger is-small");
    			add_location(button2, file$9, 78, 20, 2981);
    			add_location(td4, file$9, 78, 16, 2977);
    			add_location(tr1, file$9, 73, 12, 2715);
    			add_location(tbody, file$9, 51, 8, 1518);
    			attr_dev(input0, "class", "input");
    			attr_dev(input0, "type", "text");
    			attr_dev(input0, "placeholder", "Judul Tryout");
    			add_location(input0, file$9, 82, 16, 3114);
    			add_location(td5, file$9, 82, 12, 3110);
    			attr_dev(input1, "class", "input");
    			attr_dev(input1, "type", "text");
    			attr_dev(input1, "placeholder", "Harga");
    			add_location(input1, file$9, 83, 16, 3225);
    			add_location(td6, file$9, 83, 12, 3221);
    			add_location(tfoot, file$9, 81, 8, 3089);
    			attr_dev(table, "class", "table");
    			add_location(table, file$9, 41, 4, 1270);
    			attr_dev(div, "class", "container");
    			add_location(div, file$9, 40, 0, 1241);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div, anchor);
    			append_dev(div, table);
    			append_dev(table, thead);
    			append_dev(thead, tr0);
    			append_dev(tr0, th0);
    			append_dev(tr0, t1);
    			append_dev(tr0, th1);
    			append_dev(tr0, t3);
    			append_dev(tr0, th2);
    			append_dev(tr0, t4);
    			append_dev(tr0, th3);
    			append_dev(tr0, t5);
    			append_dev(tr0, th4);
    			append_dev(table, t6);
    			append_dev(table, tbody);
    			info.block.m(tbody, info.anchor = null);
    			info.mount = () => tbody;
    			info.anchor = t7;
    			append_dev(tbody, t7);
    			append_dev(tbody, tr1);
    			append_dev(tr1, td0);
    			append_dev(tr1, t9);
    			append_dev(tr1, td1);
    			append_dev(tr1, t11);
    			append_dev(tr1, td2);
    			append_dev(td2, button0);
    			append_dev(tr1, t13);
    			append_dev(tr1, td3);
    			append_dev(td3, button1);
    			append_dev(tr1, t15);
    			append_dev(tr1, td4);
    			append_dev(td4, button2);
    			append_dev(table, t17);
    			append_dev(table, tfoot);
    			append_dev(tfoot, td5);
    			append_dev(td5, input0);
    			set_input_value(input0, /*formNewTO*/ ctx[0].name);
    			append_dev(tfoot, t18);
    			append_dev(tfoot, td6);
    			append_dev(td6, input1);
    			set_input_value(input1, /*formNewTO*/ ctx[0].tryout_price);
    			append_dev(tfoot, t19);
    			info_1.block.m(tfoot, info_1.anchor = null);
    			info_1.mount = () => tfoot;
    			info_1.anchor = null;

    			if (!mounted) {
    				dispose = [
    					listen_dev(input0, "input", /*input0_input_handler*/ ctx[12]),
    					listen_dev(input1, "input", /*input1_input_handler*/ ctx[13])
    				];

    				mounted = true;
    			}
    		},
    		p: function update(new_ctx, [dirty]) {
    			ctx = new_ctx;
    			info.ctx = ctx;

    			if (dirty & /*listTO*/ 2 && promise !== (promise = /*listTO*/ ctx[1]) && handle_promise(promise, info)) ; else {
    				const child_ctx = ctx.slice();
    				child_ctx[18] = info.resolved;
    				info.block.p(child_ctx, dirty);
    			}

    			if (dirty & /*formNewTO*/ 1 && input0.value !== /*formNewTO*/ ctx[0].name) {
    				set_input_value(input0, /*formNewTO*/ ctx[0].name);
    			}

    			if (dirty & /*formNewTO*/ 1 && input1.value !== /*formNewTO*/ ctx[0].tryout_price) {
    				set_input_value(input1, /*formNewTO*/ ctx[0].tryout_price);
    			}

    			info_1.ctx = ctx;

    			if (dirty & /*addTO*/ 4 && promise_1 !== (promise_1 = /*addTO*/ ctx[2]) && handle_promise(promise_1, info_1)) ; else {
    				const child_ctx = ctx.slice();
    				child_ctx[16] = info_1.resolved;
    				info_1.block.p(child_ctx, dirty);
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div);
    			info.block.d();
    			info.token = null;
    			info = null;
    			info_1.block.d();
    			info_1.token = null;
    			info_1 = null;
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$d.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$d($$self, $$props, $$invalidate) {
    	let $goto;
    	validate_store(goto, "goto");
    	component_subscribe($$self, goto, $$value => $$invalidate(3, $goto = $$value));
    	let formNewTO = { name: "", tryout_price: "" };
    	let listTO = fetch(`http://${window.location.host}/tryout/datalist`).then(res => res.json());
    	let addTO = null;
    	let delTO = null;

    	let addTOclick = () => {
    		$$invalidate(2, addTO = fetch(`http://${window.location.host}/tryout/create`, {
    			method: "POST",
    			body: JSON.stringify(formNewTO)
    		}).then(res => res.json()));

    		$$invalidate(0, formNewTO = { name: "", tryout_price: "" });
    		refreshList();
    	};

    	let delTOclick = id => {
    		delTO = fetch(`http://${window.location.host}/tryout/create`, {
    			method: "DELETE",
    			body: JSON.stringify({ "idtryout": id })
    		});

    		refreshList();
    	};

    	let refreshList = () => {
    		$$invalidate(1, listTO = fetch(`http://${window.location.host}/tryout/datalist`).then(res => res.json()));
    	};

    	let publishTO = id => {
    		fetch(`http://${window.location.host}/tryout/publish/${id}`, { method: "POST" }).then(() => refreshList());
    	};

    	let unpublishTO = id => {
    		fetch(`http://${window.location.host}/tryout/unpublish/${id}`, { method: "POST" }).then(() => refreshList());
    	};

    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<List> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("List", $$slots, []);

    	const click_handler = to => {
    		$goto("../edit", { idtryout: to.idtryout });
    	};

    	const click_handler_1 = to => {
    		publishTO(to.idtryout);
    	};

    	const click_handler_2 = to => {
    		unpublishTO(to.idtryout);
    	};

    	const click_handler_3 = to => {
    		delTOclick(to.idtryout);
    	};

    	function input0_input_handler() {
    		formNewTO.name = this.value;
    		$$invalidate(0, formNewTO);
    	}

    	function input1_input_handler() {
    		formNewTO.tryout_price = this.value;
    		$$invalidate(0, formNewTO);
    	}

    	$$self.$capture_state = () => ({
    		goto,
    		formNewTO,
    		listTO,
    		addTO,
    		delTO,
    		addTOclick,
    		delTOclick,
    		refreshList,
    		publishTO,
    		unpublishTO,
    		$goto
    	});

    	$$self.$inject_state = $$props => {
    		if ("formNewTO" in $$props) $$invalidate(0, formNewTO = $$props.formNewTO);
    		if ("listTO" in $$props) $$invalidate(1, listTO = $$props.listTO);
    		if ("addTO" in $$props) $$invalidate(2, addTO = $$props.addTO);
    		if ("delTO" in $$props) delTO = $$props.delTO;
    		if ("addTOclick" in $$props) $$invalidate(4, addTOclick = $$props.addTOclick);
    		if ("delTOclick" in $$props) $$invalidate(5, delTOclick = $$props.delTOclick);
    		if ("refreshList" in $$props) refreshList = $$props.refreshList;
    		if ("publishTO" in $$props) $$invalidate(6, publishTO = $$props.publishTO);
    		if ("unpublishTO" in $$props) $$invalidate(7, unpublishTO = $$props.unpublishTO);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [
    		formNewTO,
    		listTO,
    		addTO,
    		$goto,
    		addTOclick,
    		delTOclick,
    		publishTO,
    		unpublishTO,
    		click_handler,
    		click_handler_1,
    		click_handler_2,
    		click_handler_3,
    		input0_input_handler,
    		input1_input_handler
    	];
    }

    class List extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$d, create_fragment$d, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "List",
    			options,
    			id: create_fragment$d.name
    		});
    	}
    }

    function unwrapExports (x) {
    	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
    }

    function createCommonjsModule(fn, basedir, module) {
    	return module = {
    	  path: basedir,
    	  exports: {},
    	  require: function (path, base) {
          return commonjsRequire(path, (base === undefined || base === null) ? module.path : base);
        }
    	}, fn(module, module.exports), module.exports;
    }

    function commonjsRequire () {
    	throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');
    }

    var ckeditor = createCommonjsModule(function (module, exports) {
    /*!
     * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
     * For licensing, see LICENSE.md.
     */
    (function(e){const t=e["en"]=e["en"]||{};t.dictionary=Object.assign(t.dictionary||{},{"%0 of %1":"%0 of %1","Align center":"Align center","Align left":"Align left","Align right":"Align right","Block quote":"Block quote",Bold:"Bold","Bulleted List":"Bulleted List",Cancel:"Cancel","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Italic:"Italic",Justify:"Justify","Left aligned image":"Left aligned image",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Widget toolbar":"Widget toolbar"});})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));(function e(t,i){module.exports=i();})(window,(function(){return function(e){var t={};function i(n){if(t[n]){return t[n].exports}var o=t[n]={i:n,l:false,exports:{}};e[n].call(o.exports,o,o.exports,i);o.l=true;return o.exports}i.m=e;i.c=t;i.d=function(e,t,n){if(!i.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n});}};i.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});}Object.defineProperty(e,"__esModule",{value:true});};i.t=function(e,t){if(t&1)e=i(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);i.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n};i.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};i.d(t,"a",t);return t};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";return i(i.s=104)}([function(e,t,i){i.d(t,"b",(function(){return o}));i.d(t,"a",(function(){return s}));const n="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";class o extends Error{constructor(e,t,i){e=s(e);if(i){e+=" "+JSON.stringify(i);}super(e);this.name="CKEditorError";this.context=t;this.data=i;}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError")){throw e}const i=new o(e.message,t);i.stack=e.stack;throw i}}function s(e){const t=e.match(/^([^:]+):/);if(!t){return e}return e+` Read more: ${n}#error-${t[1]}\n`}},function(e,t,i){var n=function e(){var t;return function e(){if(typeof t==="undefined"){t=Boolean(window&&document&&document.all&&!window.atob);}return t}}();var o=function e(){var t={};return function e(i){if(typeof t[i]==="undefined"){var n=document.querySelector(i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement){try{n=n.contentDocument.head;}catch(e){n=null;}}t[i]=n;}return t[i]}}();var s=[];function r(e){var t=-1;for(var i=0;i<s.length;i++){if(s[i].identifier===e){t=i;break}}return t}function a(e,t){var i={};var n=[];for(var o=0;o<e.length;o++){var a=e[o];var c=t.base?a[0]+t.base:a[0];var l=i[c]||0;var d="".concat(c," ").concat(l);i[c]=l+1;var u=r(d);var h={css:a[1],media:a[2],sourceMap:a[3]};if(u!==-1){s[u].references++;s[u].updater(h);}else {s.push({identifier:d,updater:g(h,t),references:1});}n.push(d);}return n}function c(e){var t=document.createElement("style");var n=e.attributes||{};if(typeof n.nonce==="undefined"){var s=i.nc;if(s){n.nonce=s;}}Object.keys(n).forEach((function(e){t.setAttribute(e,n[e]);}));if(typeof e.insert==="function"){e.insert(t);}else {var r=o(e.insert||"head");if(!r){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}r.appendChild(t);}return t}function l(e){if(e.parentNode===null){return false}e.parentNode.removeChild(e);}var d=function e(){var t=[];return function e(i,n){t[i]=n;return t.filter(Boolean).join("\n")}}();function u(e,t,i,n){var o=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet){e.styleSheet.cssText=d(t,o);}else {var s=document.createTextNode(o);var r=e.childNodes;if(r[t]){e.removeChild(r[t]);}if(r.length){e.insertBefore(s,r[t]);}else {e.appendChild(s);}}}function h(e,t,i){var n=i.css;var o=i.media;var s=i.sourceMap;if(o){e.setAttribute("media",o);}else {e.removeAttribute("media");}if(s&&btoa){n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */");}if(e.styleSheet){e.styleSheet.cssText=n;}else {while(e.firstChild){e.removeChild(e.firstChild);}e.appendChild(document.createTextNode(n));}}var f=null;var m=0;function g(e,t){var i;var n;var o;if(t.singleton){var s=m++;i=f||(f=c(t));n=u.bind(null,i,s,false);o=u.bind(null,i,s,true);}else {i=c(t);n=h.bind(null,i,t);o=function e(){l(i);};}n(e);return function t(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap){return}n(e=i);}else {o();}}}e.exports=function(e,t){t=t||{};if(!t.singleton&&typeof t.singleton!=="boolean"){t.singleton=n();}e=e||[];var i=a(e,t);return function e(n){n=n||[];if(Object.prototype.toString.call(n)!=="[object Array]"){return}for(var o=0;o<i.length;o++){var c=i[o];var l=r(c);s[l].references--;}var d=a(n,t);for(var u=0;u<i.length;u++){var h=i[u];var f=r(h);if(s[f].references===0){s[f].updater();s.splice(f,1);}}i=d;}};},,function(e,t,i){var n=i(7);var o=typeof self=="object"&&self&&self.Object===Object&&self;var s=n["a"]||o||Function("return this")();t["a"]=s;},function(e,t,i){(function(e){var n=i(3);var o=i(12);var s=exports&&!exports.nodeType&&exports;var r=s&&typeof e=="object"&&e&&!e.nodeType&&e;var a=r&&r.exports===s;var c=a?n["a"].Buffer:undefined;var l=c?c.isBuffer:undefined;var d=l||o["a"];t["a"]=d;}).call(this,i(9)(e));},function(e,t,i){(function(e){var n=i(7);var o=exports&&!exports.nodeType&&exports;var s=o&&typeof e=="object"&&e&&!e.nodeType&&e;var r=s&&s.exports===o;var a=r&&n["a"].process;var c=function(){try{var e=s&&s.require&&s.require("util").types;if(e){return e}return a&&a.binding&&a.binding("util")}catch(e){}}();t["a"]=c;}).call(this,i(9)(e));},function(e,t,i){(function(e){var t=i(0);const n="19.1.1";const o=typeof window==="object"?window:e;if(o.CKEDITOR_VERSION){throw new t["b"]("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null)}else {o.CKEDITOR_VERSION=n;}}).call(this,i(10));},function(e,t,i){(function(e){var i=typeof e=="object"&&e&&e.Object===Object&&e;t["a"]=i;}).call(this,i(10));},function(e,t,i){(function(e){var n=i(3);var o=exports&&!exports.nodeType&&exports;var s=o&&typeof e=="object"&&e&&!e.nodeType&&e;var r=s&&s.exports===o;var a=r?n["a"].Buffer:undefined,c=a?a.allocUnsafe:undefined;function l(e,t){if(t){return e.slice()}var i=e.length,n=c?c(i):new e.constructor(i);e.copy(n);return n}t["a"]=l;}).call(this,i(9)(e));},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);if(!t.children)t.children=[];Object.defineProperty(t,"loaded",{enumerable:true,get:function(){return t.l}});Object.defineProperty(t,"id",{enumerable:true,get:function(){return t.i}});Object.defineProperty(t,"exports",{enumerable:true});t.webpackPolyfill=1;}return t};},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")();}catch(e){if(typeof window==="object")i=window;}e.exports=i;},function(e,t,i){var n=i(1);var o=i(46);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t,i){function n(){return false}t["a"]=n;},function(e){e.exports=JSON.parse('{"ar":{"latex":"LaTeX","cancel":"إلغاء","accept":"موا�?ق","manual":"الدليل","insert_math":"إدراج صيغة رياضية - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"ca":{"latex":"LaTeX","cancel":"Cancel·lar","accept":"Acceptar","manual":"Manual","insert_math":"Inserir fórmula matemàtica - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"cs":{"latex":"LaTeX","cancel":"Storno","accept":"OK","manual":"Příru�?ka","insert_math":"Vložit matematický vzorec - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"da":{"latex":"LaTeX","cancel":"Annuller","accept":"OK","manual":"Brugervejledning","insert_math":"Indsæt matematisk formel - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"de":{"latex":"LaTeX","cancel":"Abbrechen","accept":"OK","manual":"Handbuch","insert_math":"Mathematische Formel einfügen - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"en":{"latex":"LaTeX","cancel":"Cancel","accept":"OK","manual":"Manual","insert_math":"Insert a math equation - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"es":{"latex":"LaTeX","cancel":"Cancelar","accept":"Aceptar","manual":"Manual","insert_math":"Insertar fórmula matemática - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"et":{"latex":"LaTeX","cancel":"Loobu","accept":"OK","manual":"Käsiraamat","insert_math":"Lisa matemaatiline valem – WIRIS","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"eu":{"latex":"LaTeX","cancel":"Ezeztatu","accept":"Onartu","manual":"Gida","insert_math":"Txertatu matematikako formula - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"fi":{"latex":"LaTeX","cancel":"Peruuta","accept":"OK","manual":"Manual","insert_math":"Liitä matemaattinen kaava - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"fr":{"latex":"LaTeX","cancel":"Annuler","accept":"OK","manual":"Manuel","insert_math":"Insérer une formule mathématique - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"gl":{"latex":"LaTeX","cancel":"Cancelar","accept":"Aceptar","manual":"Manual","insert_math":"Inserir fórmula matemática - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"he":{"latex":"LaTeX","cancel":"ביטול","accept":"�?ישור","manual":"מדריך","insert_math":"הוסף נוסחה מתמטית - MathType","insert_chem":"הוספת כתיבה כימית - ChemType","minimize":"מזערי","maximize":"מרבי","fullscreen":"מסך מל�?","exit_fullscreen":"יצי�?ה ממצב מסך מל�?","close":"סגירה","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"ה�?�? לצ�?ת? שינויי�? �?שר בוצעו ימחקו.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" �?יננה פונקציה","exception_invalid_date_format":"תסדיר ת�?ריך �?ינו תקין : ","exception_casting":"ל�? ניתן להמיר ","exception_casting_to":" ל "},"hr":{"latex":"LaTeX","cancel":"Poništi","accept":"U redu","manual":"Priru�?nik","insert_math":"Umetnite matemati�?ku formulu - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"hu":{"latex":"LaTeX","cancel":"Mégsem","accept":"OK","manual":"Kézikönyv","insert_math":"Matematikai képlet beszúrása - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"it":{"latex":"LaTeX","cancel":"Annulla","accept":"Accetta","manual":"Manuale","insert_math":"Inserisci una formula matematica - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"ja":{"latex":"LaTeX","cancel":"キャンセル","accept":"OK","manual":"マニュアル","insert_math":"数�?を挿入 - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"ko":{"latex":"LaTeX","cancel":"취소","accept":"승�?�","manual":"설명서","insert_math":"수학 공�? 삽입 - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"nl":{"latex":"LaTeX","cancel":"Annuleren","accept":"OK","manual":"Handleiding","insert_math":"Wiskundige formule invoegen - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"no":{"latex":"LaTeX","cancel":"Avbryt","accept":"OK","manual":"Håndbok","insert_math":"Sett inn matematikkformel - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"pl":{"latex":"LaTeX","cancel":"Anuluj","accept":"OK","manual":"Instrukcja","insert_math":"Wstaw formułę matematyczną - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"pt":{"latex":"LaTeX","cancel":"Cancelar","accept":"OK","manual":"Manual","insert_math":"Inserir fórmula matemática - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"pt_br":{"latex":"LaTeX","cancel":"Cancelar","accept":"OK","manual":"Manual","insert_math":"Inserir fórmula matemática - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"ru":{"latex":"LaTeX","cancel":"отмена","accept":"OK","manual":"вручную","insert_math":"В�?тавить математиче�?кую формулу: WIRIS","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"sv":{"latex":"LaTeX","cancel":"Avbryt","accept":"OK","manual":"Bruksanvisning","insert_math":"Infoga matematisk formel - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"tr":{"latex":"LaTeX","cancel":"Vazgeç","accept":"Tamam","manual":"Kılavuz","insert_math":"Matematik formülü ekle - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"zh":{"latex":"LaTeX","cancel":"�?�消","accept":"确定","manual":"手册","insert_math":"�?�入数学公�? - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"el":{"latex":"LaTeX","cancel":"Άκυ�?ο","accept":"ΟΚ","manual":"Χει�?οκίνητα","insert_math":"Εισαγωγή μαθηματικο�? τ�?που - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"":{}}');},function(e,t,i){var n=i(1);var o=i(15);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}";},function(e,t,i){var n=i(1);var o=i(17);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}";},function(e,t,i){var n=i(1);var o=i(19);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}";},function(e,t,i){var n=i(1);var o=i(21);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}";},function(e,t,i){var n=i(1);var o=i(23);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}";},function(e,t,i){var n=i(1);var o=i(25);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}";},function(e,t,i){var n=i(1);var o=i(27);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}";},function(e,t,i){var n=i(1);var o=i(29);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}';},function(e,t,i){var n=i(1);var o=i(31);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}";},function(e,t,i){var n=i(1);var o=i(33);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}";},function(e,t,i){var n=i(1);var o=i(35);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2*var(--ck-switch-button-toggle-spacing))}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}";},function(e,t,i){var n=i(1);var o=i(37);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}";},function(e,t,i){var n=i(1);var o=i(39);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}";},function(e,t,i){var n=i(1);var o=i(41);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}";},function(e,t,i){var n=i(1);var o=i(43);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}";},function(e,t,i){var n=i(1);var o=i(45);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}";},function(e,t){e.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}";},function(e,t,i){var n=i(1);var o=i(48);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}';},function(e,t,i){var n=i(1);var o=i(50);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(-0.5*var(--ck-widget-outline-thickness));left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(-0.5*var(--ck-widget-outline-thickness));right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget:not(.ck-widget_can-type-around_after)>.ck-widget__type-around>.ck-widget__type-around__button_after,.ck .ck-widget:not(.ck-widget_can-type-around_before)>.ck-widget__type-around>.ck-widget__type-around__button_before{display:none}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;pointer-events:none;opacity:0;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{pointer-events:auto;opacity:1}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{pointer-events:none;opacity:0}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}';},function(e,t,i){var n=i(1);var o=i(52);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}";},function(e,t,i){var n=i(1);var o=i(54);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}";},function(e,t,i){var n=i(1);var o=i(56);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}";},function(e,t,i){var n=i(1);var o=i(58);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}";},function(e,t,i){var n=i(1);var o=i(60);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}";},function(e,t,i){var n=i(1);var o=i(62);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}";},function(e,t,i){var n=i(1);var o=i(64);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}";},function(e,t,i){var n=i(1);var o=i(66);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}";},function(e,t,i){var n=i(1);var o=i(68);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0;outline:1px solid var(--ck-color-resizer)}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all;width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nesw-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nesw-resize}";},function(e,t,i){var n=i(1);var o=i(70);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck-content .image.image_resized{max-width:100%;display:block;box-sizing:border-box}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}";},function(e,t,i){var n=i(1);var o=i(72);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}";},function(e,t,i){var n=i(1);var o=i(74);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}";},function(e,t,i){var n=i(1);var o=i(76);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}';},function(e,t,i){var n=i(1);var o=i(78);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}';},function(e,t,i){var n=i(1);var o=i(80);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}";},function(e,t,i){var n=i(1);var o=i(82);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}";},function(e,t,i){var n=i(1);var o=i(84);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}";},function(module,__webpack_exports__,__webpack_require__){(function(){var HxOverrides=function(){};HxOverrides.__name__=true;HxOverrides.dateStr=function(e){var t=e.getMonth()+1;var i=e.getDate();var n=e.getHours();var o=e.getMinutes();var s=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:""+t)+"-"+(i<10?"0"+i:""+i)+" "+(n<10?"0"+n:""+n)+":"+(o<10?"0"+o:""+o)+":"+(s<10?"0"+s:""+s)};HxOverrides.strDate=function(e){switch(e.length){case 8:var t=e.split(":");var i=new Date;i.setTime(0);i.setUTCHours(t[0]);i.setUTCMinutes(t[1]);i.setUTCSeconds(t[2]);return i;case 10:var t=e.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var t=e.split(" ");var n=t[0].split("-");var o=t[1].split(":");return new Date(n[0],n[1]-1,n[2],o[0],o[1],o[2]);default:throw "Invalid date format : "+e}};HxOverrides.cca=function(e,t){var i=e.charCodeAt(t);if(i!=i)return undefined;return i};HxOverrides.substr=function(e,t,i){if(t!=null&&t!=0&&i!=null&&i<0)return "";if(i==null)i=e.length;if(t<0){t=e.length+t;if(t<0)t=0;}else if(i<0)i=e.length+i-t;return e.substr(t,i)};HxOverrides.remove=function(e,t){var i=0;var n=e.length;while(i<n){if(e[i]==t){e.splice(i,1);return true}i++;}return false};HxOverrides.iter=function(e){return {cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Std=function(){};Std.__name__=true;Std["is"]=function(e,t){return js.Boot.__instanceof(e,t)};Std.string=function(e){return js.Boot.__string_rec(e,"")};Std["int"]=function(e){return e|0};Std.parseInt=function(e){var t=parseInt(e,10);if(t==0&&(HxOverrides.cca(e,1)==120||HxOverrides.cca(e,1)==88))t=parseInt(e);if(isNaN(t))return null;return t};Std.parseFloat=function(e){return parseFloat(e)};Std.random=function(e){return Math.floor(Math.random()*e)};var com=com||{};if(!com.wiris)com.wiris={};if(!com.wiris.js)com.wiris.js={};com.wiris.js.JsPluginTools=function(){this.tryReady();};com.wiris.js.JsPluginTools.__name__=true;com.wiris.js.JsPluginTools.main=function(){var e;e=com.wiris.js.JsPluginTools.getInstance();haxe.Timer.delay($bind(e,e.tryReady),100);};com.wiris.js.JsPluginTools.getInstance=function(){if(com.wiris.js.JsPluginTools.instance==null)com.wiris.js.JsPluginTools.instance=new com.wiris.js.JsPluginTools;return com.wiris.js.JsPluginTools.instance};com.wiris.js.JsPluginTools.bypassEncapsulation=function(){if(window.com==null)window.com={};if(window.com.wiris==null)window.com.wiris={};if(window.com.wiris.js==null)window.com.wiris.js={};if(window.com.wiris.js.JsPluginTools==null)window.com.wiris.js.JsPluginTools=com.wiris.js.JsPluginTools.getInstance();};com.wiris.js.JsPluginTools.prototype={md5encode:function(e){return haxe.Md5.encode(e)},doLoad:function(){this.ready=true;com.wiris.js.JsPluginTools.instance=this;com.wiris.js.JsPluginTools.bypassEncapsulation();},tryReady:function(){this.ready=false;if(js.Lib.document.readyState){this.doLoad();this.ready=true;}if(!this.ready)haxe.Timer.delay($bind(this,this.tryReady),100);},__class__:com.wiris.js.JsPluginTools};var haxe=haxe||{};haxe.Log=function(){};haxe.Log.__name__=true;haxe.Log.trace=function(e,t){js.Boot.__trace(e,t);};haxe.Log.clear=function(){js.Boot.__clear_trace();};haxe.Md5=function(){};haxe.Md5.__name__=true;haxe.Md5.encode=function(e){return (new haxe.Md5).doEncode(e)};haxe.Md5.prototype={doEncode:function(e){var t=this.str2blks(e);var i=1732584193;var n=-271733879;var o=-1732584194;var s=271733878;var a=0;while(a<t.length){var c=i;var l=n;var d=o;var u=s;i=this.ff(i,n,o,s,t[a],7,-680876936);s=this.ff(s,i,n,o,t[a+1],12,-389564586);o=this.ff(o,s,i,n,t[a+2],17,606105819);n=this.ff(n,o,s,i,t[a+3],22,-1044525330);i=this.ff(i,n,o,s,t[a+4],7,-176418897);s=this.ff(s,i,n,o,t[a+5],12,1200080426);o=this.ff(o,s,i,n,t[a+6],17,-1473231341);n=this.ff(n,o,s,i,t[a+7],22,-45705983);i=this.ff(i,n,o,s,t[a+8],7,1770035416);s=this.ff(s,i,n,o,t[a+9],12,-1958414417);o=this.ff(o,s,i,n,t[a+10],17,-42063);n=this.ff(n,o,s,i,t[a+11],22,-1990404162);i=this.ff(i,n,o,s,t[a+12],7,1804603682);s=this.ff(s,i,n,o,t[a+13],12,-40341101);o=this.ff(o,s,i,n,t[a+14],17,-1502002290);n=this.ff(n,o,s,i,t[a+15],22,1236535329);i=this.gg(i,n,o,s,t[a+1],5,-165796510);s=this.gg(s,i,n,o,t[a+6],9,-1069501632);o=this.gg(o,s,i,n,t[a+11],14,643717713);n=this.gg(n,o,s,i,t[a],20,-373897302);i=this.gg(i,n,o,s,t[a+5],5,-701558691);s=this.gg(s,i,n,o,t[a+10],9,38016083);o=this.gg(o,s,i,n,t[a+15],14,-660478335);n=this.gg(n,o,s,i,t[a+4],20,-405537848);i=this.gg(i,n,o,s,t[a+9],5,568446438);s=this.gg(s,i,n,o,t[a+14],9,-1019803690);o=this.gg(o,s,i,n,t[a+3],14,-187363961);n=this.gg(n,o,s,i,t[a+8],20,1163531501);i=this.gg(i,n,o,s,t[a+13],5,-1444681467);s=this.gg(s,i,n,o,t[a+2],9,-51403784);o=this.gg(o,s,i,n,t[a+7],14,1735328473);n=this.gg(n,o,s,i,t[a+12],20,-1926607734);i=this.hh(i,n,o,s,t[a+5],4,-378558);s=this.hh(s,i,n,o,t[a+8],11,-2022574463);o=this.hh(o,s,i,n,t[a+11],16,1839030562);n=this.hh(n,o,s,i,t[a+14],23,-35309556);i=this.hh(i,n,o,s,t[a+1],4,-1530992060);s=this.hh(s,i,n,o,t[a+4],11,1272893353);o=this.hh(o,s,i,n,t[a+7],16,-155497632);n=this.hh(n,o,s,i,t[a+10],23,-1094730640);i=this.hh(i,n,o,s,t[a+13],4,681279174);s=this.hh(s,i,n,o,t[a],11,-358537222);o=this.hh(o,s,i,n,t[a+3],16,-722521979);n=this.hh(n,o,s,i,t[a+6],23,76029189);i=this.hh(i,n,o,s,t[a+9],4,-640364487);s=this.hh(s,i,n,o,t[a+12],11,-421815835);o=this.hh(o,s,i,n,t[a+15],16,530742520);n=this.hh(n,o,s,i,t[a+2],23,-995338651);i=this.ii(i,n,o,s,t[a],6,-198630844);s=this.ii(s,i,n,o,t[a+7],10,1126891415);o=this.ii(o,s,i,n,t[a+14],15,-1416354905);n=this.ii(n,o,s,i,t[a+5],21,-57434055);i=this.ii(i,n,o,s,t[a+12],6,1700485571);s=this.ii(s,i,n,o,t[a+3],10,-1894986606);o=this.ii(o,s,i,n,t[a+10],15,-1051523);n=this.ii(n,o,s,i,t[a+1],21,-2054922799);i=this.ii(i,n,o,s,t[a+8],6,1873313359);s=this.ii(s,i,n,o,t[a+15],10,-30611744);o=this.ii(o,s,i,n,t[a+6],15,-1560198380);n=this.ii(n,o,s,i,t[a+13],21,1309151649);i=this.ii(i,n,o,s,t[a+4],6,-145523070);s=this.ii(s,i,n,o,t[a+11],10,-1120210379);o=this.ii(o,s,i,n,t[a+2],15,718787259);n=this.ii(n,o,s,i,t[a+9],21,-343485551);i=this.addme(i,c);n=this.addme(n,l);o=this.addme(o,d);s=this.addme(s,u);a+=16;}return this.rhex(i)+this.rhex(n)+this.rhex(o)+this.rhex(s)},ii:function(e,t,i,n,o,s,r){return this.cmn(this.bitXOR(i,this.bitOR(t,~n)),e,t,o,s,r)},hh:function(e,t,i,n,o,s,r){return this.cmn(this.bitXOR(this.bitXOR(t,i),n),e,t,o,s,r)},gg:function(e,t,i,n,o,s,r){return this.cmn(this.bitOR(this.bitAND(t,n),this.bitAND(i,~n)),e,t,o,s,r)},ff:function(e,t,i,n,o,s,r){return this.cmn(this.bitOR(this.bitAND(t,i),this.bitAND(~t,n)),e,t,o,s,r)},cmn:function(e,t,i,n,o,s){return this.addme(this.rol(this.addme(this.addme(t,e),this.addme(n,s)),o),i)},rol:function(e,t){return e<<t|e>>>32-t},str2blks:function(e){var t=(e.length+8>>6)+1;var i=new Array;var n=0,o=t*16;while(n<o){var s=n++;i[s]=0;}var s=0;while(s<e.length){i[s>>2]|=HxOverrides.cca(e,s)<<(e.length*8+s)%4*8;s++;}i[s>>2]|=128<<(e.length*8+s)%4*8;var r=e.length*8;var a=t*16-2;i[a]=r&255;i[a]|=(r>>>8&255)<<8;i[a]|=(r>>>16&255)<<16;i[a]|=(r>>>24&255)<<24;return i},rhex:function(e){var t="";var i="0123456789abcdef";var n=0;while(n<4){var o=n++;t+=i.charAt(e>>o*8+4&15)+i.charAt(e>>o*8&15);}return t},addme:function(e,t){var i=(e&65535)+(t&65535);var n=(e>>16)+(t>>16)+(i>>16);return n<<16|i&65535},bitAND:function(e,t){var i=e&1&(t&1);var n=e>>>1&t>>>1;return n<<1|i},bitXOR:function(e,t){var i=e&1^t&1;var n=e>>>1^t>>>1;return n<<1|i},bitOR:function(e,t){var i=e&1|t&1;var n=e>>>1|t>>>1;return n<<1|i},__class__:haxe.Md5};haxe.Timer=function(e){var t=this;this.id=window.setInterval((function(){t.run();}),e);};haxe.Timer.__name__=true;haxe.Timer.delay=function(e,t){var i=new haxe.Timer(t);i.run=function(){i.stop();e();};return i};haxe.Timer.measure=function(e,t){var i=haxe.Timer.stamp();var n=e();haxe.Log.trace(haxe.Timer.stamp()-i+"s",t);return n};haxe.Timer.stamp=function(){return (new Date).getTime()/1e3};haxe.Timer.prototype={run:function(){},stop:function(){if(this.id==null)return;window.clearInterval(this.id);this.id=null;},__class__:haxe.Timer};var js=js||{};js.Boot=function(){};js.Boot.__name__=true;js.Boot.__unhtml=function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};js.Boot.__trace=function(e,t){var i=t!=null?t.fileName+":"+t.lineNumber+": ":"";i+=js.Boot.__string_rec(e,"");var n;if(typeof document!="undefined"&&(n=document.getElementById("haxe:trace"))!=null)n.innerHTML+=js.Boot.__unhtml(i)+"<br/>";else if(typeof console!="undefined"&&console.log!=null)console.log(i);};js.Boot.__clear_trace=function(){var e=document.getElementById("haxe:trace");if(e!=null)e.innerHTML="";};js.Boot.isClass=function(e){return e.__name__};js.Boot.isEnum=function(e){return e.__ename__};js.Boot.getClass=function(e){return e.__class__};js.Boot.__string_rec=function(e,t){if(e==null)return "null";if(t.length>=5)return "<...>";var i=typeof e;if(i=="function"&&(e.__name__||e.__ename__))i="object";switch(i){case"object":if(e instanceof Array){if(e.__enum__){if(e.length==2)return e[0];var n=e[0]+"(";t+="\t";var o=2,s=e.length;while(o<s){var r=o++;if(r!=2)n+=","+js.Boot.__string_rec(e[r],t);else n+=js.Boot.__string_rec(e[r],t);}return n+")"}var a=e.length;var r;var n="[";t+="\t";var s=0;while(s<a){var c=s++;n+=(c>0?",":"")+js.Boot.__string_rec(e[c],t);}n+="]";return n}var l;try{l=e.toString;}catch(e){return "???"}if(l!=null&&l!=Object.toString){var d=e.toString();if(d!="[object Object]")return d}var u=null;var n="{\n";t+="\t";var h=e.hasOwnProperty!=null;for(var u in e){if(h&&!e.hasOwnProperty(u)){continue}if(u=="prototype"||u=="__class__"||u=="__super__"||u=="__interfaces__"||u=="__properties__"){continue}if(n.length!=2)n+=", \n";n+=t+u+" : "+js.Boot.__string_rec(e[u],t);}t=t.substring(1);n+="\n"+t+"}";return n;case"function":return "<function>";case"string":return e;default:return String(e)}};js.Boot.__interfLoop=function(e,t){if(e==null)return false;if(e==t)return true;var i=e.__interfaces__;if(i!=null){var n=0,o=i.length;while(n<o){var s=n++;var r=i[s];if(r==t||js.Boot.__interfLoop(r,t))return true}}return js.Boot.__interfLoop(e.__super__,t)};js.Boot.__instanceof=function(e,t){try{if(e instanceof t){if(t==Array)return e.__enum__==null;return true}if(js.Boot.__interfLoop(e.__class__,t))return true}catch(e){if(t==null)return false}switch(t){case Int:return Math.ceil(e%2147483648)===e;case Float:return typeof e=="number";case Bool:return e===true||e===false;case String:return typeof e=="string";case Dynamic:return true;default:if(e==null)return false;if(t==Class&&e.__name__!=null)return true;if(t==Enum&&e.__ename__!=null)return true;return e.__enum__==t}};js.Boot.__cast=function(e,t){if(js.Boot.__instanceof(e,t))return e;else throw "Cannot cast "+Std.string(e)+" to "+Std.string(t)};js.Lib=function(){};js.Lib.__name__=true;js.Lib.debug=function(){debugger};js.Lib.alert=function(e){alert(js.Boot.__string_rec(e,""));};js.Lib.eval=function(code){return eval(code)};js.Lib.setErrorHandler=function(e){js.Lib.onerror=e;};function $bind(e,t){var i=function(){return i.method.apply(i.scope,arguments)};i.scope=e;i.method=t;return i}if(Array.prototype.indexOf)HxOverrides.remove=function(e,t){var i=e.indexOf(t);if(i==-1)return false;e.splice(i,1);return true};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(e){return isFinite(e)};Math.isNaN=function(e){return isNaN(e)};String.prototype.__class__=String;String.__name__=true;Array.prototype.__class__=Array;Array.__name__=true;Date.prototype.__class__=Date;Date.__name__=["Date"];var Int={__name__:["Int"]};var Dynamic={__name__:["Dynamic"]};var Float=Number;Float.__name__=["Float"];var Bool=Boolean;Bool.__ename__=["Bool"];var Class={__name__:["Class"]};var Enum={};if(typeof document!="undefined")js.Lib.document=document;if(typeof window!="undefined"){js.Lib.window=window;js.Lib.window.onerror=function(e,t,i){var n=js.Lib.onerror;if(n==null)return false;return n(e,[t+":"+i])};}com.wiris.js.JsPluginTools.main();delete Array.prototype.__class__;})();(function(){var HxOverrides=function(){};HxOverrides.__name__=true;HxOverrides.dateStr=function(e){var t=e.getMonth()+1;var i=e.getDate();var n=e.getHours();var o=e.getMinutes();var s=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:""+t)+"-"+(i<10?"0"+i:""+i)+" "+(n<10?"0"+n:""+n)+":"+(o<10?"0"+o:""+o)+":"+(s<10?"0"+s:""+s)};HxOverrides.strDate=function(e){switch(e.length){case 8:var t=e.split(":");var i=new Date;i.setTime(0);i.setUTCHours(t[0]);i.setUTCMinutes(t[1]);i.setUTCSeconds(t[2]);return i;case 10:var t=e.split("-");return new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var t=e.split(" ");var n=t[0].split("-");var o=t[1].split(":");return new Date(n[0],n[1]-1,n[2],o[0],o[1],o[2]);default:throw "Invalid date format : "+e}};HxOverrides.cca=function(e,t){var i=e.charCodeAt(t);if(i!=i)return undefined;return i};HxOverrides.substr=function(e,t,i){if(t!=null&&t!=0&&i!=null&&i<0)return "";if(i==null)i=e.length;if(t<0){t=e.length+t;if(t<0)t=0;}else if(i<0)i=e.length+i-t;return e.substr(t,i)};HxOverrides.remove=function(e,t){var i=0;var n=e.length;while(i<n){if(e[i]==t){e.splice(i,1);return true}i++;}return false};HxOverrides.iter=function(e){return {cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Std=function(){};Std.__name__=true;Std["is"]=function(e,t){return js.Boot.__instanceof(e,t)};Std.string=function(e){return js.Boot.__string_rec(e,"")};Std["int"]=function(e){return e|0};Std.parseInt=function(e){var t=parseInt(e,10);if(t==0&&(HxOverrides.cca(e,1)==120||HxOverrides.cca(e,1)==88))t=parseInt(e);if(isNaN(t))return null;return t};Std.parseFloat=function(e){return parseFloat(e)};Std.random=function(e){return Math.floor(Math.random()*e)};var com=com||{};if(!com.wiris)com.wiris={};if(!com.wiris.js)com.wiris.js={};com.wiris.js.JsPluginTools=function(){this.tryReady();};com.wiris.js.JsPluginTools.__name__=true;com.wiris.js.JsPluginTools.main=function(){var e;e=com.wiris.js.JsPluginTools.getInstance();haxe.Timer.delay($bind(e,e.tryReady),100);};com.wiris.js.JsPluginTools.getInstance=function(){if(com.wiris.js.JsPluginTools.instance==null)com.wiris.js.JsPluginTools.instance=new com.wiris.js.JsPluginTools;return com.wiris.js.JsPluginTools.instance};com.wiris.js.JsPluginTools.bypassEncapsulation=function(){if(window.com==null)window.com={};if(window.com.wiris==null)window.com.wiris={};if(window.com.wiris.js==null)window.com.wiris.js={};if(window.com.wiris.js.JsPluginTools==null)window.com.wiris.js.JsPluginTools=com.wiris.js.JsPluginTools.getInstance();};com.wiris.js.JsPluginTools.prototype={md5encode:function(e){return haxe.Md5.encode(e)},doLoad:function(){this.ready=true;com.wiris.js.JsPluginTools.instance=this;com.wiris.js.JsPluginTools.bypassEncapsulation();},tryReady:function(){this.ready=false;if(js.Lib.document.readyState){this.doLoad();this.ready=true;}if(!this.ready)haxe.Timer.delay($bind(this,this.tryReady),100);},__class__:com.wiris.js.JsPluginTools};var haxe=haxe||{};haxe.Log=function(){};haxe.Log.__name__=true;haxe.Log.trace=function(e,t){js.Boot.__trace(e,t);};haxe.Log.clear=function(){js.Boot.__clear_trace();};haxe.Md5=function(){};haxe.Md5.__name__=true;haxe.Md5.encode=function(e){return (new haxe.Md5).doEncode(e)};haxe.Md5.prototype={doEncode:function(e){var t=this.str2blks(e);var i=1732584193;var n=-271733879;var o=-1732584194;var s=271733878;var a=0;while(a<t.length){var c=i;var l=n;var d=o;var u=s;i=this.ff(i,n,o,s,t[a],7,-680876936);s=this.ff(s,i,n,o,t[a+1],12,-389564586);o=this.ff(o,s,i,n,t[a+2],17,606105819);n=this.ff(n,o,s,i,t[a+3],22,-1044525330);i=this.ff(i,n,o,s,t[a+4],7,-176418897);s=this.ff(s,i,n,o,t[a+5],12,1200080426);o=this.ff(o,s,i,n,t[a+6],17,-1473231341);n=this.ff(n,o,s,i,t[a+7],22,-45705983);i=this.ff(i,n,o,s,t[a+8],7,1770035416);s=this.ff(s,i,n,o,t[a+9],12,-1958414417);o=this.ff(o,s,i,n,t[a+10],17,-42063);n=this.ff(n,o,s,i,t[a+11],22,-1990404162);i=this.ff(i,n,o,s,t[a+12],7,1804603682);s=this.ff(s,i,n,o,t[a+13],12,-40341101);o=this.ff(o,s,i,n,t[a+14],17,-1502002290);n=this.ff(n,o,s,i,t[a+15],22,1236535329);i=this.gg(i,n,o,s,t[a+1],5,-165796510);s=this.gg(s,i,n,o,t[a+6],9,-1069501632);o=this.gg(o,s,i,n,t[a+11],14,643717713);n=this.gg(n,o,s,i,t[a],20,-373897302);i=this.gg(i,n,o,s,t[a+5],5,-701558691);s=this.gg(s,i,n,o,t[a+10],9,38016083);o=this.gg(o,s,i,n,t[a+15],14,-660478335);n=this.gg(n,o,s,i,t[a+4],20,-405537848);i=this.gg(i,n,o,s,t[a+9],5,568446438);s=this.gg(s,i,n,o,t[a+14],9,-1019803690);o=this.gg(o,s,i,n,t[a+3],14,-187363961);n=this.gg(n,o,s,i,t[a+8],20,1163531501);i=this.gg(i,n,o,s,t[a+13],5,-1444681467);s=this.gg(s,i,n,o,t[a+2],9,-51403784);o=this.gg(o,s,i,n,t[a+7],14,1735328473);n=this.gg(n,o,s,i,t[a+12],20,-1926607734);i=this.hh(i,n,o,s,t[a+5],4,-378558);s=this.hh(s,i,n,o,t[a+8],11,-2022574463);o=this.hh(o,s,i,n,t[a+11],16,1839030562);n=this.hh(n,o,s,i,t[a+14],23,-35309556);i=this.hh(i,n,o,s,t[a+1],4,-1530992060);s=this.hh(s,i,n,o,t[a+4],11,1272893353);o=this.hh(o,s,i,n,t[a+7],16,-155497632);n=this.hh(n,o,s,i,t[a+10],23,-1094730640);i=this.hh(i,n,o,s,t[a+13],4,681279174);s=this.hh(s,i,n,o,t[a],11,-358537222);o=this.hh(o,s,i,n,t[a+3],16,-722521979);n=this.hh(n,o,s,i,t[a+6],23,76029189);i=this.hh(i,n,o,s,t[a+9],4,-640364487);s=this.hh(s,i,n,o,t[a+12],11,-421815835);o=this.hh(o,s,i,n,t[a+15],16,530742520);n=this.hh(n,o,s,i,t[a+2],23,-995338651);i=this.ii(i,n,o,s,t[a],6,-198630844);s=this.ii(s,i,n,o,t[a+7],10,1126891415);o=this.ii(o,s,i,n,t[a+14],15,-1416354905);n=this.ii(n,o,s,i,t[a+5],21,-57434055);i=this.ii(i,n,o,s,t[a+12],6,1700485571);s=this.ii(s,i,n,o,t[a+3],10,-1894986606);o=this.ii(o,s,i,n,t[a+10],15,-1051523);n=this.ii(n,o,s,i,t[a+1],21,-2054922799);i=this.ii(i,n,o,s,t[a+8],6,1873313359);s=this.ii(s,i,n,o,t[a+15],10,-30611744);o=this.ii(o,s,i,n,t[a+6],15,-1560198380);n=this.ii(n,o,s,i,t[a+13],21,1309151649);i=this.ii(i,n,o,s,t[a+4],6,-145523070);s=this.ii(s,i,n,o,t[a+11],10,-1120210379);o=this.ii(o,s,i,n,t[a+2],15,718787259);n=this.ii(n,o,s,i,t[a+9],21,-343485551);i=this.addme(i,c);n=this.addme(n,l);o=this.addme(o,d);s=this.addme(s,u);a+=16;}return this.rhex(i)+this.rhex(n)+this.rhex(o)+this.rhex(s)},ii:function(e,t,i,n,o,s,r){return this.cmn(this.bitXOR(i,this.bitOR(t,~n)),e,t,o,s,r)},hh:function(e,t,i,n,o,s,r){return this.cmn(this.bitXOR(this.bitXOR(t,i),n),e,t,o,s,r)},gg:function(e,t,i,n,o,s,r){return this.cmn(this.bitOR(this.bitAND(t,n),this.bitAND(i,~n)),e,t,o,s,r)},ff:function(e,t,i,n,o,s,r){return this.cmn(this.bitOR(this.bitAND(t,i),this.bitAND(~t,n)),e,t,o,s,r)},cmn:function(e,t,i,n,o,s){return this.addme(this.rol(this.addme(this.addme(t,e),this.addme(n,s)),o),i)},rol:function(e,t){return e<<t|e>>>32-t},str2blks:function(e){var t=(e.length+8>>6)+1;var i=new Array;var n=0,o=t*16;while(n<o){var s=n++;i[s]=0;}var s=0;while(s<e.length){i[s>>2]|=HxOverrides.cca(e,s)<<(e.length*8+s)%4*8;s++;}i[s>>2]|=128<<(e.length*8+s)%4*8;var r=e.length*8;var a=t*16-2;i[a]=r&255;i[a]|=(r>>>8&255)<<8;i[a]|=(r>>>16&255)<<16;i[a]|=(r>>>24&255)<<24;return i},rhex:function(e){var t="";var i="0123456789abcdef";var n=0;while(n<4){var o=n++;t+=i.charAt(e>>o*8+4&15)+i.charAt(e>>o*8&15);}return t},addme:function(e,t){var i=(e&65535)+(t&65535);var n=(e>>16)+(t>>16)+(i>>16);return n<<16|i&65535},bitAND:function(e,t){var i=e&1&(t&1);var n=e>>>1&t>>>1;return n<<1|i},bitXOR:function(e,t){var i=e&1^t&1;var n=e>>>1^t>>>1;return n<<1|i},bitOR:function(e,t){var i=e&1|t&1;var n=e>>>1|t>>>1;return n<<1|i},__class__:haxe.Md5};haxe.Timer=function(e){var t=this;this.id=window.setInterval((function(){t.run();}),e);};haxe.Timer.__name__=true;haxe.Timer.delay=function(e,t){var i=new haxe.Timer(t);i.run=function(){i.stop();e();};return i};haxe.Timer.measure=function(e,t){var i=haxe.Timer.stamp();var n=e();haxe.Log.trace(haxe.Timer.stamp()-i+"s",t);return n};haxe.Timer.stamp=function(){return (new Date).getTime()/1e3};haxe.Timer.prototype={run:function(){},stop:function(){if(this.id==null)return;window.clearInterval(this.id);this.id=null;},__class__:haxe.Timer};var js=js||{};js.Boot=function(){};js.Boot.__name__=true;js.Boot.__unhtml=function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};js.Boot.__trace=function(e,t){var i=t!=null?t.fileName+":"+t.lineNumber+": ":"";i+=js.Boot.__string_rec(e,"");var n;if(typeof document!="undefined"&&(n=document.getElementById("haxe:trace"))!=null)n.innerHTML+=js.Boot.__unhtml(i)+"<br/>";else if(typeof console!="undefined"&&console.log!=null)console.log(i);};js.Boot.__clear_trace=function(){var e=document.getElementById("haxe:trace");if(e!=null)e.innerHTML="";};js.Boot.isClass=function(e){return e.__name__};js.Boot.isEnum=function(e){return e.__ename__};js.Boot.getClass=function(e){return e.__class__};js.Boot.__string_rec=function(e,t){if(e==null)return "null";if(t.length>=5)return "<...>";var i=typeof e;if(i=="function"&&(e.__name__||e.__ename__))i="object";switch(i){case"object":if(e instanceof Array){if(e.__enum__){if(e.length==2)return e[0];var n=e[0]+"(";t+="\t";var o=2,s=e.length;while(o<s){var r=o++;if(r!=2)n+=","+js.Boot.__string_rec(e[r],t);else n+=js.Boot.__string_rec(e[r],t);}return n+")"}var a=e.length;var r;var n="[";t+="\t";var s=0;while(s<a){var c=s++;n+=(c>0?",":"")+js.Boot.__string_rec(e[c],t);}n+="]";return n}var l;try{l=e.toString;}catch(e){return "???"}if(l!=null&&l!=Object.toString){var d=e.toString();if(d!="[object Object]")return d}var u=null;var n="{\n";t+="\t";var h=e.hasOwnProperty!=null;for(var u in e){if(h&&!e.hasOwnProperty(u)){continue}if(u=="prototype"||u=="__class__"||u=="__super__"||u=="__interfaces__"||u=="__properties__"){continue}if(n.length!=2)n+=", \n";n+=t+u+" : "+js.Boot.__string_rec(e[u],t);}t=t.substring(1);n+="\n"+t+"}";return n;case"function":return "<function>";case"string":return e;default:return String(e)}};js.Boot.__interfLoop=function(e,t){if(e==null)return false;if(e==t)return true;var i=e.__interfaces__;if(i!=null){var n=0,o=i.length;while(n<o){var s=n++;var r=i[s];if(r==t||js.Boot.__interfLoop(r,t))return true}}return js.Boot.__interfLoop(e.__super__,t)};js.Boot.__instanceof=function(e,t){try{if(e instanceof t){if(t==Array)return e.__enum__==null;return true}if(js.Boot.__interfLoop(e.__class__,t))return true}catch(e){if(t==null)return false}switch(t){case Int:return Math.ceil(e%2147483648)===e;case Float:return typeof e=="number";case Bool:return e===true||e===false;case String:return typeof e=="string";case Dynamic:return true;default:if(e==null)return false;if(t==Class&&e.__name__!=null)return true;if(t==Enum&&e.__ename__!=null)return true;return e.__enum__==t}};js.Boot.__cast=function(e,t){if(js.Boot.__instanceof(e,t))return e;else throw "Cannot cast "+Std.string(e)+" to "+Std.string(t)};js.Lib=function(){};js.Lib.__name__=true;js.Lib.debug=function(){debugger};js.Lib.alert=function(e){alert(js.Boot.__string_rec(e,""));};js.Lib.eval=function(code){return eval(code)};js.Lib.setErrorHandler=function(e){js.Lib.onerror=e;};function $bind(e,t){var i=function(){return i.method.apply(i.scope,arguments)};i.scope=e;i.method=t;return i}if(Array.prototype.indexOf)HxOverrides.remove=function(e,t){var i=e.indexOf(t);if(i==-1)return false;e.splice(i,1);return true};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(e){return isFinite(e)};Math.isNaN=function(e){return isNaN(e)};String.prototype.__class__=String;String.__name__=true;Array.prototype.__class__=Array;Array.__name__=true;Date.prototype.__class__=Date;Date.__name__=["Date"];var Int={__name__:["Int"]};var Dynamic={__name__:["Dynamic"]};var Float=Number;Float.__name__=["Float"];var Bool=Boolean;Bool.__ename__=["Bool"];var Class={__name__:["Class"]};var Enum={};if(typeof document!="undefined")js.Lib.document=document;if(typeof window!="undefined"){js.Lib.window=window;js.Lib.window.onerror=function(e,t,i){var n=js.Lib.onerror;if(n==null)return false;return n(e,[t+":"+i])};}com.wiris.js.JsPluginTools.main();})();delete Array.prototype.__class__;},function(e,t,i){var n=i(1);var o=i(87);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".wrs_modal_overlay{position:fixed;font-family:arial,sans-serif;top:0;right:0;left:0;bottom:0;background:rgba(0,0,0,.8);z-index:999998;opacity:.65;pointer-events:auto}.wrs_modal_overlay.wrs_modal_android,.wrs_modal_overlay.wrs_modal_ios{visibility:hidden;display:none}.wrs_modal_overlay.wrs_modal_ios.moodle{position:fixed}.wrs_modal_overlay.wrs_modal_desktop.wrs_stack{background:transparent;display:none}.wrs_modal_overlay.wrs_modal_desktop.wrs_maximized{background:rgba(0,0,0,.8)}.wrs_modal_overlay.wrs_modal_desktop.wrs_closed,.wrs_modal_overlay.wrs_modal_desktop.wrs_minimized{background:transparent;display:none}.wrs_modal_title{color:#fff;padding:5px 0 5px 10px;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;text-align:left}.wrs_modal_close_button{background-repeat:no-repeat}.wrs_modal_close_button,.wrs_modal_minimize_button{float:right;cursor:pointer;color:#fff;padding:5px 10px 5px 0;margin:10px 7px 0 0}.wrs_modal_minimize_button{top:inherit}.wrs_modal_stack_button{float:right;cursor:pointer;color:#fff;margin:10px 7px 0 0;padding:5px 10px 5px 0;top:inherit}.wrs_modal_stack_button.wrs_minimized,.wrs_modal_stack_button.wrs_stack{visibility:hidden;margin:0;padding:0}.wrs_modal_maximize_button{float:right;cursor:pointer;color:#fff;margin:10px 7px 0 0;padding:5px 10px 5px 0;top:inherit}.wrs_modal_maximize_button.wrs_maximized{visibility:hidden;margin:0;padding:0}.wrs_modal_wrapper{display:block}.wrs_modal_title_bar{display:block;background-color:#778e9a}.wrs_modal_dialogContainer{border:none;background:#fafafa;z-index:999999}.wrs_modal_dialogContainer.wrs_modal_desktop{font-size:14px}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_maximized{position:fixed}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_minimized{position:fixed;top:inherit;margin:0 10px 0 0}.wrs_modal_dialogContainer.wrs_closed{visibility:hidden;display:none;opacity:0}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_stack{position:fixed;bottom:0;right:0;box-shadow:0 2px 8px rgba(0,0,0,.5)}.wrs_modal_dialogContainer.wrs_drag,.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_drag{box-shadow:0 2px 8px rgba(0,0,0,.5)}.wrs_modal_dialogContainer.wrs_modal_android{width:99%;height:99%}.wrs_modal_dialogContainer.wrs_modal_android,.wrs_modal_dialogContainer.wrs_modal_ios{margin:auto;overflow:hidden;transform:translate(50%,-50%);top:50%;right:50%!important;position:fixed}.wrs_modal_dialogContainer.wrs_modal_ios{width:100%;height:100%}.wrs_content_container.wrs_minimized{display:none}.wrs_content_container.wrs_modal_android{width:100%;flex-grow:1;display:flex;flex-direction:column}.wrs_content_container.wrs_modal_android>div:first-child,.wrs_content_container.wrs_modal_desktop>div:first-child,.wrs_content_container.wrs_modal_ios>div:first-child{flex-grow:1}.wrs_modal_wrapper.wrs_modal_android{margin:auto;display:flex;flex-direction:column;height:100%;width:100%}.wrs_content_container.wrs_modal_desktop,.wrs_content_container.wrs_modal_ios{width:100%;flex-grow:1;display:flex;flex-direction:column}.wrs_modal_wrapper.wrs_modal_ios{margin:auto;display:flex;flex-direction:column;height:100%;width:100%}.wrs_virtual_keyboard{height:100%;width:100%;top:0;left:50%;transform:translate(-50%)}@media (orientation:portrait){.wrs_modal_dialogContainer.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto;border-width:0}.wrs_modal_wrapper.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto}}@media (orientation:landscape){.wrs_modal_dialogContainer.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto;border-width:0}.wrs_modal_wrapper.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto}}.wrs_modal_dialogContainer.wrs_modal_badStock,.wrs_modal_wrapper.wrs_modal_badStock{width:100%;height:280px;margin:0 auto;border-width:0}.wrs_noselect{-khtml-user-select:none}.wrs_bottom_right_resizer,.wrs_noselect{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wrs_bottom_right_resizer{width:10px;height:10px;color:#778e9a;position:absolute;right:4px;bottom:8px;cursor:se-resize}.wrs_bottom_left_resizer{width:15px;height:15px;color:#778e9a;position:absolute;left:0;top:0;cursor:se-resize}.wrs_modal_controls{height:42px;margin:3px 0;overflow:hidden;line-height:normal}.wrs_modal_links{margin:10px auto 0;font-family:arial,sans-serif;padding:6px;display:inline;float:right;text-align:right}.wrs_modal_links>a{text-decoration:none;color:#778e9a;font-size:16px}.wrs_modal_button_cancel,.wrs_modal_button_cancel:active,.wrs_modal_button_cancel:focus,.wrs_modal_button_cancel:hover,.wrs_modal_button_cancel:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px auto 0 5px;cursor:pointer;font-family:arial,sans-serif;background-color:#ddd;height:32px}.wrs_modal_button_accept,.wrs_modal_button_accept:active,.wrs_modal_button_accept:focus,.wrs_modal_button_accept:hover,.wrs_modal_button_accept:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px 5px 0 auto;color:#fff;background:#778e9a;cursor:pointer;font-family:arial,sans-serif;height:32px}.wrs_editor_vertical_bar{height:20px;float:right;background:none;width:20px;cursor:pointer}.wrs_modal_buttons_container{display:inline;float:left}.wrs_modal_buttons_container.wrs_modalAndroid{padding-left:6px}.wrs_modal_buttons_container.wrs_modalDesktop{padding-left:0}.wrs_modal_buttons_container>button{line-height:normal;background-image:none}.wrs_modal_wrapper{margin:6px;display:flex;flex-direction:column}.wrs_modal_wrapper.wrs_modal_desktop.wrs_minimized{display:none}@media only screen and (max-device-width:480px) and (orientation:portrait){#wrs_modal_wrapper{width:140%}}.wrs_popupmessage_overlay_envolture{display:none;width:100%}.wrs_popupmessage_overlay{position:absolute;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:4;cursor:pointer}.wrs_popupmessage_panel{top:50%;left:50%;transform:translate(-50%,-50%);position:absolute;background:#fff;max-width:500px;width:75%;border-radius:2px;padding:20px;font-family:sans-serif;font-size:15px;text-align:left;color:#2e2e2e;z-index:5;max-height:75%;overflow:auto}.wrs_popupmessage_button_area{margin:10px 0 0}.wrs_panelContainer *{border:0}.wrs_button_cancel,.wrs_button_cancel:active,.wrs_button_cancel:focus,.wrs_button_cancel:hover,.wrs_button_cancel:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px auto 0 5px;cursor:pointer;font-family:arial,sans-serif;background-color:#ddd;background-image:none;height:32px}.wrs_button_accept,.wrs_button_accept:active,.wrs_button_accept:focus,.wrs_button_accept:hover,.wrs_button_accept:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px 5px 0 auto;color:#fff;background:#778e9a;cursor:pointer;font-family:arial,sans-serif;height:32px}.wrs_editor button{box-shadow:none}.wrs_editor .wrs_header button{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.wrs_modal_overlay.wrs_modal_desktop.wrs_stack.wrs_overlay_active{display:block}.wrs_toolbar tr:focus,.wrs_toolbar tr:hover{background:none}.wrs_modal_rtl .wrs_modal_button_cancel{margin-right:5px;margin-left:0}.wrs_modal_rtl .wrs_modal_button_accept{margin-right:0;margin-left:5px}.wrs_modal_rtl .wrs_button_cancel{margin-right:5px;margin-left:0}.wrs_modal_rtl .wrs_button_accept{margin-right:0;margin-left:5px}";},function(e,t,i){var n=i(1);var o=i(89);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}';},function(e,t,i){var n=i(1);var o=i(91);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}";},function(e,t,i){var n=i(1);var o=i(93);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}";},function(e,t,i){var n=i(1);var o=i(95);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}";},function(e,t,i){var n=i(1);var o=i(97);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}";},function(e,t,i){var n=i(1);var o=i(99);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}";},function(e,t,i){var n=i(1);var o=i(101);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}';},function(e,t,i){var n=i(1);var o=i(103);o=o.__esModule?o.default:o;if(typeof o==="string"){o=[[e.i,o,""]];}var s={injectType:"singletonStyleTag",attributes:{"data-cke":true}};s.insert="head";s.singleton=true;var r=n(o,s);e.exports=o.locals||{};},function(e,t){e.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}";},function(e,t,i){i.r(t);var n=i(3);var o=n["a"].Symbol;var s=o;var r=Object.prototype;var a=r.hasOwnProperty;var c=r.toString;var l=s?s.toStringTag:undefined;function d(e){var t=a.call(e,l),i=e[l];try{e[l]=undefined;var n=true;}catch(e){}var o=c.call(e);if(n){if(t){e[l]=i;}else {delete e[l];}}return o}var u=d;var h=Object.prototype;var f=h.toString;function m(e){return f.call(e)}var g=m;var p="[object Null]",b="[object Undefined]";var w=s?s.toStringTag:undefined;function _(e){if(e==null){return e===undefined?b:p}return w&&w in Object(e)?u(e):g(e)}var v=_;function k(e,t){return function(i){return e(t(i))}}var y=k;var x=y(Object.getPrototypeOf,Object);var A=x;function C(e){return e!=null&&typeof e=="object"}var T=C;var M="[object Object]";var E=Function.prototype,P=Object.prototype;var S=E.toString;var I=P.hasOwnProperty;var O=S.call(Object);function N(e){if(!T(e)||v(e)!=M){return false}var t=A(e);if(t===null){return true}var i=I.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&S.call(i)==O}var R=N;function L(){this.__data__=[];this.size=0;}var D=L;function j(e,t){return e===t||e!==e&&t!==t}var z=j;function B(e,t){var i=e.length;while(i--){if(z(e[i][0],t)){return i}}return -1}var V=B;var F=Array.prototype;var H=F.splice;function U(e){var t=this.__data__,i=V(t,e);if(i<0){return false}var n=t.length-1;if(i==n){t.pop();}else {H.call(t,i,1);}--this.size;return true}var W=U;function $(e){var t=this.__data__,i=V(t,e);return i<0?undefined:t[i][1]}var q=$;function Y(e){return V(this.__data__,e)>-1}var J=Y;function G(e,t){var i=this.__data__,n=V(i,e);if(n<0){++this.size;i.push([e,t]);}else {i[n][1]=t;}return this}var Q=G;function X(e){var t=-1,i=e==null?0:e.length;this.clear();while(++t<i){var n=e[t];this.set(n[0],n[1]);}}X.prototype.clear=D;X.prototype["delete"]=W;X.prototype.get=q;X.prototype.has=J;X.prototype.set=Q;var K=X;function Z(){this.__data__=new K;this.size=0;}var ee=Z;function te(e){var t=this.__data__,i=t["delete"](e);this.size=t.size;return i}var ie=te;function ne(e){return this.__data__.get(e)}var oe=ne;function se(e){return this.__data__.has(e)}var re=se;function ae(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ce=ae;var le="[object AsyncFunction]",de="[object Function]",ue="[object GeneratorFunction]",he="[object Proxy]";function fe(e){if(!ce(e)){return false}var t=v(e);return t==de||t==ue||t==le||t==he}var me=fe;var ge=n["a"]["__core-js_shared__"];var pe=ge;var be=function(){var e=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function we(e){return !!be&&be in e}var _e=we;var ve=Function.prototype;var ke=ve.toString;function ye(e){if(e!=null){try{return ke.call(e)}catch(e){}try{return e+""}catch(e){}}return ""}var xe=ye;var Ae=/[\\^$.*+?()[\]{}|]/g;var Ce=/^\[object .+?Constructor\]$/;var Te=Function.prototype,Me=Object.prototype;var Ee=Te.toString;var Pe=Me.hasOwnProperty;var Se=RegExp("^"+Ee.call(Pe).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ie(e){if(!ce(e)||_e(e)){return false}var t=me(e)?Se:Ce;return t.test(xe(e))}var Oe=Ie;function Ne(e,t){return e==null?undefined:e[t]}var Re=Ne;function Le(e,t){var i=Re(e,t);return Oe(i)?i:undefined}var De=Le;var je=De(n["a"],"Map");var ze=je;var Be=De(Object,"create");var Ve=Be;function Fe(){this.__data__=Ve?Ve(null):{};this.size=0;}var He=Fe;function Ue(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}var We=Ue;var $e="__lodash_hash_undefined__";var qe=Object.prototype;var Ye=qe.hasOwnProperty;function Je(e){var t=this.__data__;if(Ve){var i=t[e];return i===$e?undefined:i}return Ye.call(t,e)?t[e]:undefined}var Ge=Je;var Qe=Object.prototype;var Xe=Qe.hasOwnProperty;function Ke(e){var t=this.__data__;return Ve?t[e]!==undefined:Xe.call(t,e)}var Ze=Ke;var et="__lodash_hash_undefined__";function tt(e,t){var i=this.__data__;this.size+=this.has(e)?0:1;i[e]=Ve&&t===undefined?et:t;return this}var it=tt;function nt(e){var t=-1,i=e==null?0:e.length;this.clear();while(++t<i){var n=e[t];this.set(n[0],n[1]);}}nt.prototype.clear=He;nt.prototype["delete"]=We;nt.prototype.get=Ge;nt.prototype.has=Ze;nt.prototype.set=it;var ot=nt;function st(){this.size=0;this.__data__={hash:new ot,map:new(ze||K),string:new ot};}var rt=st;function at(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ct=at;function lt(e,t){var i=e.__data__;return ct(t)?i[typeof t=="string"?"string":"hash"]:i.map}var dt=lt;function ut(e){var t=dt(this,e)["delete"](e);this.size-=t?1:0;return t}var ht=ut;function ft(e){return dt(this,e).get(e)}var mt=ft;function gt(e){return dt(this,e).has(e)}var pt=gt;function bt(e,t){var i=dt(this,e),n=i.size;i.set(e,t);this.size+=i.size==n?0:1;return this}var wt=bt;function _t(e){var t=-1,i=e==null?0:e.length;this.clear();while(++t<i){var n=e[t];this.set(n[0],n[1]);}}_t.prototype.clear=rt;_t.prototype["delete"]=ht;_t.prototype.get=mt;_t.prototype.has=pt;_t.prototype.set=wt;var vt=_t;var kt=200;function yt(e,t){var i=this.__data__;if(i instanceof K){var n=i.__data__;if(!ze||n.length<kt-1){n.push([e,t]);this.size=++i.size;return this}i=this.__data__=new vt(n);}i.set(e,t);this.size=i.size;return this}var xt=yt;function At(e){var t=this.__data__=new K(e);this.size=t.size;}At.prototype.clear=ee;At.prototype["delete"]=ie;At.prototype.get=oe;At.prototype.has=re;At.prototype.set=xt;var Ct=At;function Tt(e,t){var i=-1,n=e==null?0:e.length;while(++i<n){if(t(e[i],i,e)===false){break}}return e}var Mt=Tt;var Et=function(){try{var e=De(Object,"defineProperty");e({},"",{});return e}catch(e){}}();var Pt=Et;function St(e,t,i){if(t=="__proto__"&&Pt){Pt(e,t,{configurable:true,enumerable:true,value:i,writable:true});}else {e[t]=i;}}var It=St;var Ot=Object.prototype;var Nt=Ot.hasOwnProperty;function Rt(e,t,i){var n=e[t];if(!(Nt.call(e,t)&&z(n,i))||i===undefined&&!(t in e)){It(e,t,i);}}var Lt=Rt;function Dt(e,t,i,n){var o=!i;i||(i={});var s=-1,r=t.length;while(++s<r){var a=t[s];var c=n?n(i[a],e[a],a,i,e):undefined;if(c===undefined){c=e[a];}if(o){It(i,a,c);}else {Lt(i,a,c);}}return i}var jt=Dt;function zt(e,t){var i=-1,n=Array(e);while(++i<e){n[i]=t(i);}return n}var Bt=zt;var Vt="[object Arguments]";function Ft(e){return T(e)&&v(e)==Vt}var Ht=Ft;var Ut=Object.prototype;var Wt=Ut.hasOwnProperty;var $t=Ut.propertyIsEnumerable;var qt=Ht(function(){return arguments}())?Ht:function(e){return T(e)&&Wt.call(e,"callee")&&!$t.call(e,"callee")};var Yt=qt;var Jt=Array.isArray;var Gt=Jt;var Qt=i(4);var Xt=9007199254740991;var Kt=/^(?:0|[1-9]\d*)$/;function Zt(e,t){var i=typeof e;t=t==null?Xt:t;return !!t&&(i=="number"||i!="symbol"&&Kt.test(e))&&(e>-1&&e%1==0&&e<t)}var ei=Zt;var ti=9007199254740991;function ii(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ti}var ni=ii;var oi="[object Arguments]",si="[object Array]",ri="[object Boolean]",ai="[object Date]",ci="[object Error]",li="[object Function]",di="[object Map]",ui="[object Number]",hi="[object Object]",fi="[object RegExp]",mi="[object Set]",gi="[object String]",pi="[object WeakMap]";var bi="[object ArrayBuffer]",wi="[object DataView]",_i="[object Float32Array]",vi="[object Float64Array]",ki="[object Int8Array]",yi="[object Int16Array]",xi="[object Int32Array]",Ai="[object Uint8Array]",Ci="[object Uint8ClampedArray]",Ti="[object Uint16Array]",Mi="[object Uint32Array]";var Ei={};Ei[_i]=Ei[vi]=Ei[ki]=Ei[yi]=Ei[xi]=Ei[Ai]=Ei[Ci]=Ei[Ti]=Ei[Mi]=true;Ei[oi]=Ei[si]=Ei[bi]=Ei[ri]=Ei[wi]=Ei[ai]=Ei[ci]=Ei[li]=Ei[di]=Ei[ui]=Ei[hi]=Ei[fi]=Ei[mi]=Ei[gi]=Ei[pi]=false;function Pi(e){return T(e)&&ni(e.length)&&!!Ei[v(e)]}var Si=Pi;function Ii(e){return function(t){return e(t)}}var Oi=Ii;var Ni=i(5);var Ri=Ni["a"]&&Ni["a"].isTypedArray;var Li=Ri?Oi(Ri):Si;var Di=Li;var ji=Object.prototype;var zi=ji.hasOwnProperty;function Bi(e,t){var i=Gt(e),n=!i&&Yt(e),o=!i&&!n&&Object(Qt["a"])(e),s=!i&&!n&&!o&&Di(e),r=i||n||o||s,a=r?Bt(e.length,String):[],c=a.length;for(var l in e){if((t||zi.call(e,l))&&!(r&&(l=="length"||o&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||ei(l,c)))){a.push(l);}}return a}var Vi=Bi;var Fi=Object.prototype;function Hi(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||Fi;return e===i}var Ui=Hi;var Wi=y(Object.keys,Object);var $i=Wi;var qi=Object.prototype;var Yi=qi.hasOwnProperty;function Ji(e){if(!Ui(e)){return $i(e)}var t=[];for(var i in Object(e)){if(Yi.call(e,i)&&i!="constructor"){t.push(i);}}return t}var Gi=Ji;function Qi(e){return e!=null&&ni(e.length)&&!me(e)}var Xi=Qi;function Ki(e){return Xi(e)?Vi(e):Gi(e)}var Zi=Ki;function en(e,t){return e&&jt(t,Zi(t),e)}var tn=en;function nn(e){var t=[];if(e!=null){for(var i in Object(e)){t.push(i);}}return t}var on=nn;var sn=Object.prototype;var rn=sn.hasOwnProperty;function an(e){if(!ce(e)){return on(e)}var t=Ui(e),i=[];for(var n in e){if(!(n=="constructor"&&(t||!rn.call(e,n)))){i.push(n);}}return i}var cn=an;function ln(e){return Xi(e)?Vi(e,true):cn(e)}var dn=ln;function un(e,t){return e&&jt(t,dn(t),e)}var hn=un;var fn=i(8);function mn(e,t){var i=-1,n=e.length;t||(t=Array(n));while(++i<n){t[i]=e[i];}return t}var gn=mn;function pn(e,t){var i=-1,n=e==null?0:e.length,o=0,s=[];while(++i<n){var r=e[i];if(t(r,i,e)){s[o++]=r;}}return s}var bn=pn;function wn(){return []}var _n=wn;var vn=Object.prototype;var kn=vn.propertyIsEnumerable;var yn=Object.getOwnPropertySymbols;var xn=!yn?_n:function(e){if(e==null){return []}e=Object(e);return bn(yn(e),(function(t){return kn.call(e,t)}))};var An=xn;function Cn(e,t){return jt(e,An(e),t)}var Tn=Cn;function Mn(e,t){var i=-1,n=t.length,o=e.length;while(++i<n){e[o+i]=t[i];}return e}var En=Mn;var Pn=Object.getOwnPropertySymbols;var Sn=!Pn?_n:function(e){var t=[];while(e){En(t,An(e));e=A(e);}return t};var In=Sn;function On(e,t){return jt(e,In(e),t)}var Nn=On;function Rn(e,t,i){var n=t(e);return Gt(e)?n:En(n,i(e))}var Ln=Rn;function Dn(e){return Ln(e,Zi,An)}var jn=Dn;function zn(e){return Ln(e,dn,In)}var Bn=zn;var Vn=De(n["a"],"DataView");var Fn=Vn;var Hn=De(n["a"],"Promise");var Un=Hn;var Wn=De(n["a"],"Set");var $n=Wn;var qn=De(n["a"],"WeakMap");var Yn=qn;var Jn="[object Map]",Gn="[object Object]",Qn="[object Promise]",Xn="[object Set]",Kn="[object WeakMap]";var Zn="[object DataView]";var eo=xe(Fn),to=xe(ze),io=xe(Un),no=xe($n),oo=xe(Yn);var so=v;if(Fn&&so(new Fn(new ArrayBuffer(1)))!=Zn||ze&&so(new ze)!=Jn||Un&&so(Un.resolve())!=Qn||$n&&so(new $n)!=Xn||Yn&&so(new Yn)!=Kn){so=function(e){var t=v(e),i=t==Gn?e.constructor:undefined,n=i?xe(i):"";if(n){switch(n){case eo:return Zn;case to:return Jn;case io:return Qn;case no:return Xn;case oo:return Kn}}return t};}var ro=so;var ao=Object.prototype;var co=ao.hasOwnProperty;function lo(e){var t=e.length,i=new e.constructor(t);if(t&&typeof e[0]=="string"&&co.call(e,"index")){i.index=e.index;i.input=e.input;}return i}var uo=lo;var ho=n["a"].Uint8Array;var fo=ho;function mo(e){var t=new e.constructor(e.byteLength);new fo(t).set(new fo(e));return t}var go=mo;function po(e,t){var i=t?go(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var bo=po;var wo=/\w*$/;function _o(e){var t=new e.constructor(e.source,wo.exec(e));t.lastIndex=e.lastIndex;return t}var vo=_o;var ko=s?s.prototype:undefined,yo=ko?ko.valueOf:undefined;function xo(e){return yo?Object(yo.call(e)):{}}var Ao=xo;function Co(e,t){var i=t?go(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var To=Co;var Mo="[object Boolean]",Eo="[object Date]",Po="[object Map]",So="[object Number]",Io="[object RegExp]",Oo="[object Set]",No="[object String]",Ro="[object Symbol]";var Lo="[object ArrayBuffer]",Do="[object DataView]",jo="[object Float32Array]",zo="[object Float64Array]",Bo="[object Int8Array]",Vo="[object Int16Array]",Fo="[object Int32Array]",Ho="[object Uint8Array]",Uo="[object Uint8ClampedArray]",Wo="[object Uint16Array]",$o="[object Uint32Array]";function qo(e,t,i){var n=e.constructor;switch(t){case Lo:return go(e);case Mo:case Eo:return new n(+e);case Do:return bo(e,i);case jo:case zo:case Bo:case Vo:case Fo:case Ho:case Uo:case Wo:case $o:return To(e,i);case Po:return new n;case So:case No:return new n(e);case Io:return vo(e);case Oo:return new n;case Ro:return Ao(e)}}var Yo=qo;var Jo=Object.create;var Go=function(){function e(){}return function(t){if(!ce(t)){return {}}if(Jo){return Jo(t)}e.prototype=t;var i=new e;e.prototype=undefined;return i}}();var Qo=Go;function Xo(e){return typeof e.constructor=="function"&&!Ui(e)?Qo(A(e)):{}}var Ko=Xo;var Zo="[object Map]";function es(e){return T(e)&&ro(e)==Zo}var ts=es;var is=Ni["a"]&&Ni["a"].isMap;var ns=is?Oi(is):ts;var os=ns;var ss="[object Set]";function rs(e){return T(e)&&ro(e)==ss}var as=rs;var cs=Ni["a"]&&Ni["a"].isSet;var ls=cs?Oi(cs):as;var ds=ls;var us=1,hs=2,fs=4;var ms="[object Arguments]",gs="[object Array]",ps="[object Boolean]",bs="[object Date]",ws="[object Error]",_s="[object Function]",vs="[object GeneratorFunction]",ks="[object Map]",ys="[object Number]",xs="[object Object]",As="[object RegExp]",Cs="[object Set]",Ts="[object String]",Ms="[object Symbol]",Es="[object WeakMap]";var Ps="[object ArrayBuffer]",Ss="[object DataView]",Is="[object Float32Array]",Os="[object Float64Array]",Ns="[object Int8Array]",Rs="[object Int16Array]",Ls="[object Int32Array]",Ds="[object Uint8Array]",js="[object Uint8ClampedArray]",zs="[object Uint16Array]",Bs="[object Uint32Array]";var Vs={};Vs[ms]=Vs[gs]=Vs[Ps]=Vs[Ss]=Vs[ps]=Vs[bs]=Vs[Is]=Vs[Os]=Vs[Ns]=Vs[Rs]=Vs[Ls]=Vs[ks]=Vs[ys]=Vs[xs]=Vs[As]=Vs[Cs]=Vs[Ts]=Vs[Ms]=Vs[Ds]=Vs[js]=Vs[zs]=Vs[Bs]=true;Vs[ws]=Vs[_s]=Vs[Es]=false;function Fs(e,t,i,n,o,s){var r,a=t&us,c=t&hs,l=t&fs;if(i){r=o?i(e,n,o,s):i(e);}if(r!==undefined){return r}if(!ce(e)){return e}var d=Gt(e);if(d){r=uo(e);if(!a){return gn(e,r)}}else {var u=ro(e),h=u==_s||u==vs;if(Object(Qt["a"])(e)){return Object(fn["a"])(e,a)}if(u==xs||u==ms||h&&!o){r=c||h?{}:Ko(e);if(!a){return c?Nn(e,hn(r,e)):Tn(e,tn(r,e))}}else {if(!Vs[u]){return o?e:{}}r=Yo(e,u,a);}}s||(s=new Ct);var f=s.get(e);if(f){return f}s.set(e,r);if(ds(e)){e.forEach((function(n){r.add(Fs(n,t,i,n,e,s));}));}else if(os(e)){e.forEach((function(n,o){r.set(o,Fs(n,t,i,o,e,s));}));}var m=l?c?Bn:jn:c?keysIn:Zi;var g=d?undefined:m(e);Mt(g||e,(function(n,o){if(g){o=n;n=e[o];}Lt(r,o,Fs(n,t,i,o,e,s));}));return r}var Hs=Fs;var Us=1,Ws=4;function $s(e,t){t=typeof t=="function"?t:undefined;return Hs(e,Us|Ws,t)}var qs=$s;function Ys(e){return T(e)&&e.nodeType===1&&!R(e)}var Js=Ys;class Gs{constructor(e,t){this._config={};if(t){this.define(Qs(t));}if(e){this._setObjectToTarget(this._config,e);}}set(e,t){this._setToTarget(this._config,e,t);}define(e,t){const i=true;this._setToTarget(this._config,e,t,i);}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config)){yield e;}}_setToTarget(e,t,i,n=false){if(R(t)){this._setObjectToTarget(e,t,n);return}const o=t.split(".");t=o.pop();for(const t of o){if(!R(e[t])){e[t]={};}e=e[t];}if(R(i)){if(!R(e[t])){e[t]={};}e=e[t];this._setObjectToTarget(e,i,n);return}if(n&&typeof e[t]!="undefined"){return}e[t]=i;}_getFromSource(e,t){const i=t.split(".");t=i.pop();for(const t of i){if(!R(e[t])){e=null;break}e=e[t];}return e?Qs(e[t]):undefined}_setObjectToTarget(e,t,i){Object.keys(t).forEach(n=>{this._setToTarget(e,n,t[n],i);});}}function Qs(e){return qs(e,Xs)}function Xs(e){return Js(e)?e:undefined}function Ks(){return function e(){e.called=true;}}var Zs=Ks;class er{constructor(e,t){this.source=e;this.name=t;this.path=[];this.stop=Zs();this.off=Zs();}}const tr=new Array(256).fill().map((e,t)=>("0"+t.toString(16)).slice(-2));function ir(){const e=Math.random()*4294967296>>>0;const t=Math.random()*4294967296>>>0;const i=Math.random()*4294967296>>>0;const n=Math.random()*4294967296>>>0;return "e"+tr[e>>0&255]+tr[e>>8&255]+tr[e>>16&255]+tr[e>>24&255]+tr[t>>0&255]+tr[t>>8&255]+tr[t>>16&255]+tr[t>>24&255]+tr[i>>0&255]+tr[i>>8&255]+tr[i>>16&255]+tr[i>>24&255]+tr[n>>0&255]+tr[n>>8&255]+tr[n>>16&255]+tr[n>>24&255]}const nr={get(e){if(typeof e!="number"){return this[e]||this.normal}else {return e}},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};var or=nr;var sr=i(6);var rr=i(0);const ar=Symbol("listeningTo");const cr=Symbol("emitterId");const lr={on(e,t,i={}){this.listenTo(this,e,t,i);},once(e,t,i){let n=false;const o=function(e,...i){if(!n){n=true;e.off();t.call(this,e,...i);}};this.listenTo(this,e,o,i);},off(e,t){this.stopListening(this,e,t);},listenTo(e,t,i,n={}){let o,s;if(!this[ar]){this[ar]={};}const r=this[ar];if(!fr(e)){hr(e);}const a=fr(e);if(!(o=r[a])){o=r[a]={emitter:e,callbacks:{}};}if(!(s=o.callbacks[t])){s=o.callbacks[t]=[];}s.push(i);pr(e,t);const c=br(e,t);const l=or.get(n.priority);const d={callback:i,priority:l};for(const e of c){let t=false;for(let i=0;i<e.length;i++){if(e[i].priority<l){e.splice(i,0,d);t=true;break}}if(!t){e.push(d);}}},stopListening(e,t,i){const n=this[ar];let o=e&&fr(e);const s=n&&o&&n[o];const r=s&&t&&s.callbacks[t];if(!n||e&&!s||t&&!r){return}if(i){vr(e,t,i);}else if(r){while(i=r.pop()){vr(e,t,i);}delete s.callbacks[t];}else if(s){for(t in s.callbacks){this.stopListening(e,t);}delete n[o];}else {for(o in n){this.stopListening(n[o].emitter);}delete this[ar];}},fire(e,...t){try{const i=e instanceof er?e:new er(this,e);const n=i.name;let o=wr(this,n);i.path.push(this);if(o){const e=[i,...t];o=Array.from(o);for(let t=0;t<o.length;t++){o[t].callback.apply(this,e);if(i.off.called){delete i.off.called;vr(this,n,o[t].callback);}if(i.stop.called){break}}}if(this._delegations){const e=this._delegations.get(n);const o=this._delegations.get("*");if(e){_r(e,i,t);}if(o){_r(o,i,t);}}return i.return}catch(e){rr["b"].rethrowUnexpectedError(e,this);}},delegate(...e){return {to:(t,i)=>{if(!this._delegations){this._delegations=new Map;}e.forEach(e=>{const n=this._delegations.get(e);if(!n){this._delegations.set(e,new Map([[t,i]]));}else {n.set(t,i);}});}}},stopDelegating(e,t){if(!this._delegations){return}if(!e){this._delegations.clear();}else if(!t){this._delegations.delete(e);}else {const i=this._delegations.get(e);if(i){i.delete(t);}}}};var dr=lr;function ur(e,t){if(e[ar]&&e[ar][t]){return e[ar][t].emitter}return null}function hr(e,t){if(!e[cr]){e[cr]=t||ir();}}function fr(e){return e[cr]}function mr(e){if(!e._events){Object.defineProperty(e,"_events",{value:{}});}return e._events}function gr(){return {callbacks:[],childEvents:[]}}function pr(e,t){const i=mr(e);if(i[t]){return}let n=t;let o=null;const s=[];while(n!==""){if(i[n]){break}i[n]=gr();s.push(i[n]);if(o){i[n].childEvents.push(o);}o=n;n=n.substr(0,n.lastIndexOf(":"));}if(n!==""){for(const e of s){e.callbacks=i[n].callbacks.slice();}i[n].childEvents.push(o);}}function br(e,t){const i=mr(e)[t];if(!i){return []}let n=[i.callbacks];for(let t=0;t<i.childEvents.length;t++){const o=br(e,i.childEvents[t]);n=n.concat(o);}return n}function wr(e,t){let i;if(!e._events||!(i=e._events[t])||!i.callbacks.length){if(t.indexOf(":")>-1){return wr(e,t.substr(0,t.lastIndexOf(":")))}else {return null}}return i.callbacks}function _r(e,t,i){for(let[n,o]of e){if(!o){o=t.name;}else if(typeof o=="function"){o=o(t.name);}const e=new er(t.source,o);e.path=[...t.path];n.fire(e,...i);}}function vr(e,t,i){const n=br(e,t);for(const e of n){for(let t=0;t<e.length;t++){if(e[t].callback==i){e.splice(t,1);t--;}}}}function kr(e){return !!(e&&e[Symbol.iterator])}function yr(e,...t){t.forEach(t=>{Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(i=>{if(i in e.prototype){return}const n=Object.getOwnPropertyDescriptor(t,i);n.enumerable=false;Object.defineProperty(e.prototype,i,n);});});}class xr{constructor(e={},t={}){const i=kr(e);if(!i){t=e;}this._items=[];this._itemMap=new Map;this._idProperty=t.idProperty||"id";this._bindToExternalToInternalMap=new WeakMap;this._bindToInternalToExternalMap=new WeakMap;this._skippedIndexesFromExternal=[];if(i){for(const t of e){this._items.push(t);this._itemMap.set(this._getItemIdBeforeAdding(t),t);}}}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){const i=this._getItemIdBeforeAdding(e);if(t===undefined){t=this._items.length;}else if(t>this._items.length||t<0){throw new rr["b"]("collection-add-item-invalid-index",this)}this._items.splice(t,0,e);this._itemMap.set(i,e);this.fire("add",e,t);return this}get(e){let t;if(typeof e=="string"){t=this._itemMap.get(e);}else if(typeof e=="number"){t=this._items[e];}else {throw new rr["b"]("collection-get-invalid-arg: Index or id must be given.",this)}return t||null}has(e){if(typeof e=="string"){return this._itemMap.has(e)}else {const t=this._idProperty;const i=e[t];return this._itemMap.has(i)}}getIndex(e){let t;if(typeof e=="string"){t=this._itemMap.get(e);}else {t=e;}return this._items.indexOf(t)}remove(e){let t,i,n;let o=false;const s=this._idProperty;if(typeof e=="string"){i=e;n=this._itemMap.get(i);o=!n;if(n){t=this._items.indexOf(n);}}else if(typeof e=="number"){t=e;n=this._items[t];o=!n;if(n){i=n[s];}}else {n=e;i=n[s];t=this._items.indexOf(n);o=t==-1||!this._itemMap.get(i);}if(o){throw new rr["b"]("collection-remove-404: Item not found.",this)}this._items.splice(t,1);this._itemMap.delete(i);const r=this._bindToInternalToExternalMap.get(n);this._bindToInternalToExternalMap.delete(n);this._bindToExternalToInternalMap.delete(r);this.fire("remove",n,t);return n}map(e,t){return this._items.map(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){if(this._bindToCollection){this.stopListening(this._bindToCollection);this._bindToCollection=null;}while(this.length){this.remove(0);}}bindTo(e){if(this._bindToCollection){throw new rr["b"]("collection-bind-to-rebind: The collection cannot be bound more than once.",this)}this._bindToCollection=e;return {as:e=>{this._setUpBindToBinding(t=>new e(t));},using:e=>{if(typeof e=="function"){this._setUpBindToBinding(t=>e(t));}else {this._setUpBindToBinding(t=>t[e]);}}}}_setUpBindToBinding(e){const t=this._bindToCollection;const i=(i,n,o)=>{const s=t._bindToCollection==this;const r=t._bindToInternalToExternalMap.get(n);if(s&&r){this._bindToExternalToInternalMap.set(n,r);this._bindToInternalToExternalMap.set(r,n);}else {const i=e(n);if(!i){this._skippedIndexesFromExternal.push(o);return}let s=o;for(const e of this._skippedIndexesFromExternal){if(o>e){s--;}}for(const e of t._skippedIndexesFromExternal){if(s>=e){s++;}}this._bindToExternalToInternalMap.set(n,i);this._bindToInternalToExternalMap.set(i,n);this.add(i,s);for(let e=0;e<t._skippedIndexesFromExternal.length;e++){if(s<=t._skippedIndexesFromExternal[e]){t._skippedIndexesFromExternal[e]++;}}}};for(const e of t){i(null,e,t.getIndex(e));}this.listenTo(t,"add",i);this.listenTo(t,"remove",(e,t,i)=>{const n=this._bindToExternalToInternalMap.get(t);if(n){this.remove(n);}this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((e,t)=>{if(i<t){e.push(t-1);}if(i>t){e.push(t);}return e},[]);});}_getItemIdBeforeAdding(e){const t=this._idProperty;let i;if(t in e){i=e[t];if(typeof i!="string"){throw new rr["b"]("collection-add-invalid-id",this)}if(this.get(i)){throw new rr["b"]("collection-add-item-already-exists",this)}}else {e[t]=i=ir();}return i}[Symbol.iterator](){return this._items[Symbol.iterator]()}}yr(xr,dr);class Ar{constructor(e,t=[],i=[]){this._context=e;this._plugins=new Map;this._availablePlugins=new Map;for(const e of t){if(e.pluginName){this._availablePlugins.set(e.pluginName,e);}}this._contextPlugins=new Map;for(const[e,t]of i){this._contextPlugins.set(e,t);this._contextPlugins.set(t,e);if(e.pluginName){this._availablePlugins.set(e.pluginName,e);}}}*[Symbol.iterator](){for(const e of this._plugins){if(typeof e[0]=="function"){yield e;}}}get(e){const t=this._plugins.get(e);if(!t){const t="plugincollection-plugin-not-loaded: The requested plugin is not loaded.";let i=e;if(typeof e=="function"){i=e.pluginName||e.name;}throw new rr["b"](t,this._context,{plugin:i})}return t}has(e){return this._plugins.has(e)}init(e,t=[]){const i=this;const n=this._context;const o=new Set;const s=[];const r=m(e);const a=m(t);const c=f(e);if(c){const e="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";console.error(Object(rr["a"])(e),{plugins:c});return Promise.reject(new rr["b"](e,n,{plugins:c}))}return Promise.all(r.map(l)).then(()=>d(s,"init")).then(()=>d(s,"afterInit")).then(()=>s);function l(e){if(a.includes(e)){return}if(i._plugins.has(e)||o.has(e)){return}return u(e).catch(t=>{console.error(Object(rr["a"])("plugincollection-load: It was not possible to load the plugin."),{plugin:e});throw t})}function d(e,t){return e.reduce((e,n)=>{if(!n[t]){return e}if(i._contextPlugins.has(n)){return e}return e.then(n[t].bind(n))},Promise.resolve())}function u(e){return new Promise(r=>{o.add(e);if(e.requires){e.requires.forEach(i=>{const o=h(i);if(e.isContextPlugin&&!o.isContextPlugin){throw new rr["b"]("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:o.name,requiredBy:e.name})}if(t.includes(o)){throw new rr["b"]("plugincollection-required: Cannot load a plugin because one of its dependencies is listed in"+"the `removePlugins` option.",n,{plugin:o.name,requiredBy:e.name})}l(o);});}const a=i._contextPlugins.get(e)||new e(n);i._add(e,a);s.push(a);r();})}function h(e){if(typeof e=="function"){return e}return i._availablePlugins.get(e)}function f(e){const t=[];for(const i of e){if(!h(i)){t.push(i);}}return t.length?t:null}function m(e){return e.map(e=>h(e)).filter(e=>!!e)}}destroy(){const e=[];for(const[,t]of this){if(typeof t.destroy=="function"&&!this._contextPlugins.has(t)){e.push(t.destroy());}}return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const i=e.pluginName;if(!i){return}if(this._plugins.has(i)){throw new rr["b"]("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:i,plugin1:this._plugins.get(i).constructor,plugin2:e})}this._plugins.set(i,t);}}yr(Ar,dr);if(!window.CKEDITOR_TRANSLATIONS){window.CKEDITOR_TRANSLATIONS={};}function Tr(e,t,i=1){if(typeof i!=="number"){throw new rr["b"]("translation-service-quantity-not-a-number: Expecting `quantity` to be a number.",null,{quantity:i})}const n=Pr();if(n===1){e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0];}const o=t.id||t.string;if(n===0||!Er(e,o)){if(i!==1){return t.plural}return t.string}const s=window.CKEDITOR_TRANSLATIONS[e].dictionary;const r=window.CKEDITOR_TRANSLATIONS[e].getPluralForm||(e=>e===1?0:1);if(typeof s[o]==="string"){return s[o]}const a=Number(r(i));return s[o][a]}function Er(e,t){return !!window.CKEDITOR_TRANSLATIONS[e]&&!!window.CKEDITOR_TRANSLATIONS[e].dictionary[t]}function Pr(){return Object.keys(window.CKEDITOR_TRANSLATIONS).length}const Sr=["ar","fa","he","ku","ug"];class Ir{constructor(e={}){this.uiLanguage=e.uiLanguage||"en";this.contentLanguage=e.contentLanguage||this.uiLanguage;this.uiLanguageDirection=Nr(this.uiLanguage);this.contentLanguageDirection=Nr(this.contentLanguage);this.t=(e,t)=>this._t(e,t);}get language(){console.warn("locale-deprecated-language-property: "+"The Locale#language property has been deprecated and will be removed in the near future. "+"Please use #uiLanguage and #contentLanguage properties instead.");return this.uiLanguage}_t(e,t=[]){if(!Array.isArray(t)){t=[t];}if(typeof e==="string"){e={string:e};}const i=!!e.plural;const n=i?t[0]:1;const o=Tr(this.uiLanguage,e,n);return Or(o,t)}}function Or(e,t){return e.replace(/%(\d+)/g,(e,i)=>i<t.length?t[i]:e)}function Nr(e){return Sr.includes(e)?"rtl":"ltr"}class Rr{constructor(e){this.config=new Gs(e,this.constructor.defaultConfig);const t=this.constructor.builtinPlugins;this.config.define("plugins",t);this.plugins=new Ar(this,t);const i=this.config.get("language")||{};this.locale=new Ir({uiLanguage:typeof i==="string"?i:i.ui,contentLanguage:this.config.get("language.content")});this.t=this.locale.t;this.editors=new xr;this._contextOwner=null;}initPlugins(){const e=this.config.get("plugins")||[];for(const t of e){if(typeof t!="function"){throw new rr["b"]("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:t})}if(t.isContextPlugin!==true){throw new rr["b"]("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:t})}}return this.plugins.init(e)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,t){if(this._contextOwner){throw new rr["b"]("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.")}this.editors.add(e);if(t){this._contextOwner=e;}}_removeEditor(e){if(this.editors.has(e)){this.editors.remove(e);}if(this._contextOwner===e){return this.destroy()}return Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names()){if(!["plugins","removePlugins","extraPlugins"].includes(t)){e[t]=this.config.get(t);}}return e}static create(e){return new Promise(t=>{const i=new this(e);t(i.initPlugins().then(()=>i));})}}function Lr(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++){if(e[n]!=t[n]){return n}}if(e.length==t.length){return "same"}else if(e.length<t.length){return "prefix"}else {return "extension"}}var Dr=4;function jr(e){return Hs(e,Dr)}var zr=jr;class Br{constructor(e){this.document=e;this.parent=null;}get index(){let e;if(!this.parent){return null}if((e=this.parent.getChildIndex(this))==-1){throw new rr["b"]("view-node-not-found-in-parent: The node's parent does not contain this node.",this)}return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;while(e.parent){e=e.parent;}return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;while(t.parent){e.unshift(t.index);t=t.parent;}return e}getAncestors(e={includeSelf:false,parentFirst:false}){const t=[];let i=e.includeSelf?this:this.parent;while(i){t[e.parentFirst?"push":"unshift"](i);i=i.parent;}return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t);const n=e.getAncestors(t);let o=0;while(i[o]==n[o]&&i[o]){o++;}return o===0?null:i[o-1]}isBefore(e){if(this==e){return false}if(this.root!==e.root){return false}const t=this.getPath();const i=e.getPath();const n=Lr(t,i);switch(n){case"prefix":return true;case"extension":return false;default:return t[n]<i[n]}}isAfter(e){if(this==e){return false}if(this.root!==e.root){return false}return !this.isBefore(e)}_remove(){this.parent._removeChildren(this.index);}_fireChange(e,t){this.fire("change:"+e,t);if(this.parent){this.parent._fireChange(e,t);}}toJSON(){const e=zr(this);delete e.parent;return e}is(e){return e==="node"||e==="view:node"}}yr(Br,dr);class Vr extends Br{constructor(e,t){super(e);this._textData=t;}is(e){return e==="text"||e==="view:text"||e==="node"||e==="view:node"}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this);this._textData=e;}isSimilar(e){if(!(e instanceof Vr)){return false}return this===e||this.data===e.data}_clone(){return new Vr(this.document,this.data)}}class Fr{constructor(e,t,i){this.textNode=e;if(t<0||t>e.data.length){throw new rr["b"]("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this)}if(i<0||t+i>e.data.length){throw new rr["b"]("view-textproxy-wrong-length: Given length value is incorrect.",this)}this.data=e.data.substring(t,t+i);this.offsetInText=t;}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(e){return e==="textProxy"||e==="view:textProxy"}getAncestors(e={includeSelf:false,parentFirst:false}){const t=[];let i=e.includeSelf?this.textNode:this.parent;while(i!==null){t[e.parentFirst?"push":"unshift"](i);i=i.parent;}return t}}function Hr(e){const t=new Map;for(const i in e){t.set(i,e[i]);}return t}function Ur(e){if(kr(e)){return new Map(e)}else {return Hr(e)}}class Wr{constructor(...e){this._patterns=[];this.add(...e);}add(...e){for(let t of e){if(typeof t=="string"||t instanceof RegExp){t={name:t};}if(t.classes&&(typeof t.classes=="string"||t.classes instanceof RegExp)){t.classes=[t.classes];}this._patterns.push(t);}}match(...e){for(const t of e){for(const e of this._patterns){const i=$r(t,e);if(i){return {element:t,pattern:e,match:i}}}}return null}matchAll(...e){const t=[];for(const i of e){for(const e of this._patterns){const n=$r(i,e);if(n){t.push({element:i,pattern:e,match:n});}}}return t.length>0?t:null}getElementName(){if(this._patterns.length!==1){return null}const e=this._patterns[0];const t=e.name;return typeof e!="function"&&t&&!(t instanceof RegExp)?t:null}}function $r(e,t){if(typeof t=="function"){return t(e)}const i={};if(t.name){i.name=qr(t.name,e.name);if(!i.name){return null}}if(t.attributes){i.attributes=Yr(t.attributes,e);if(!i.attributes){return null}}if(t.classes){i.classes=Jr(t.classes,e);if(!i.classes){return false}}if(t.styles){i.styles=Gr(t.styles,e);if(!i.styles){return false}}return i}function qr(e,t){if(e instanceof RegExp){return e.test(t)}return e===t}function Yr(e,t){const i=[];for(const n in e){const o=e[n];if(t.hasAttribute(n)){const e=t.getAttribute(n);if(o===true){i.push(n);}else if(o instanceof RegExp){if(o.test(e)){i.push(n);}else {return null}}else if(e===o){i.push(n);}else {return null}}else {return null}}return i}function Jr(e,t){const i=[];for(const n of e){if(n instanceof RegExp){const e=t.getClassNames();for(const t of e){if(n.test(t)){i.push(t);}}if(i.length===0){return null}}else if(t.hasClass(n)){i.push(n);}else {return null}}return i}function Gr(e,t){const i=[];for(const n in e){const o=e[n];if(t.hasStyle(n)){const e=t.getStyle(n);if(o instanceof RegExp){if(o.test(e)){i.push(n);}else {return null}}else if(e===o){i.push(n);}else {return null}}else {return null}}return i}var Qr="[object Symbol]";function Xr(e){return typeof e=="symbol"||T(e)&&v(e)==Qr}var Kr=Xr;var Zr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ea=/^\w*$/;function ta(e,t){if(Gt(e)){return false}var i=typeof e;if(i=="number"||i=="symbol"||i=="boolean"||e==null||Kr(e)){return true}return ea.test(e)||!Zr.test(e)||t!=null&&e in Object(t)}var ia=ta;var na="Expected a function";function oa(e,t){if(typeof e!="function"||t!=null&&typeof t!="function"){throw new TypeError(na)}var i=function(){var n=arguments,o=t?t.apply(this,n):n[0],s=i.cache;if(s.has(o)){return s.get(o)}var r=e.apply(this,n);i.cache=s.set(o,r)||s;return r};i.cache=new(oa.Cache||vt);return i}oa.Cache=vt;var sa=oa;var ra=500;function aa(e){var t=sa(e,(function(e){if(i.size===ra){i.clear();}return e}));var i=t.cache;return t}var ca=aa;var la=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var da=/\\(\\)?/g;var ua=ca((function(e){var t=[];if(e.charCodeAt(0)===46){t.push("");}e.replace(la,(function(e,i,n,o){t.push(n?o.replace(da,"$1"):i||e);}));return t}));var ha=ua;function fa(e,t){var i=-1,n=e==null?0:e.length,o=Array(n);while(++i<n){o[i]=t(e[i],i,e);}return o}var ma=fa;var ga=1/0;var pa=s?s.prototype:undefined,ba=pa?pa.toString:undefined;function wa(e){if(typeof e=="string"){return e}if(Gt(e)){return ma(e,wa)+""}if(Kr(e)){return ba?ba.call(e):""}var t=e+"";return t=="0"&&1/e==-ga?"-0":t}var _a=wa;function va(e){return e==null?"":_a(e)}var ka=va;function ya(e,t){if(Gt(e)){return e}return ia(e,t)?[e]:ha(ka(e))}var xa=ya;function Aa(e){var t=e==null?0:e.length;return t?e[t-1]:undefined}var Ca=Aa;var Ta=1/0;function Ma(e){if(typeof e=="string"||Kr(e)){return e}var t=e+"";return t=="0"&&1/e==-Ta?"-0":t}var Ea=Ma;function Pa(e,t){t=xa(t,e);var i=0,n=t.length;while(e!=null&&i<n){e=e[Ea(t[i++])];}return i&&i==n?e:undefined}var Sa=Pa;function Ia(e,t,i){var n=-1,o=e.length;if(t<0){t=-t>o?0:o+t;}i=i>o?o:i;if(i<0){i+=o;}o=t>i?0:i-t>>>0;t>>>=0;var s=Array(o);while(++n<o){s[n]=e[n+t];}return s}var Oa=Ia;function Na(e,t){return t.length<2?e:Sa(e,Oa(t,0,-1))}var Ra=Na;function La(e,t){t=xa(t,e);e=Ra(e,t);return e==null||delete e[Ea(Ca(t))]}var Da=La;function ja(e,t){return e==null?true:Da(e,t)}var za=ja;function Ba(e,t,i){var n=e==null?undefined:Sa(e,t);return n===undefined?i:n}var Va=Ba;function Fa(e,t,i){if(i!==undefined&&!z(e[t],i)||i===undefined&&!(t in e)){It(e,t,i);}}var Ha=Fa;function Ua(e){return function(t,i,n){var o=-1,s=Object(t),r=n(t),a=r.length;while(a--){var c=r[e?a:++o];if(i(s[c],c,s)===false){break}}return t}}var Wa=Ua;var $a=Wa();var qa=$a;function Ya(e){return T(e)&&Xi(e)}var Ja=Ya;function Ga(e,t){if(t==="constructor"&&typeof e[t]==="function"){return}if(t=="__proto__"){return}return e[t]}var Qa=Ga;function Xa(e){return jt(e,dn(e))}var Ka=Xa;function Za(e,t,i,n,o,s,r){var a=Qa(e,i),c=Qa(t,i),l=r.get(c);if(l){Ha(e,i,l);return}var d=s?s(a,c,i+"",e,t,r):undefined;var u=d===undefined;if(u){var h=Gt(c),f=!h&&Object(Qt["a"])(c),m=!h&&!f&&Di(c);d=c;if(h||f||m){if(Gt(a)){d=a;}else if(Ja(a)){d=gn(a);}else if(f){u=false;d=Object(fn["a"])(c,true);}else if(m){u=false;d=To(c,true);}else {d=[];}}else if(R(c)||Yt(c)){d=a;if(Yt(a)){d=Ka(a);}else if(!ce(a)||me(a)){d=Ko(c);}}else {u=false;}}if(u){r.set(c,d);o(d,c,n,s,r);r["delete"](c);}Ha(e,i,d);}var ec=Za;function tc(e,t,i,n,o){if(e===t){return}qa(t,(function(s,r){o||(o=new Ct);if(ce(s)){ec(e,t,r,i,tc,n,o);}else {var a=n?n(Qa(e,r),s,r+"",e,t,o):undefined;if(a===undefined){a=s;}Ha(e,r,a);}}),dn);}var ic=tc;function nc(e){return e}var oc=nc;function sc(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var rc=sc;var ac=Math.max;function cc(e,t,i){t=ac(t===undefined?e.length-1:t,0);return function(){var n=arguments,o=-1,s=ac(n.length-t,0),r=Array(s);while(++o<s){r[o]=n[t+o];}o=-1;var a=Array(t+1);while(++o<t){a[o]=n[o];}a[t]=i(r);return rc(e,this,a)}}var lc=cc;function dc(e){return function(){return e}}var uc=dc;var hc=!Pt?oc:function(e,t){return Pt(e,"toString",{configurable:true,enumerable:false,value:uc(t),writable:true})};var fc=hc;var mc=800,gc=16;var pc=Date.now;function bc(e){var t=0,i=0;return function(){var n=pc(),o=gc-(n-i);i=n;if(o>0){if(++t>=mc){return arguments[0]}}else {t=0;}return e.apply(undefined,arguments)}}var wc=bc;var _c=wc(fc);var vc=_c;function kc(e,t){return vc(lc(e,t,oc),e+"")}var yc=kc;function xc(e,t,i){if(!ce(i)){return false}var n=typeof t;if(n=="number"?Xi(i)&&ei(t,i.length):n=="string"&&t in i){return z(i[t],e)}return false}var Ac=xc;function Cc(e){return yc((function(t,i){var n=-1,o=i.length,s=o>1?i[o-1]:undefined,r=o>2?i[2]:undefined;s=e.length>3&&typeof s=="function"?(o--,s):undefined;if(r&&Ac(i[0],i[1],r)){s=o<3?undefined:s;o=1;}t=Object(t);while(++n<o){var a=i[n];if(a){e(t,a,n,s);}}return t}))}var Tc=Cc;var Mc=Tc((function(e,t,i){ic(e,t,i);}));var Ec=Mc;function Pc(e,t,i,n){if(!ce(e)){return e}t=xa(t,e);var o=-1,s=t.length,r=s-1,a=e;while(a!=null&&++o<s){var c=Ea(t[o]),l=i;if(o!=r){var d=a[c];l=n?n(d,c,a):undefined;if(l===undefined){l=ce(d)?d:ei(t[o+1])?[]:{};}}Lt(a,c,l);a=a[c];}return e}var Sc=Pc;function Ic(e,t,i){return e==null?e:Sc(e,t,i)}var Oc=Ic;class Nc{constructor(e){this._styles={};this._styleProcessor=e;}get isEmpty(){const e=Object.entries(this._styles);const t=Array.from(e);return !t.length}get size(){if(this.isEmpty){return 0}return this.getStyleNames().length}setTo(e){this.clear();const t=Array.from(Lc(e).entries());for(const[e,i]of t){this._styleProcessor.toNormalizedForm(e,i,this._styles);}}has(e){if(this.isEmpty){return false}const t=this._styleProcessor.getReducedForm(e,this._styles);const i=t.find(([t])=>t===e);return Array.isArray(i)}set(e,t){if(ce(e)){for(const[t,i]of Object.entries(e)){this._styleProcessor.toNormalizedForm(t,i,this._styles);}}else {this._styleProcessor.toNormalizedForm(e,t,this._styles);}}remove(e){const t=Dc(e);za(this._styles,t);delete this._styles[e];this._cleanEmptyObjectsOnPath(t);}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){if(this.isEmpty){return ""}return this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty){return}if(this._styles[e]&&!ce(this._styles[e])){return this._styles[e]}const t=this._styleProcessor.getReducedForm(e,this._styles);const i=t.find(([t])=>t===e);if(Array.isArray(i)){return i[1]}}getStyleNames(){if(this.isEmpty){return []}const e=this._getStylesEntries();return e.map(([e])=>e)}clear(){this._styles={};}_getStylesEntries(){const e=[];const t=Object.keys(this._styles);for(const i of t){e.push(...this._styleProcessor.getReducedForm(i,this._styles));}return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");const i=t.length>1;if(!i){return}const n=t.splice(0,t.length-1).join(".");const o=Va(this._styles,n);if(!o){return}const s=!Array.from(Object.keys(o)).length;if(s){this.remove(n);}}}class Rc{constructor(){this._normalizers=new Map;this._extractors=new Map;this._reducers=new Map;this._consumables=new Map;}toNormalizedForm(e,t,i){if(ce(t)){jc(i,Dc(e),t);return}if(this._normalizers.has(e)){const n=this._normalizers.get(e);const{path:o,value:s}=n(t);jc(i,o,s);}else {jc(i,e,t);}}getNormalized(e,t){if(!e){return Ec({},t)}if(t[e]!==undefined){return t[e]}if(this._extractors.has(e)){const i=this._extractors.get(e);if(typeof i==="string"){return Va(t,i)}const n=i(e,t);if(n){return n}}return Va(t,Dc(e))}getReducedForm(e,t){const i=this.getNormalized(e,t);if(i===undefined){return []}if(this._reducers.has(e)){const t=this._reducers.get(e);return t(i)}return [[e,i]]}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t);}setExtractor(e,t){this._extractors.set(e,t);}setReducer(e,t){this._reducers.set(e,t);}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const i of t){this._mapStyleNames(i,[e]);}}_mapStyleNames(e,t){if(!this._consumables.has(e)){this._consumables.set(e,[]);}this._consumables.get(e).push(...t);}}function Lc(e){let t=null;let i=0;let n=0;let o=null;const s=new Map;if(e===""){return s}if(e.charAt(e.length-1)!=";"){e=e+";";}for(let r=0;r<e.length;r++){const a=e.charAt(r);if(t===null){switch(a){case":":if(!o){o=e.substr(i,r-i);n=r+1;}break;case'"':case"'":t=a;break;case";":{const t=e.substr(n,r-n);if(o){s.set(o.trim(),t.trim());}o=null;i=r+1;break}}}else if(a===t){t=null;}}return s}function Dc(e){return e.replace("-",".")}function jc(e,t,i){let n=i;if(ce(i)){n=Ec({},Va(e,t),i);}Oc(e,t,n);}class zc extends Br{constructor(e,t,i,n){super(e);this.name=t;this._attrs=Bc(i);this._children=[];if(n){this._insertChild(0,n);}this._classes=new Set;if(this._attrs.has("class")){const e=this._attrs.get("class");Vc(this._classes,e);this._attrs.delete("class");}this._styles=new Nc(this.document.stylesProcessor);if(this._attrs.has("style")){this._styles.setTo(this._attrs.get("style"));this._attrs.delete("style");}this._customProperties=new Map;}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}is(e,t=null){if(!t){return e===this.name||e==="view:"+this.name||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else {return t===this.name&&(e==="element"||e==="view:element")}}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){if(this._classes.size>0){yield "class";}if(!this._styles.isEmpty){yield "style";}yield*this._attrs.keys();}*getAttributes(){yield*this._attrs.entries();if(this._classes.size>0){yield ["class",this.getAttribute("class")];}if(!this._styles.isEmpty){yield ["style",this.getAttribute("style")];}}getAttribute(e){if(e=="class"){if(this._classes.size>0){return [...this._classes].join(" ")}return undefined}if(e=="style"){const e=this._styles.toString();return e==""?undefined:e}return this._attrs.get(e)}hasAttribute(e){if(e=="class"){return this._classes.size>0}if(e=="style"){return !this._styles.isEmpty}return this._attrs.has(e)}isSimilar(e){if(!(e instanceof zc)){return false}if(this===e){return true}if(this.name!=e.name){return false}if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size){return false}for(const[t,i]of this._attrs){if(!e._attrs.has(t)||e._attrs.get(t)!==i){return false}}for(const t of this._classes){if(!e._classes.has(t)){return false}}for(const t of this._styles.getStyleNames()){if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t)){return false}}return true}hasClass(...e){for(const t of e){if(!this._classes.has(t)){return false}}return true}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(){return this._styles.getStyleNames()}hasStyle(...e){for(const t of e){if(!this._styles.has(t)){return false}}return true}findAncestor(...e){const t=new Wr(...e);let i=this.parent;while(i){if(t.match(i)){return i}i=i.parent;}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries();}getIdentity(){const e=Array.from(this._classes).sort().join(",");const t=this._styles.toString();const i=Array.from(this._attrs).map(e=>`${e[0]}="${e[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(!t?"":` style="${t}"`)+(i==""?"":` ${i}`)}_clone(e=false){const t=[];if(e){for(const i of this.getChildren()){t.push(i._clone(e));}}const i=new this.constructor(this.document,this.name,this._attrs,t);i._classes=new Set(this._classes);i._styles.set(this._styles.getNormalized());i._customProperties=new Map(this._customProperties);i.getFillerOffset=this.getFillerOffset;return i}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let i=0;const n=Fc(this.document,t);for(const t of n){if(t.parent!==null){t._remove();}t.parent=this;t.document=this.document;this._children.splice(e,0,t);e++;i++;}return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++){this._children[i].parent=null;}return this._children.splice(e,t)}_setAttribute(e,t){t=String(t);this._fireChange("attributes",this);if(e=="class"){Vc(this._classes,t);}else if(e=="style"){this._styles.setTo(t);}else {this._attrs.set(e,t);}}_removeAttribute(e){this._fireChange("attributes",this);if(e=="class"){if(this._classes.size>0){this._classes.clear();return true}return false}if(e=="style"){if(!this._styles.isEmpty){this._styles.clear();return true}return false}return this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);e=Array.isArray(e)?e:[e];e.forEach(e=>this._classes.add(e));}_removeClass(e){this._fireChange("attributes",this);e=Array.isArray(e)?e:[e];e.forEach(e=>this._classes.delete(e));}_setStyle(e,t){this._fireChange("attributes",this);this._styles.set(e,t);}_removeStyle(e){this._fireChange("attributes",this);e=Array.isArray(e)?e:[e];e.forEach(e=>this._styles.remove(e));}_setCustomProperty(e,t){this._customProperties.set(e,t);}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Bc(e){e=Ur(e);for(const[t,i]of e){if(i===null){e.delete(t);}else if(typeof i!="string"){e.set(t,String(i));}}return e}function Vc(e,t){const i=t.split(/\s+/);e.clear();i.forEach(t=>e.add(t));}function Fc(e,t){if(typeof t=="string"){return [new Vr(e,t)]}if(!kr(t)){t=[t];}return Array.from(t).map(t=>{if(typeof t=="string"){return new Vr(e,t)}if(t instanceof Fr){return new Vr(e,t.data)}return t})}class Hc extends zc{constructor(e,t,i,n){super(e,t,i,n);this.getFillerOffset=Uc;}is(e,t=null){if(!t){return e==="containerElement"||e==="view:containerElement"||e===this.name||e==="view:"+this.name||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else {return t===this.name&&(e==="containerElement"||e==="view:containerElement"||e==="element"||e==="view:element")}}}function Uc(){const e=[...this.getChildren()];const t=e[this.childCount-1];if(t&&t.is("element","br")){return this.childCount}for(const t of e){if(!t.is("uiElement")){return null}}return this.childCount}var Wc=Tc((function(e,t){jt(t,dn(t),e);}));var $c=Wc;const qc=Symbol("observableProperties");const Yc=Symbol("boundObservables");const Jc=Symbol("boundProperties");const Gc={set(e,t){if(ce(e)){Object.keys(e).forEach(t=>{this.set(t,e[t]);},this);return}Xc(this);const i=this[qc];if(e in this&&!i.has(e)){throw new rr["b"]("observable-set-cannot-override: Cannot override an existing property.",this)}Object.defineProperty(this,e,{enumerable:true,configurable:true,get(){return i.get(e)},set(t){const n=i.get(e);let o=this.fire("set:"+e,e,t,n);if(o===undefined){o=t;}if(n!==o||!i.has(e)){i.set(e,o);this.fire("change:"+e,e,o,n);}}});this[e]=t;},bind(...e){if(!e.length||!tl(e)){throw new rr["b"]("observable-bind-wrong-properties: All properties must be strings.",this)}if(new Set(e).size!==e.length){throw new rr["b"]("observable-bind-duplicate-properties: Properties must be unique.",this)}Xc(this);const t=this[Jc];e.forEach(e=>{if(t.has(e)){throw new rr["b"]("observable-bind-rebind: Cannot bind the same property more than once.",this)}});const i=new Map;e.forEach(e=>{const n={property:e,to:[]};t.set(e,n);i.set(e,n);});return {to:Kc,toMany:Zc,_observable:this,_bindProperties:e,_to:[],_bindings:i}},unbind(...e){if(!this[qc]){return}const t=this[Jc];const i=this[Yc];if(e.length){if(!tl(e)){throw new rr["b"]("observable-unbind-wrong-properties: Properties must be strings.",this)}e.forEach(e=>{const n=t.get(e);if(!n){return}let o,s,r,a;n.to.forEach(e=>{o=e[0];s=e[1];r=i.get(o);a=r[s];a.delete(n);if(!a.size){delete r[s];}if(!Object.keys(r).length){i.delete(o);this.stopListening(o,"change");}});t.delete(e);});}else {i.forEach((e,t)=>{this.stopListening(t,"change");});i.clear();t.clear();}},decorate(e){const t=this[e];if(!t){throw new rr["b"]("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:e})}this.on(e,(e,i)=>{e.return=t.apply(this,i);});this[e]=function(...t){return this.fire(e,t)};}};$c(Gc,dr);var Qc=Gc;function Xc(e){if(e[qc]){return}Object.defineProperty(e,qc,{value:new Map});Object.defineProperty(e,Yc,{value:new Map});Object.defineProperty(e,Jc,{value:new Map});}function Kc(...e){const t=il(...e);const i=Array.from(this._bindings.keys());const n=i.length;if(!t.callback&&t.to.length>1){throw new rr["b"]("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this)}if(n>1&&t.callback){throw new rr["b"]("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this)}t.to.forEach(e=>{if(e.properties.length&&e.properties.length!==n){throw new rr["b"]("observable-bind-to-properties-length: The number of properties must match.",this)}if(!e.properties.length){e.properties=this._bindProperties;}});this._to=t.to;if(t.callback){this._bindings.get(i[0]).callback=t.callback;}rl(this._observable,this._to);ol(this);this._bindProperties.forEach(e=>{sl(this._observable,e);});}function Zc(e,t,i){if(this._bindings.size>1){throw new rr["b"]("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this)}this.to(...el(e,t),i);}function el(e,t){const i=e.map(e=>[e,t]);return Array.prototype.concat.apply([],i)}function tl(e){return e.every(e=>typeof e=="string")}function il(...e){if(!e.length){throw new rr["b"]("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null)}const t={to:[]};let i;if(typeof e[e.length-1]=="function"){t.callback=e.pop();}e.forEach(e=>{if(typeof e=="string"){i.properties.push(e);}else if(typeof e=="object"){i={observable:e,properties:[]};t.to.push(i);}else {throw new rr["b"]("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null)}});return t}function nl(e,t,i,n){const o=e[Yc];const s=o.get(i);const r=s||{};if(!r[n]){r[n]=new Set;}r[n].add(t);if(!s){o.set(i,r);}}function ol(e){let t;e._bindings.forEach((i,n)=>{e._to.forEach(o=>{t=o.properties[i.callback?0:e._bindProperties.indexOf(n)];i.to.push([o.observable,t]);nl(e._observable,i,o.observable,t);});});}function sl(e,t){const i=e[Jc];const n=i.get(t);let o;if(n.callback){o=n.callback.apply(e,n.to.map(e=>e[0][e[1]]));}else {o=n.to[0];o=o[0][o[1]];}if(e.hasOwnProperty(t)){e[t]=o;}else {e.set(t,o);}}function rl(e,t){t.forEach(t=>{const i=e[Yc];let n;if(!i.get(t.observable)){e.listenTo(t.observable,"change",(o,s)=>{n=i.get(t.observable)[s];if(n){n.forEach(t=>{sl(e,t.property);});}});}});}class al extends Hc{constructor(e,t,i,n){super(e,t,i,n);this.set("isReadOnly",false);this.set("isFocused",false);this.bind("isReadOnly").to(e);this.bind("isFocused").to(e,"isFocused",t=>t&&e.selection.editableElement==this);this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this;});}is(e,t=null){if(!t){return e==="editableElement"||e==="view:editableElement"||e==="containerElement"||e==="view:containerElement"||e===this.name||e==="view:"+this.name||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else {return t===this.name&&(e==="editableElement"||e==="view:editableElement"||e==="containerElement"||e==="view:containerElement"||e==="element"||e==="view:element")}}destroy(){this.stopListening();}}yr(al,Qc);const cl=Symbol("rootName");class ll extends al{constructor(e,t){super(e,t);this.rootName="main";}is(e,t=null){if(!t){return e==="rootElement"||e==="view:rootElement"||e==="editableElement"||e==="view:editableElement"||e==="containerElement"||e==="view:containerElement"||e===this.name||e==="view:"+this.name||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else {return t===this.name&&(e==="rootElement"||e==="view:rootElement"||e==="editableElement"||e==="view:editableElement"||e==="containerElement"||e==="view:containerElement"||e==="element"||e==="view:element")}}get rootName(){return this.getCustomProperty(cl)}set rootName(e){this._setCustomProperty(cl,e);}set _name(e){this.name=e;}}class dl{constructor(e={}){if(!e.boundaries&&!e.startPosition){throw new rr["b"]("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null)}if(e.direction&&e.direction!="forward"&&e.direction!="backward"){throw new rr["b"]("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",e.startPosition,{direction:e.direction})}this.boundaries=e.boundaries||null;if(e.startPosition){this.position=ul._createAt(e.startPosition);}else {this.position=ul._createAt(e.boundaries[e.direction=="backward"?"end":"start"]);}this.direction=e.direction||"forward";this.singleCharacters=!!e.singleCharacters;this.shallow=!!e.shallow;this.ignoreElementEnd=!!e.ignoreElementEnd;this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null;this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null;}[Symbol.iterator](){return this}skip(e){let t,i,n;do{n=this.position;({done:t,value:i}=this.next());}while(!t&&e(i));if(!t){this.position=n;}}next(){if(this.direction=="forward"){return this._next()}else {return this._previous()}}_next(){let e=this.position.clone();const t=this.position;const i=e.parent;if(i.parent===null&&e.offset===i.childCount){return {done:true}}if(i===this._boundaryEndParent&&e.offset==this.boundaries.end.offset){return {done:true}}let n;if(i instanceof Vr){if(e.isAtEnd){this.position=ul._createAfter(i);return this._next()}n=i.data[e.offset];}else {n=i.getChild(e.offset);}if(n instanceof zc){if(!this.shallow){e=new ul(n,0);}else {e.offset++;}this.position=e;return this._formatReturnValue("elementStart",n,t,e,1)}else if(n instanceof Vr){if(this.singleCharacters){e=new ul(n,0);this.position=e;return this._next()}else {let i=n.data.length;let o;if(n==this._boundaryEndParent){i=this.boundaries.end.offset;o=new Fr(n,0,i);e=ul._createAfter(o);}else {o=new Fr(n,0,n.data.length);e.offset++;}this.position=e;return this._formatReturnValue("text",o,t,e,i)}}else if(typeof n=="string"){let n;if(this.singleCharacters){n=1;}else {const t=i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length;n=t-e.offset;}const o=new Fr(i,e.offset,n);e.offset+=n;this.position=e;return this._formatReturnValue("text",o,t,e,n)}else {e=ul._createAfter(i);this.position=e;if(this.ignoreElementEnd){return this._next()}else {return this._formatReturnValue("elementEnd",i,t,e)}}}_previous(){let e=this.position.clone();const t=this.position;const i=e.parent;if(i.parent===null&&e.offset===0){return {done:true}}if(i==this._boundaryStartParent&&e.offset==this.boundaries.start.offset){return {done:true}}let n;if(i instanceof Vr){if(e.isAtStart){this.position=ul._createBefore(i);return this._previous()}n=i.data[e.offset-1];}else {n=i.getChild(e.offset-1);}if(n instanceof zc){if(!this.shallow){e=new ul(n,n.childCount);this.position=e;if(this.ignoreElementEnd){return this._previous()}else {return this._formatReturnValue("elementEnd",n,t,e)}}else {e.offset--;this.position=e;return this._formatReturnValue("elementStart",n,t,e,1)}}else if(n instanceof Vr){if(this.singleCharacters){e=new ul(n,n.data.length);this.position=e;return this._previous()}else {let i=n.data.length;let o;if(n==this._boundaryStartParent){const t=this.boundaries.start.offset;o=new Fr(n,t,n.data.length-t);i=o.data.length;e=ul._createBefore(o);}else {o=new Fr(n,0,n.data.length);e.offset--;}this.position=e;return this._formatReturnValue("text",o,t,e,i)}}else if(typeof n=="string"){let n;if(!this.singleCharacters){const t=i===this._boundaryStartParent?this.boundaries.start.offset:0;n=e.offset-t;}else {n=1;}e.offset-=n;const o=new Fr(i,e.offset,n);this.position=e;return this._formatReturnValue("text",o,t,e,n)}else {e=ul._createBefore(i);this.position=e;return this._formatReturnValue("elementStart",i,t,e,1)}}_formatReturnValue(e,t,i,n,o){if(t instanceof Fr){if(t.offsetInText+t.data.length==t.textNode.data.length){if(this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))){n=ul._createAfter(t.textNode);this.position=n;}else {i=ul._createAfter(t.textNode);}}if(t.offsetInText===0){if(this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))){n=ul._createBefore(t.textNode);this.position=n;}else {i=ul._createBefore(t.textNode);}}}return {done:false,value:{type:e,item:t,previousPosition:i,nextPosition:n,length:o}}}}class ul{constructor(e,t){this.parent=e;this.offset=t;}get nodeAfter(){if(this.parent.is("text")){return null}return this.parent.getChild(this.offset)||null}get nodeBefore(){if(this.parent.is("text")){return null}return this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;while(!(e instanceof al)){if(e.parent){e=e.parent;}else {return null}}return e}getShiftedBy(e){const t=ul._createAt(this);const i=t.offset+e;t.offset=i<0?0:i;return t}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new dl(t);i.skip(e);return i.position}getAncestors(){if(this.parent.is("documentFragment")){return [this.parent]}else {return this.parent.getAncestors({includeSelf:true})}}getCommonAncestor(e){const t=this.getAncestors();const i=e.getAncestors();let n=0;while(t[n]==i[n]&&t[n]){n++;}return n===0?null:t[n-1]}is(e){return e==="position"||e==="view:position"}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root){return "different"}if(this.isEqual(e)){return "same"}const t=this.parent.is("node")?this.parent.getPath():[];const i=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset);i.push(e.offset);const n=Lr(t,i);switch(n){case"prefix":return "before";case"extension":return "after";default:return t[n]<i[n]?"before":"after"}}getWalker(e={}){e.startPosition=this;return new dl(e)}clone(){return new ul(this.parent,this.offset)}static _createAt(e,t){if(e instanceof ul){return new this(e.parent,e.offset)}else {const i=e;if(t=="end"){t=i.is("text")?i.data.length:i.childCount;}else if(t=="before"){return this._createBefore(i)}else if(t=="after"){return this._createAfter(i)}else if(t!==0&&!t){throw new rr["b"]("view-createPositionAt-offset-required: "+"View#createPositionAt() requires the offset when the first parameter is a view item.",i)}return new ul(i,t)}}static _createAfter(e){if(e.is("textProxy")){return new ul(e.textNode,e.offsetInText+e.data.length)}if(!e.parent){throw new rr["b"]("view-position-after-root: You can not make position after root.",e,{root:e})}return new ul(e.parent,e.index+1)}static _createBefore(e){if(e.is("textProxy")){return new ul(e.textNode,e.offsetInText)}if(!e.parent){throw new rr["b"]("view-position-before-root: You can not make position before root.",e,{root:e})}return new ul(e.parent,e.index)}}class hl{constructor(e,t=null){this.start=e.clone();this.end=t?t.clone():e.clone();}*[Symbol.iterator](){yield*new dl({boundaries:this,ignoreElementEnd:true});}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(fl,{direction:"backward"});let t=this.end.getLastMatchingPosition(fl);if(e.parent.is("text")&&e.isAtStart){e=ul._createBefore(e.parent);}if(t.parent.is("text")&&t.isAtEnd){t=ul._createAfter(t.parent);}return new hl(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(fl);if(e.isAfter(this.end)||e.isEqual(this.end)){return new hl(e,e)}let t=this.end.getLastMatchingPosition(fl,{direction:"backward"});const i=e.nodeAfter;const n=t.nodeBefore;if(i&&i.is("text")){e=new ul(i,0);}if(n&&n.is("text")){t=new ul(n,n.data.length);}return new hl(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=false){if(e.isCollapsed){t=false;}const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start);const n=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&n}getDifference(e){const t=[];if(this.isIntersecting(e)){if(this.containsPosition(e.start)){t.push(new hl(this.start,e.start));}if(this.containsPosition(e.end)){t.push(new hl(e.end,this.end));}}else {t.push(this.clone());}return t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start;let i=this.end;if(this.containsPosition(e.start)){t=e.start;}if(this.containsPosition(e.end)){i=e.end;}return new hl(t,i)}return null}getWalker(e={}){e.boundaries=this;return new dl(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed){return null}let e=this.start.nodeAfter;let t=this.end.nodeBefore;if(this.start.parent.is("text")&&this.start.isAtEnd&&this.start.parent.nextSibling){e=this.start.parent.nextSibling;}if(this.end.parent.is("text")&&this.end.isAtStart&&this.end.parent.previousSibling){t=this.end.parent.previousSibling;}if(e&&e.is("element")&&e===t){return e}return null}clone(){return new hl(this.start,this.end)}*getItems(e={}){e.boundaries=this;e.ignoreElementEnd=true;const t=new dl(e);for(const e of t){yield e.item;}}*getPositions(e={}){e.boundaries=this;const t=new dl(e);yield t.position;for(const e of t){yield e.nextPosition;}}is(e){return e==="range"||e==="view:range"}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,i,n){return new this(new ul(e,t),new ul(i,n))}static _createFromPositionAndShift(e,t){const i=e;const n=e.getShiftedBy(t);return t>0?new this(i,n):new this(n,i)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(ul._createBefore(e),t)}}function fl(e){if(e.item.is("attributeElement")||e.item.is("uiElement")){return true}return false}function ml(e){let t=0;for(const i of e){t++;}return t}class gl{constructor(e=null,t,i){this._ranges=[];this._lastRangeBackward=false;this._isFake=false;this._fakeSelectionLabel="";this.setTo(e,t,i);}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length){return null}const e=this._ranges[this._ranges.length-1];const t=this._lastRangeBackward?e.end:e.start;return t.clone()}get focus(){if(!this._ranges.length){return null}const e=this._ranges[this._ranges.length-1];const t=this._lastRangeBackward?e.start:e.end;return t.clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return !this.isCollapsed&&this._lastRangeBackward}get editableElement(){if(this.anchor){return this.anchor.editableElement}return null}*getRanges(){for(const e of this._ranges){yield e.clone();}}getFirstRange(){let e=null;for(const t of this._ranges){if(!e||t.start.isBefore(e.start)){e=t;}}return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges){if(!e||t.end.isAfter(e.end)){e=t;}}return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake){return false}if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel){return false}if(this.rangeCount!=e.rangeCount){return false}else if(this.rangeCount===0){return true}if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus)){return false}for(const t of this._ranges){let i=false;for(const n of e._ranges){if(t.isEqual(n)){i=true;break}}if(!i){return false}}return true}isSimilar(e){if(this.isBackward!=e.isBackward){return false}const t=ml(this.getRanges());const i=ml(e.getRanges());if(t!=i){return false}if(t==0){return true}for(let t of this.getRanges()){t=t.getTrimmed();let i=false;for(let n of e.getRanges()){n=n.getTrimmed();if(t.start.isEqual(n.start)&&t.end.isEqual(n.end)){i=true;break}}if(!i){return false}}return true}getSelectedElement(){if(this.rangeCount!==1){return null}return this.getFirstRange().getContainedElement()}setTo(e,t,i){if(e===null){this._setRanges([]);this._setFakeOptions(t);}else if(e instanceof gl||e instanceof pl){this._setRanges(e.getRanges(),e.isBackward);this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});}else if(e instanceof hl){this._setRanges([e],t&&t.backward);this._setFakeOptions(t);}else if(e instanceof ul){this._setRanges([new hl(e)]);this._setFakeOptions(t);}else if(e instanceof Br){const n=!!i&&!!i.backward;let o;if(t===undefined){throw new rr["b"]("view-selection-setTo-required-second-parameter: "+"selection.setTo requires the second parameter when the first parameter is a node.",this)}else if(t=="in"){o=hl._createIn(e);}else if(t=="on"){o=hl._createOn(e);}else {o=new hl(ul._createAt(e,t));}this._setRanges([o],n);this._setFakeOptions(i);}else if(kr(e)){this._setRanges(e,t&&t.backward);this._setFakeOptions(t);}else {throw new rr["b"]("view-selection-setTo-not-selectable: Cannot set selection to given place.",this)}this.fire("change");}setFocus(e,t){if(this.anchor===null){throw new rr["b"]("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this)}const i=ul._createAt(e,t);if(i.compareWith(this.focus)=="same"){return}const n=this.anchor;this._ranges.pop();if(i.compareWith(n)=="before"){this._addRange(new hl(i,n),true);}else {this._addRange(new hl(n,i));}this.fire("change");}is(e){return e==="selection"||e==="view:selection"}_setRanges(e,t=false){e=Array.from(e);this._ranges=[];for(const t of e){this._addRange(t);}this._lastRangeBackward=!!t;}_setFakeOptions(e={}){this._isFake=!!e.fake;this._fakeSelectionLabel=e.fake?e.label||"":"";}_addRange(e,t=false){if(!(e instanceof hl)){throw new rr["b"]("view-selection-add-range-not-range: "+"Selection range set to an object that is not an instance of view.Range",this)}this._pushRange(e);this._lastRangeBackward=!!t;}_pushRange(e){for(const t of this._ranges){if(e.isIntersecting(t)){throw new rr["b"]("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:e,intersectingRange:t})}}this._ranges.push(new hl(e.start,e.end));}}yr(gl,dr);class pl{constructor(e=null,t,i){this._selection=new gl;this._selection.delegate("change").to(this);this._selection.setTo(e,t,i);}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges();}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}is(e){return e==="selection"||e=="documentSelection"||e=="view:selection"||e=="view:documentSelection"}_setTo(e,t,i){this._selection.setTo(e,t,i);}_setFocus(e,t){this._selection.setFocus(e,t);}}yr(pl,dr);class bl{constructor(e){this.selection=new pl;this.roots=new xr({idProperty:"rootName"});this.stylesProcessor=e;this.set("isReadOnly",false);this.set("isFocused",false);this.set("isComposing",false);this._postFixers=new Set;}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e);}destroy(){this.roots.map(e=>e.destroy());this.stopListening();}_callPostFixers(e){let t=false;do{for(const i of this._postFixers){t=i(e);if(t){break}}}while(t)}}yr(bl,Qc);const wl=10;class _l extends zc{constructor(e,t,i,n){super(e,t,i,n);this.getFillerOffset=vl;this._priority=wl;this._id=null;this._clonesGroup=null;}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null){throw new rr["b"]("attribute-element-get-elements-with-same-id-no-id: "+"Cannot get elements with the same id for an attribute element without id.",this)}return new Set(this._clonesGroup)}is(e,t=null){if(!t){return e==="attributeElement"||e==="view:attributeElement"||e===this.name||e==="view:"+this.name||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else {return t===this.name&&(e==="attributeElement"||e==="view:attributeElement"||e==="element"||e==="view:element")}}isSimilar(e){if(this.id!==null||e.id!==null){return this.id===e.id}return super.isSimilar(e)&&this.priority==e.priority}_clone(e){const t=super._clone(e);t._priority=this._priority;t._id=this._id;return t}}_l.DEFAULT_PRIORITY=wl;function vl(){if(kl(this)){return null}let e=this.parent;while(e&&e.is("attributeElement")){if(kl(e)>1){return null}e=e.parent;}if(!e||kl(e)>1){return null}return this.childCount}function kl(e){return Array.from(e.getChildren()).filter(e=>!e.is("uiElement")).length}class yl extends zc{constructor(e,t,i,n){super(e,t,i,n);this.getFillerOffset=xl;}is(e,t=null){if(!t){return e==="emptyElement"||e==="view:emptyElement"||e===this.name||e==="view:"+this.name||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else {return t===this.name&&(e==="emptyElement"||e==="view:emptyElement"||e==="element"||e==="view:element")}}_insertChild(e,t){if(t&&(t instanceof Br||Array.from(t).length>0)){throw new rr["b"]("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,t])}}}function xl(){return null}const Al=navigator.userAgent.toLowerCase();const Cl={isMac:Ml(Al),isGecko:El(Al),isSafari:Pl(Al),isAndroid:Sl(Al),features:{isRegExpUnicodePropertySupported:Il()}};var Tl=Cl;function Ml(e){return e.indexOf("macintosh")>-1}function El(e){return !!e.match(/gecko\/\d+/)}function Pl(e){return e.indexOf(" applewebkit/")>-1&&e.indexOf("chrome")===-1}function Sl(e){return e.indexOf("android")>-1}function Il(){let e=false;try{e="ć".search(new RegExp("[\\p{L}]","u"))===0;}catch(e){}return e}const Ol={"⌘":"ctrl","⇧":"shift","⌥":"alt"};const Nl={ctrl:"⌘",shift:"⇧",alt:"⌥"};const Rl=zl();function Ll(e){let t;if(typeof e=="string"){t=Rl[e.toLowerCase()];if(!t){throw new rr["b"]("keyboard-unknown-key: Unknown key name.",null,{key:e})}}else {t=e.keyCode+(e.altKey?Rl.alt:0)+(e.ctrlKey?Rl.ctrl:0)+(e.shiftKey?Rl.shift:0);}return t}function Dl(e){if(typeof e=="string"){e=Bl(e);}return e.map(e=>typeof e=="string"?Ll(e):e).reduce((e,t)=>t+e,0)}function jl(e){if(!Tl.isMac){return e}return Bl(e).map(e=>Nl[e.toLowerCase()]||e).reduce((e,t)=>{if(e.slice(-1)in Ol){return e+t}else {return e+"+"+t}})}function zl(){const e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let t=65;t<=90;t++){const i=String.fromCharCode(t);e[i.toLowerCase()]=t;}for(let t=48;t<=57;t++){e[t-48]=t;}for(let t=112;t<=123;t++){e["f"+(t-111)]=t;}return e}function Bl(e){return e.split(/\s*\+\s*/)}class Vl extends zc{constructor(e,t,i,n){super(e,t,i,n);this.getFillerOffset=Hl;}is(e,t=null){if(!t){return e==="uiElement"||e==="view:uiElement"||e===this.name||e==="view:"+this.name||e==="element"||e==="view:element"||e==="node"||e==="view:node"}else {return t===this.name&&(e==="uiElement"||e==="view:uiElement"||e==="element"||e==="view:element")}}_insertChild(e,t){if(t&&(t instanceof Br||Array.from(t).length>0)){throw new rr["b"]("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}}render(e){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const e of this.getAttributeKeys()){t.setAttribute(e,this.getAttribute(e));}return t}}function Fl(e){e.document.on("keydown",(t,i)=>Ul(t,i,e.domConverter));}function Hl(){return null}function Ul(e,t,i){if(t.keyCode==Rl.arrowright){const e=t.domTarget.ownerDocument.defaultView.getSelection();const n=e.rangeCount==1&&e.getRangeAt(0).collapsed;if(n||t.shiftKey){const t=e.focusNode;const o=e.focusOffset;const s=i.domPositionToView(t,o);if(s===null){return}let r=false;const a=s.getLastMatchingPosition(e=>{if(e.item.is("uiElement")){r=true;}if(e.item.is("uiElement")||e.item.is("attributeElement")){return true}return false});if(r){const t=i.viewPositionToDom(a);if(n){e.collapse(t.parent,t.offset);}else {e.extend(t.parent,t.offset);}}}}}class Wl{constructor(e,t){this.document=e;this._children=[];if(t){this._insertChild(0,t);}}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}is(e){return e==="documentFragment"||e==="view:documentFragment"}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let i=0;const n=$l(this.document,t);for(const t of n){if(t.parent!==null){t._remove();}t.parent=this;this._children.splice(e,0,t);e++;i++;}return i}_removeChildren(e,t=1){this._fireChange("children",this);for(let i=e;i<e+t;i++){this._children[i].parent=null;}return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t);}}yr(Wl,dr);function $l(e,t){if(typeof t=="string"){return [new Vr(e,t)]}if(!kr(t)){t=[t];}return Array.from(t).map(t=>{if(typeof t=="string"){return new Vr(e,t)}if(t instanceof Fr){return new Vr(e,t.data)}return t})}class ql{constructor(e){this.document=e;this._cloneGroups=new Map;}setSelection(e,t,i){this.document.selection._setTo(e,t,i);}setSelectionFocus(e,t){this.document.selection._setFocus(e,t);}createText(e){return new Vr(this.document,e)}createAttributeElement(e,t,i={}){const n=new _l(this.document,e,t);if(i.priority){n._priority=i.priority;}if(i.id){n._id=i.id;}return n}createContainerElement(e,t){return new Hc(this.document,e,t)}createEditableElement(e,t){const i=new al(this.document,e,t);i._document=this.document;return i}createEmptyElement(e,t){return new yl(this.document,e,t)}createUIElement(e,t,i){const n=new Vl(this.document,e,t);if(i){n.render=i;}return n}setAttribute(e,t,i){i._setAttribute(e,t);}removeAttribute(e,t){t._removeAttribute(e);}addClass(e,t){t._addClass(e);}removeClass(e,t){t._removeClass(e);}setStyle(e,t,i){if(R(e)&&i===undefined){i=t;}i._setStyle(e,t);}removeStyle(e,t){t._removeStyle(e);}setCustomProperty(e,t,i){i._setCustomProperty(e,t);}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){if(e instanceof ul){return this._breakAttributes(e)}else {return this._breakAttributesRange(e)}}breakContainer(e){const t=e.parent;if(!t.is("containerElement")){throw new rr["b"]("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document)}if(!t.parent){throw new rr["b"]("view-writer-break-root: Trying to break root element.",this.document)}if(e.isAtStart){return ul._createBefore(t)}else if(!e.isAtEnd){const i=t._clone(false);this.insert(ul._createAfter(t),i);const n=new hl(e,ul._createAt(t,"end"));const o=new ul(i,0);this.move(n,o);}return ul._createAfter(t)}mergeAttributes(e){const t=e.offset;const i=e.parent;if(i.is("text")){return e}if(i.is("attributeElement")&&i.childCount===0){const e=i.parent;const t=i.index;i._remove();this._removeFromClonedElementsGroup(i);return this.mergeAttributes(new ul(e,t))}const n=i.getChild(t-1);const o=i.getChild(t);if(!n||!o){return e}if(n.is("text")&&o.is("text")){return Kl(n,o)}else if(n.is("attributeElement")&&o.is("attributeElement")&&n.isSimilar(o)){const e=n.childCount;n._appendChild(o.getChildren());o._remove();this._removeFromClonedElementsGroup(o);return this.mergeAttributes(new ul(n,e))}return e}mergeContainers(e){const t=e.nodeBefore;const i=e.nodeAfter;if(!t||!i||!t.is("containerElement")||!i.is("containerElement")){throw new rr["b"]("view-writer-merge-containers-invalid-position: "+"Element before and after given position cannot be merged.",this.document)}const n=t.getChild(t.childCount-1);const o=n instanceof Vr?ul._createAt(n,"end"):ul._createAt(t,"end");this.move(hl._createIn(i),ul._createAt(t,"end"));this.remove(hl._createOn(i));return o}insert(e,t){t=kr(t)?[...t]:[t];Zl(t,this.document);const i=Jl(e);if(!i){throw new rr["b"]("view-writer-invalid-position-container",this.document)}const n=this._breakAttributes(e,true);const o=i._insertChild(n.offset,t);for(const e of t){this._addToClonedElementsGroup(e);}const s=n.getShiftedBy(o);const r=this.mergeAttributes(n);if(o===0){return new hl(r,r)}else {if(!r.isEqual(n)){s.offset--;}const e=this.mergeAttributes(s);return new hl(r,e)}}remove(e){const t=e instanceof hl?e:hl._createOn(e);id(t,this.document);if(t.isCollapsed){return new Wl(this.document)}const{start:i,end:n}=this._breakAttributesRange(t,true);const o=i.parent;const s=n.offset-i.offset;const r=o._removeChildren(i.offset,s);for(const e of r){this._removeFromClonedElementsGroup(e);}const a=this.mergeAttributes(i);t.start=a;t.end=a.clone();return new Wl(this.document,r)}clear(e,t){id(e,this.document);const i=e.getWalker({direction:"backward",ignoreElementEnd:true});for(const n of i){const i=n.item;let o;if(i.is("element")&&t.isSimilar(i)){o=hl._createOn(i);}else if(!n.nextPosition.isAfter(e.start)&&i.is("textProxy")){const e=i.getAncestors().find(e=>e.is("element")&&t.isSimilar(e));if(e){o=hl._createIn(e);}}if(o){if(o.end.isAfter(e.end)){o.end=e.end;}if(o.start.isBefore(e.start)){o.start=e.start;}this.remove(o);}}}move(e,t){let i;if(t.isAfter(e.end)){t=this._breakAttributes(t,true);const n=t.parent;const o=n.childCount;e=this._breakAttributesRange(e,true);i=this.remove(e);t.offset+=n.childCount-o;}else {i=this.remove(e);}return this.insert(t,i)}wrap(e,t){if(!(t instanceof _l)){throw new rr["b"]("view-writer-wrap-invalid-attribute",this.document)}id(e,this.document);if(!e.isCollapsed){return this._wrapRange(e,t)}else {let i=e.start;if(i.parent.is("element")&&!Yl(i.parent)){i=i.getLastMatchingPosition(e=>e.item.is("uiElement"));}i=this._wrapPosition(i,t);const n=this.document.selection;if(n.isCollapsed&&n.getFirstPosition().isEqual(e.start)){this.setSelection(i);}return new hl(i)}}unwrap(e,t){if(!(t instanceof _l)){throw new rr["b"]("view-writer-unwrap-invalid-attribute",this.document)}id(e,this.document);if(e.isCollapsed){return e}const{start:i,end:n}=this._breakAttributesRange(e,true);const o=i.parent;const s=this._unwrapChildren(o,i.offset,n.offset,t);const r=this.mergeAttributes(s.start);if(!r.isEqual(s.start)){s.end.offset--;}const a=this.mergeAttributes(s.end);return new hl(r,a)}rename(e,t){const i=new Hc(this.document,e,t.getAttributes());this.insert(ul._createAfter(t),i);this.move(hl._createIn(t),ul._createAt(i,0));this.remove(hl._createOn(t));return i}clearClonedElementsGroup(e){this._cloneGroups.delete(e);}createPositionAt(e,t){return ul._createAt(e,t)}createPositionAfter(e){return ul._createAfter(e)}createPositionBefore(e){return ul._createBefore(e)}createRange(e,t){return new hl(e,t)}createRangeOn(e){return hl._createOn(e)}createRangeIn(e){return hl._createIn(e)}createSelection(e,t,i){return new gl(e,t,i)}_wrapChildren(e,t,i,n){let o=t;const s=[];while(o<i){const t=e.getChild(o);const i=t.is("text");const r=t.is("attributeElement");const a=t.is("emptyElement");const c=t.is("uiElement");if(r&&this._wrapAttributeElement(n,t)){s.push(new ul(e,o));}else if(i||a||c||r&&Gl(n,t)){const i=n._clone();t._remove();i._appendChild(t);e._insertChild(o,i);this._addToClonedElementsGroup(i);s.push(new ul(e,o));}else if(r){this._wrapChildren(t,0,t.childCount,n);}o++;}let r=0;for(const e of s){e.offset-=r;if(e.offset==t){continue}const n=this.mergeAttributes(e);if(!n.isEqual(e)){r++;i--;}}return hl._createFromParentsAndOffsets(e,t,e,i)}_unwrapChildren(e,t,i,n){let o=t;const s=[];while(o<i){const t=e.getChild(o);if(!t.is("attributeElement")){o++;continue}if(t.isSimilar(n)){const n=t.getChildren();const r=t.childCount;t._remove();e._insertChild(o,n);this._removeFromClonedElementsGroup(t);s.push(new ul(e,o),new ul(e,o+r));o+=r;i+=r-1;continue}if(this._unwrapAttributeElement(n,t)){s.push(new ul(e,o),new ul(e,o+1));o++;continue}this._unwrapChildren(t,0,t.childCount,n);o++;}let r=0;for(const e of s){e.offset-=r;if(e.offset==t||e.offset==i){continue}const n=this.mergeAttributes(e);if(!n.isEqual(e)){r++;i--;}}return hl._createFromParentsAndOffsets(e,t,e,i)}_wrapRange(e,t){const{start:i,end:n}=this._breakAttributesRange(e,true);const o=i.parent;const s=this._wrapChildren(o,i.offset,n.offset,t);const r=this.mergeAttributes(s.start);if(!r.isEqual(s.start)){s.end.offset--;}const a=this.mergeAttributes(s.end);return new hl(r,a)}_wrapPosition(e,t){if(t.isSimilar(e.parent)){return Ql(e.clone())}if(e.parent.is("text")){e=Xl(e);}const i=this.createAttributeElement();i._priority=Number.POSITIVE_INFINITY;i.isSimilar=()=>false;e.parent._insertChild(e.offset,i);const n=new hl(e,e.getShiftedBy(1));this.wrap(n,t);const o=new ul(i.parent,i.index);i._remove();const s=o.nodeBefore;const r=o.nodeAfter;if(s instanceof Vr&&r instanceof Vr){return Kl(s,r)}return Ql(o)}_wrapAttributeElement(e,t){if(!nd(e,t)){return false}if(e.name!==t.name||e.priority!==t.priority){return false}for(const i of e.getAttributeKeys()){if(i==="class"||i==="style"){continue}if(t.hasAttribute(i)&&t.getAttribute(i)!==e.getAttribute(i)){return false}}for(const i of e.getStyleNames()){if(t.hasStyle(i)&&t.getStyle(i)!==e.getStyle(i)){return false}}for(const i of e.getAttributeKeys()){if(i==="class"||i==="style"){continue}if(!t.hasAttribute(i)){this.setAttribute(i,e.getAttribute(i),t);}}for(const i of e.getStyleNames()){if(!t.hasStyle(i)){this.setStyle(i,e.getStyle(i),t);}}for(const i of e.getClassNames()){if(!t.hasClass(i)){this.addClass(i,t);}}return true}_unwrapAttributeElement(e,t){if(!nd(e,t)){return false}if(e.name!==t.name||e.priority!==t.priority){return false}for(const i of e.getAttributeKeys()){if(i==="class"||i==="style"){continue}if(!t.hasAttribute(i)||t.getAttribute(i)!==e.getAttribute(i)){return false}}if(!t.hasClass(...e.getClassNames())){return false}for(const i of e.getStyleNames()){if(!t.hasStyle(i)||t.getStyle(i)!==e.getStyle(i)){return false}}for(const i of e.getAttributeKeys()){if(i==="class"||i==="style"){continue}this.removeAttribute(i,t);}this.removeClass(Array.from(e.getClassNames()),t);this.removeStyle(Array.from(e.getStyleNames()),t);return true}_breakAttributesRange(e,t=false){const i=e.start;const n=e.end;id(e,this.document);if(e.isCollapsed){const i=this._breakAttributes(e.start,t);return new hl(i,i)}const o=this._breakAttributes(n,t);const s=o.parent.childCount;const r=this._breakAttributes(i,t);o.offset+=o.parent.childCount-s;return new hl(r,o)}_breakAttributes(e,t=false){const i=e.offset;const n=e.parent;if(e.parent.is("emptyElement")){throw new rr["b"]("view-writer-cannot-break-empty-element",this.document)}if(e.parent.is("uiElement")){throw new rr["b"]("view-writer-cannot-break-ui-element",this.document)}if(!t&&n.is("text")&&td(n.parent)){return e.clone()}if(td(n)){return e.clone()}if(n.is("text")){return this._breakAttributes(Xl(e),t)}const o=n.childCount;if(i==o){const e=new ul(n.parent,n.index+1);return this._breakAttributes(e,t)}else {if(i===0){const e=new ul(n.parent,n.index);return this._breakAttributes(e,t)}else {const e=n.index+1;const o=n._clone();n.parent._insertChild(e,o);this._addToClonedElementsGroup(o);const s=n.childCount-i;const r=n._removeChildren(i,s);o._appendChild(r);const a=new ul(n.parent,e);return this._breakAttributes(a,t)}}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement")){return}if(e.is("element")){for(const t of e.getChildren()){this._addToClonedElementsGroup(t);}}const t=e.id;if(!t){return}let i=this._cloneGroups.get(t);if(!i){i=new Set;this._cloneGroups.set(t,i);}i.add(e);e._clonesGroup=i;}_removeFromClonedElementsGroup(e){if(e.is("element")){for(const t of e.getChildren()){this._removeFromClonedElementsGroup(t);}}const t=e.id;if(!t){return}const i=this._cloneGroups.get(t);if(!i){return}i.delete(e);}}function Yl(e){return Array.from(e.getChildren()).some(e=>!e.is("uiElement"))}function Jl(e){let t=e.parent;while(!td(t)){if(!t){return undefined}t=t.parent;}return t}function Gl(e,t){if(e.priority<t.priority){return true}else if(e.priority>t.priority){return false}return e.getIdentity()<t.getIdentity()}function Ql(e){const t=e.nodeBefore;if(t&&t.is("text")){return new ul(t,t.data.length)}const i=e.nodeAfter;if(i&&i.is("text")){return new ul(i,0)}return e}function Xl(e){if(e.offset==e.parent.data.length){return new ul(e.parent.parent,e.parent.index+1)}if(e.offset===0){return new ul(e.parent.parent,e.parent.index)}const t=e.parent.data.slice(e.offset);e.parent._data=e.parent.data.slice(0,e.offset);e.parent.parent._insertChild(e.parent.index+1,new Vr(e.root.document,t));return new ul(e.parent.parent,e.parent.index+1)}function Kl(e,t){const i=e.data.length;e._data+=t.data;t._remove();return new ul(e,i)}function Zl(e,t){for(const i of e){if(!ed.some(e=>i instanceof e)){throw new rr["b"]("view-writer-insert-invalid-node",t)}if(!i.is("text")){Zl(i.getChildren(),t);}}}const ed=[Vr,_l,Hc,yl,Vl];function td(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function id(e,t){const i=Jl(e.start);const n=Jl(e.end);if(!i||!n||i!==n){throw new rr["b"]("view-writer-invalid-range-container",t)}}function nd(e,t){return e.id===null&&t.id===null}function od(e){return Object.prototype.toString.call(e)=="[object Text]"}const sd=e=>e.createTextNode(" ");const rd=e=>{const t=e.createElement("br");t.dataset.ckeFiller=true;return t};const ad=7;const cd=(()=>{let e="";for(let t=0;t<ad;t++){e+="​";}return e})();function ld(e){return od(e)&&e.data.substr(0,ad)===cd}function dd(e){return e.data.length==ad&&ld(e)}function ud(e){if(ld(e)){return e.data.slice(ad)}else {return e.data}}function hd(e){e.document.on("keydown",fd);}function fd(e,t){if(t.keyCode==Rl.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer;const i=e.getRangeAt(0).startOffset;if(ld(t)&&i<=ad){e.collapse(t,0);}}}}function md(e,t,i,n=false){i=i||function(e,t){return e===t};if(!Array.isArray(e)){e=Array.prototype.slice.call(e);}if(!Array.isArray(t)){t=Array.prototype.slice.call(t);}const o=gd(e,t,i);return n?_d(o,t.length):wd(t,o)}function gd(e,t,i){const n=pd(e,t,i);if(n===-1){return {firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1}}const o=bd(e,n);const s=bd(t,n);const r=pd(o,s,i);const a=e.length-r;const c=t.length-r;return {firstIndex:n,lastIndexOld:a,lastIndexNew:c}}function pd(e,t,i){for(let n=0;n<Math.max(e.length,t.length);n++){if(e[n]===undefined||t[n]===undefined||!i(e[n],t[n])){return n}}return -1}function bd(e,t){return e.slice(t).reverse()}function wd(e,t){const i=[];const{firstIndex:n,lastIndexOld:o,lastIndexNew:s}=t;if(s-n>0){i.push({index:n,type:"insert",values:e.slice(n,s)});}if(o-n>0){i.push({index:n+(s-n),type:"delete",howMany:o-n});}return i}function _d(e,t){const{firstIndex:i,lastIndexOld:n,lastIndexNew:o}=e;if(i===-1){return Array(t).fill("equal")}let s=[];if(i>0){s=s.concat(Array(i).fill("equal"));}if(o-i>0){s=s.concat(Array(o-i).fill("insert"));}if(n-i>0){s=s.concat(Array(n-i).fill("delete"));}if(o<t){s=s.concat(Array(t-o).fill("equal"));}return s}function vd(e,t,i){i=i||function(e,t){return e===t};const n=e.length;const o=t.length;if(n>200||o>200||n+o>300){return vd.fastDiff(e,t,i,true)}let s,r;if(o<n){const i=e;e=t;t=i;s="delete";r="insert";}else {s="insert";r="delete";}const a=e.length;const c=t.length;const l=c-a;const d={};const u={};function h(n){const o=(u[n-1]!==undefined?u[n-1]:-1)+1;const l=u[n+1]!==undefined?u[n+1]:-1;const h=o>l?-1:1;if(d[n+h]){d[n]=d[n+h].slice(0);}if(!d[n]){d[n]=[];}d[n].push(o>l?s:r);let f=Math.max(o,l);let m=f-n;while(m<a&&f<c&&i(e[m],t[f])){m++;f++;d[n].push("equal");}return f}let f=0;let m;do{for(m=-f;m<l;m++){u[m]=h(m);}for(m=l+f;m>l;m--){u[m]=h(m);}u[l]=h(l);f++;}while(u[l]!==c);return d[l].slice(1)}vd.fastDiff=md;function kd(e,t,i){e.insertBefore(i,e.childNodes[t]||null);}function yd(e){const t=e.parentNode;if(t){t.removeChild(e);}}function xd(e){if(e){if(e.defaultView){return e instanceof e.defaultView.Document}else if(e.ownerDocument&&e.ownerDocument.defaultView){return e instanceof e.ownerDocument.defaultView.Node}}return false}class Ad{constructor(e,t){this.domDocuments=new Set;this.domConverter=e;this.markedAttributes=new Set;this.markedChildren=new Set;this.markedTexts=new Set;this.selection=t;this.isFocused=false;this._inlineFiller=null;this._fakeSelectionContainer=null;}markToSync(e,t){if(e==="text"){if(this.domConverter.mapViewToDom(t.parent)){this.markedTexts.add(t);}}else {if(!this.domConverter.mapViewToDom(t)){return}if(e==="attributes"){this.markedAttributes.add(t);}else if(e==="children"){this.markedChildren.add(t);}else {throw new rr["b"]("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this)}}}render(){let e;for(const e of this.markedChildren){this._updateChildrenMappings(e);}if(this._inlineFiller&&!this._isSelectionInInlineFiller()){this._removeInlineFiller();}if(this._inlineFiller){e=this._getInlineFillerPosition();}else if(this._needsInlineFillerAtSelection()){e=this.selection.getFirstPosition();this.markedChildren.add(e.parent);}for(const e of this.markedAttributes){this._updateAttrs(e);}for(const t of this.markedChildren){this._updateChildren(t,{inlineFillerPosition:e});}for(const t of this.markedTexts){if(!this.markedChildren.has(t.parent)&&this.domConverter.mapViewToDom(t.parent)){this._updateText(t,{inlineFillerPosition:e});}}if(e){const t=this.domConverter.viewPositionToDom(e);const i=t.parent.ownerDocument;if(!ld(t.parent)){this._inlineFiller=Td(i,t.parent,t.offset);}else {this._inlineFiller=t.parent;}}else {this._inlineFiller=null;}this._updateSelection();this._updateFocus();this.markedTexts.clear();this.markedAttributes.clear();this.markedChildren.clear();}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t){return}const i=this.domConverter.mapViewToDom(e).childNodes;const n=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{withChildren:false}));const o=this._diffNodeLists(i,n);const s=this._findReplaceActions(o,i,n);if(s.indexOf("replace")!==-1){const t={equal:0,insert:0,delete:0};for(const o of s){if(o==="replace"){const o=t.equal+t.insert;const s=t.equal+t.delete;const r=e.getChild(o);if(r&&!r.is("uiElement")){this._updateElementMappings(r,i[s]);}yd(n[o]);t.equal++;}else {t[o]++;}}}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t);this.domConverter.bindElements(t,e);this.markedChildren.add(e);this.markedAttributes.add(e);}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();if(e.parent.is("text")){return ul._createBefore(this.selection.getFirstPosition().parent)}else {return e}}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed){return false}const e=this.selection.getFirstPosition();const t=this.domConverter.viewPositionToDom(e);if(t&&od(t.parent)&&ld(t.parent)){return true}return false}_removeInlineFiller(){const e=this._inlineFiller;if(!ld(e)){throw new rr["b"]("view-renderer-filler-was-lost: The inline filler node was lost.",this)}if(dd(e)){e.parentNode.removeChild(e);}else {e.data=e.data.substr(ad);}this._inlineFiller=null;}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed){return false}const e=this.selection.getFirstPosition();const t=e.parent;const i=e.offset;if(!this.domConverter.mapViewToDom(t.root)){return false}if(!t.is("element")){return false}if(!Cd(t)){return false}if(i===t.getFillerOffset()){return false}const n=e.nodeBefore;const o=e.nodeAfter;if(n instanceof Vr||o instanceof Vr){return false}return true}_updateText(e,t){const i=this.domConverter.findCorrespondingDomText(e);const n=this.domConverter.viewToDom(e,i.ownerDocument);const o=i.data;let s=n.data;const r=t.inlineFillerPosition;if(r&&r.parent==e.parent&&r.offset==e.index){s=cd+s;}if(o!=s){const e=md(o,s);for(const t of e){if(t.type==="insert"){i.insertData(t.index,t.values.join(""));}else {i.deleteData(t.index,t.howMany);}}}}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t){return}const i=Array.from(t.attributes).map(e=>e.name);const n=e.getAttributeKeys();for(const i of n){t.setAttribute(i,e.getAttribute(i));}for(const n of i){if(!e.hasAttribute(n)){t.removeAttribute(n);}}}_updateChildren(e,t){const i=this.domConverter.mapViewToDom(e);if(!i){return}const n=t.inlineFillerPosition;const o=this.domConverter.mapViewToDom(e).childNodes;const s=Array.from(this.domConverter.viewChildrenToDom(e,i.ownerDocument,{bind:true,inlineFillerPosition:n}));if(n&&n.parent===e){Td(i.ownerDocument,s,n.offset);}const r=this._diffNodeLists(o,s);let a=0;const c=new Set;for(const e of r){if(e==="delete"){c.add(o[a]);yd(o[a]);}else if(e==="equal"){a++;}}a=0;for(const e of r){if(e==="insert"){kd(i,a,s[a]);a++;}else if(e==="equal"){this._markDescendantTextToSync(this.domConverter.domToView(s[a]));a++;}}for(const e of c){if(!e.parentNode){this.domConverter.unbindDomElement(e);}}}_diffNodeLists(e,t){e=Sd(e,this._fakeSelectionContainer);return vd(e,t,Ed.bind(null,this.domConverter))}_findReplaceActions(e,t,i){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1){return e}let n=[];let o=[];let s=[];const r={equal:0,insert:0,delete:0};for(const a of e){if(a==="insert"){s.push(i[r.equal+r.insert]);}else if(a==="delete"){o.push(t[r.equal+r.delete]);}else {n=n.concat(vd(o,s,Md).map(e=>e==="equal"?"replace":e));n.push("equal");o=[];s=[];}r[a]++;}return n.concat(vd(o,s,Md).map(e=>e==="equal"?"replace":e))}_markDescendantTextToSync(e){if(!e){return}if(e.is("text")){this.markedTexts.add(e);}else if(e.is("element")){for(const t of e.getChildren()){this._markDescendantTextToSync(t);}}}_updateSelection(){if(this.selection.rangeCount===0){this._removeDomSelection();this._removeFakeSelection();return}const e=this.domConverter.mapViewToDom(this.selection.editableElement);if(!this.isFocused||!e){return}if(this.selection.isFake){this._updateFakeSelection(e);}else {this._removeFakeSelection();this._updateDomSelection(e);}}_updateFakeSelection(e){const t=e.ownerDocument;if(!this._fakeSelectionContainer){this._fakeSelectionContainer=Id(t);}const i=this._fakeSelectionContainer;this.domConverter.bindFakeSelection(i,this.selection);if(!this._fakeSelectionNeedsUpdate(e)){return}if(!i.parentElement||i.parentElement!=e){e.appendChild(i);}i.textContent=this.selection.fakeSelectionLabel||" ";const n=t.getSelection();const o=t.createRange();n.removeAllRanges();o.selectNodeContents(i);n.addRange(o);}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t)){return}const i=this.domConverter.viewPositionToDom(this.selection.anchor);const n=this.domConverter.viewPositionToDom(this.selection.focus);e.focus();t.collapse(i.parent,i.offset);t.extend(n.parent,n.offset);if(Tl.isGecko){Pd(n,t);}}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e)){return true}const t=e&&this.domConverter.domSelectionToView(e);if(t&&this.selection.isEqual(t)){return false}if(!this.selection.isCollapsed&&this.selection.isSimilar(t)){return false}return true}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer;const i=e.ownerDocument.getSelection();if(!t||t.parentElement!==e){return true}if(i.anchorNode!==t&&!t.contains(i.anchorNode)){return true}return t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const t=e.activeElement;const i=this.domConverter.mapDomToView(t);if(t&&i){e.getSelection().removeAllRanges();}}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;if(e){e.remove();}}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;if(e){this.domConverter.focus(e);}}}}yr(Ad,Qc);function Cd(e){if(e.getAttribute("contenteditable")=="false"){return false}const t=e.findAncestor(e=>e.hasAttribute("contenteditable"));return !t||t.getAttribute("contenteditable")=="true"}function Td(e,t,i){const n=t instanceof Array?t:t.childNodes;const o=n[i];if(od(o)){o.data=cd+o.data;return o}else {const o=e.createTextNode(cd);if(Array.isArray(t)){n.splice(i,0,o);}else {kd(t,i,o);}return o}}function Md(e,t){return xd(e)&&xd(t)&&!od(e)&&!od(t)&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function Ed(e,t,i){if(t===i){return true}else if(od(t)&&od(i)){return t.data===i.data}else if(e.isBlockFiller(t)&&e.isBlockFiller(i)){return true}return false}function Pd(e,t){const i=e.parent;if(i.nodeType!=Node.ELEMENT_NODE||e.offset!=i.childNodes.length-1){return}const n=i.childNodes[e.offset];if(n&&n.tagName=="BR"){t.addRange(t.getRangeAt(0));}}function Sd(e,t){const i=Array.from(e);if(i.length==0||!t){return i}const n=i[i.length-1];if(n==t){i.pop();}return i}function Id(e){const t=e.createElement("div");Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"});t.textContent=" ";return t}var Od={window:window,document:document};function Nd(e){let t=0;while(e.previousSibling){e=e.previousSibling;t++;}return t}function Rd(e){const t=[];while(e&&e.nodeType!=Node.DOCUMENT_NODE){t.unshift(e);e=e.parentNode;}return t}function Ld(e,t){const i=Rd(e);const n=Rd(t);let o=0;while(i[o]==n[o]&&i[o]){o++;}return o===0?null:i[o-1]}const Dd=rd(document);class jd{constructor(e,t={}){this.document=e;this.blockFillerMode=t.blockFillerMode||"br";this.preElements=["pre"];this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"];this._blockFiller=this.blockFillerMode=="br"?rd:sd;this._domToViewMapping=new WeakMap;this._viewToDomMapping=new WeakMap;this._fakeSelectionMapping=new WeakMap;}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new gl(t));}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t);this._viewToDomMapping.set(t,e);}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e);this._viewToDomMapping.delete(t);for(const t of e.childNodes){this.unbindDomElement(t);}}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t);this._viewToDomMapping.set(t,e);}viewToDom(e,t,i={}){if(e.is("text")){const i=this._processDataFromViewText(e);return t.createTextNode(i)}else {if(this.mapViewToDom(e)){return this.mapViewToDom(e)}let n;if(e.is("documentFragment")){n=t.createDocumentFragment();if(i.bind){this.bindDocumentFragments(n,e);}}else if(e.is("uiElement")){n=e.render(t);if(i.bind){this.bindElements(n,e);}return n}else {if(e.hasAttribute("xmlns")){n=t.createElementNS(e.getAttribute("xmlns"),e.name);}else {n=t.createElement(e.name);}if(i.bind){this.bindElements(n,e);}for(const t of e.getAttributeKeys()){n.setAttribute(t,e.getAttribute(t));}}if(i.withChildren||i.withChildren===undefined){for(const o of this.viewChildrenToDom(e,t,i)){n.appendChild(o);}}return n}}*viewChildrenToDom(e,t,i={}){const n=e.getFillerOffset&&e.getFillerOffset();let o=0;for(const s of e.getChildren()){if(n===o){yield this._blockFiller(t);}yield this.viewToDom(s,t,i);o++;}if(n===o){yield this._blockFiller(t);}}viewRangeToDom(e){const t=this.viewPositionToDom(e.start);const i=this.viewPositionToDom(e.end);const n=document.createRange();n.setStart(t.parent,t.offset);n.setEnd(i.parent,i.offset);return n}viewPositionToDom(e){const t=e.parent;if(t.is("text")){const i=this.findCorrespondingDomText(t);if(!i){return null}let n=e.offset;if(ld(i)){n+=ad;}return {parent:i,offset:n}}else {let i,n,o;if(e.offset===0){i=this.mapViewToDom(t);if(!i){return null}o=i.childNodes[0];}else {const t=e.nodeBefore;n=t.is("text")?this.findCorrespondingDomText(t):this.mapViewToDom(e.nodeBefore);if(!n){return null}i=n.parentNode;o=n.nextSibling;}if(od(o)&&ld(o)){return {parent:o,offset:ad}}const s=n?Nd(n)+1:0;return {parent:i,offset:s}}}domToView(e,t={}){if(this.isBlockFiller(e,this.blockFillerMode)){return null}const i=this.getParentUIElement(e,this._domToViewMapping);if(i){return i}if(od(e)){if(dd(e)){return null}else {const t=this._processDataFromDomText(e);return t===""?null:new Vr(this.document,t)}}else if(this.isComment(e)){return null}else {if(this.mapDomToView(e)){return this.mapDomToView(e)}let i;if(this.isDocumentFragment(e)){i=new Wl(this.document);if(t.bind){this.bindDocumentFragments(e,i);}}else {const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();i=new zc(this.document,n);if(t.bind){this.bindElements(e,i);}const o=e.attributes;for(let e=o.length-1;e>=0;e--){i._setAttribute(o[e].name,o[e].value);}}if(t.withChildren||t.withChildren===undefined){for(const n of this.domChildrenToView(e,t)){i._appendChild(n);}}return i}}*domChildrenToView(e,t={}){for(let i=0;i<e.childNodes.length;i++){const n=e.childNodes[i];const o=this.domToView(n,t);if(o!==null){yield o;}}}domSelectionToView(e){if(e.rangeCount===1){let t=e.getRangeAt(0).startContainer;if(od(t)){t=t.parentNode;}const i=this.fakeSelectionToView(t);if(i){return i}}const t=this.isDomSelectionBackward(e);const i=[];for(let t=0;t<e.rangeCount;t++){const n=e.getRangeAt(t);const o=this.domRangeToView(n);if(o){i.push(o);}}return new gl(i,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset);const i=this.domPositionToView(e.endContainer,e.endOffset);if(t&&i){return new hl(t,i)}return null}domPositionToView(e,t){if(this.isBlockFiller(e,this.blockFillerMode)){return this.domPositionToView(e.parentNode,Nd(e))}const i=this.mapDomToView(e);if(i&&i.is("uiElement")){return ul._createBefore(i)}if(od(e)){if(dd(e)){return this.domPositionToView(e.parentNode,Nd(e))}const i=this.findCorrespondingViewText(e);let n=t;if(!i){return null}if(ld(e)){n-=ad;n=n<0?0:n;}return new ul(i,n)}else {if(t===0){const t=this.mapDomToView(e);if(t){return new ul(t,0)}}else {const i=e.childNodes[t-1];const n=od(i)?this.findCorrespondingViewText(i):this.mapDomToView(i);if(n&&n.parent){return new ul(n.parent,n.index+1)}}return null}}mapDomToView(e){return this.getParentUIElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(dd(e)){return null}const t=this.getParentUIElement(e);if(t){return t}const i=e.previousSibling;if(i){if(!this.isElement(i)){return null}const e=this.mapDomToView(i);if(e){const t=e.nextSibling;if(t instanceof Vr){return e.nextSibling}else {return null}}}else {const t=this.mapDomToView(e.parentNode);if(t){const e=t.getChild(0);if(e instanceof Vr){return e}else {return null}}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;if(t&&this.mapViewToDom(t)){return this.mapViewToDom(t).nextSibling}if(!t&&e.parent&&this.mapViewToDom(e.parent)){return this.mapViewToDom(e.parent).childNodes[0]}return null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:i}=Od.window;const n=[];Bd(t,e=>{const{scrollLeft:t,scrollTop:i}=e;n.push([t,i]);});t.focus();Bd(t,e=>{const[t,i]=n.shift();e.scrollLeft=t;e.scrollTop=i;});Od.window.scrollTo(e,i);}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(e){return e&&e.nodeType==Node.COMMENT_NODE}isBlockFiller(e){if(this.blockFillerMode=="br"){return e.isEqualNode(Dd)}if(e.tagName==="BR"&&Fd(e,this.blockElements)&&e.parentNode.childNodes.length===1){return true}return Vd(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed){return false}const t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset);t.setEnd(e.focusNode,e.focusOffset);const i=t.collapsed;t.detach();return i}getParentUIElement(e){const t=Rd(e);t.pop();while(t.length){const e=t.pop();const i=this._domToViewMapping.get(e);if(i&&i.is("uiElement")){return i}}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}_isDomSelectionPositionCorrect(e,t){if(od(e)&&ld(e)&&t<ad){return false}if(this.isElement(e)&&ld(e.childNodes[t])){return false}const i=this.mapDomToView(e);if(i&&i.is("uiElement")){return false}return true}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some(e=>this.preElements.includes(e.name))){return t}if(t.charAt(0)==" "){const i=this._getTouchingViewTextNode(e,false);const n=i&&this._nodeEndsWithSpace(i);if(n||!i){t=" "+t.substr(1);}}if(t.charAt(t.length-1)==" "){const i=this._getTouchingViewTextNode(e,true);if(t.charAt(t.length-2)==" "||!i||i.data.charAt(0)==" "){t=t.substr(0,t.length-1)+" ";}}return t.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(e=>this.preElements.includes(e.name))){return false}const t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}_processDataFromDomText(e){let t=e.data;if(zd(e,this.preElements)){return ud(e)}t=t.replace(/[ \n\t\r]{1,}/g," ");const i=this._getTouchingInlineDomNode(e,false);const n=this._getTouchingInlineDomNode(e,true);const o=this._checkShouldLeftTrimDomText(i);const s=this._checkShouldRightTrimDomText(e,n);if(o){t=t.replace(/^ /,"");}if(s){t=t.replace(/ $/,"");}t=ud(new Text(t));t=t.replace(/ \u00A0/g,"  ");if(/( |\u00A0)\u00A0$/.test(t)||!n||n.data&&n.data.charAt(0)==" "){t=t.replace(/\u00A0$/," ");}if(o){t=t.replace(/^\u00A0/," ");}return t}_checkShouldLeftTrimDomText(e){if(!e){return true}if(Js(e)){return true}return /[^\S\u00A0]/.test(e.data.charAt(e.data.length-1))}_checkShouldRightTrimDomText(e,t){if(t){return false}return !ld(e)}_getTouchingViewTextNode(e,t){const i=new dl({startPosition:t?ul._createAfter(e):ul._createBefore(e),direction:t?"forward":"backward"});for(const e of i){if(e.item.is("containerElement")){return null}else if(e.item.is("br")){return null}else if(e.item.is("textProxy")){return e.item}}return null}_getTouchingInlineDomNode(e,t){if(!e.parentNode){return null}const i=t?"nextNode":"previousNode";const n=e.ownerDocument;const o=Rd(e)[0];const s=n.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode(e){if(od(e)){return NodeFilter.FILTER_ACCEPT}if(e.tagName=="BR"){return NodeFilter.FILTER_ACCEPT}return NodeFilter.FILTER_SKIP}});s.currentNode=e;const r=s[i]();if(r!==null){const t=Ld(e,r);if(t&&!zd(e,this.blockElements,t)&&!zd(r,this.blockElements,t)){return r}}return null}}function zd(e,t,i){let n=Rd(e);if(i){n=n.slice(n.indexOf(i)+1);}return n.some(e=>e.tagName&&t.includes(e.tagName.toLowerCase()))}function Bd(e,t){while(e&&e!=Od.document){t(e);e=e.parentNode;}}function Vd(e,t){const i=od(e)&&e.data==" ";return i&&Fd(e,t)&&e.parentNode.childNodes.length===1}function Fd(e,t){const i=e.parentNode;return i&&i.tagName&&t.includes(i.tagName.toLowerCase())}function Hd(e){const t=Object.prototype.toString.apply(e);if(t=="[object Window]"){return true}if(t=="[object global]"){return true}return false}const Ud=$c({},dr,{listenTo(e,...t){if(xd(e)||Hd(e)){const i=this._getProxyEmitter(e)||new $d(e);i.attach(...t);e=i;}dr.listenTo.call(this,e,...t);},stopListening(e,t,i){if(xd(e)||Hd(e)){const t=this._getProxyEmitter(e);if(!t){return}e=t;}dr.stopListening.call(this,e,t,i);if(e instanceof $d){e.detach(t);}},_getProxyEmitter(e){return ur(this,qd(e))}});var Wd=Ud;class $d{constructor(e){hr(this,qd(e));this._domNode=e;}}$c($d.prototype,dr,{attach(e,t,i={}){if(this._domListeners&&this._domListeners[e]){return}const n=this._createDomListener(e,!!i.useCapture);this._domNode.addEventListener(e,n,!!i.useCapture);if(!this._domListeners){this._domListeners={};}this._domListeners[e]=n;},detach(e){let t;if(this._domListeners[e]&&(!(t=this._events[e])||!t.callbacks.length)){this._domListeners[e].removeListener();}},_createDomListener(e,t){const i=t=>{this.fire(e,t);};i.removeListener=()=>{this._domNode.removeEventListener(e,i,t);delete this._domListeners[e];};return i}});function qd(e){return e["data-ck-expando"]||(e["data-ck-expando"]=ir())}class Yd{constructor(e){this.view=e;this.document=e.document;this.isEnabled=false;}enable(){this.isEnabled=true;}disable(){this.isEnabled=false;}destroy(){this.disable();this.stopListening();}}yr(Yd,Wd);var Jd="__lodash_hash_undefined__";function Gd(e){this.__data__.set(e,Jd);return this}var Qd=Gd;function Xd(e){return this.__data__.has(e)}var Kd=Xd;function Zd(e){var t=-1,i=e==null?0:e.length;this.__data__=new vt;while(++t<i){this.add(e[t]);}}Zd.prototype.add=Zd.prototype.push=Qd;Zd.prototype.has=Kd;var eu=Zd;function tu(e,t){var i=-1,n=e==null?0:e.length;while(++i<n){if(t(e[i],i,e)){return true}}return false}var iu=tu;function nu(e,t){return e.has(t)}var ou=nu;var su=1,ru=2;function au(e,t,i,n,o,s){var r=i&su,a=e.length,c=t.length;if(a!=c&&!(r&&c>a)){return false}var l=s.get(e);if(l&&s.get(t)){return l==t}var d=-1,u=true,h=i&ru?new eu:undefined;s.set(e,t);s.set(t,e);while(++d<a){var f=e[d],m=t[d];if(n){var g=r?n(m,f,d,t,e,s):n(f,m,d,e,t,s);}if(g!==undefined){if(g){continue}u=false;break}if(h){if(!iu(t,(function(e,t){if(!ou(h,t)&&(f===e||o(f,e,i,n,s))){return h.push(t)}}))){u=false;break}}else if(!(f===m||o(f,m,i,n,s))){u=false;break}}s["delete"](e);s["delete"](t);return u}var cu=au;function lu(e){var t=-1,i=Array(e.size);e.forEach((function(e,n){i[++t]=[n,e];}));return i}var du=lu;function uu(e){var t=-1,i=Array(e.size);e.forEach((function(e){i[++t]=e;}));return i}var hu=uu;var fu=1,mu=2;var gu="[object Boolean]",pu="[object Date]",bu="[object Error]",wu="[object Map]",_u="[object Number]",vu="[object RegExp]",ku="[object Set]",yu="[object String]",xu="[object Symbol]";var Au="[object ArrayBuffer]",Cu="[object DataView]";var Tu=s?s.prototype:undefined,Mu=Tu?Tu.valueOf:undefined;function Eu(e,t,i,n,o,s,r){switch(i){case Cu:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset){return false}e=e.buffer;t=t.buffer;case Au:if(e.byteLength!=t.byteLength||!s(new fo(e),new fo(t))){return false}return true;case gu:case pu:case _u:return z(+e,+t);case bu:return e.name==t.name&&e.message==t.message;case vu:case yu:return e==t+"";case wu:var a=du;case ku:var c=n&fu;a||(a=hu);if(e.size!=t.size&&!c){return false}var l=r.get(e);if(l){return l==t}n|=mu;r.set(e,t);var d=cu(a(e),a(t),n,o,s,r);r["delete"](e);return d;case xu:if(Mu){return Mu.call(e)==Mu.call(t)}}return false}var Pu=Eu;var Su=1;var Iu=Object.prototype;var Ou=Iu.hasOwnProperty;function Nu(e,t,i,n,o,s){var r=i&Su,a=jn(e),c=a.length,l=jn(t),d=l.length;if(c!=d&&!r){return false}var u=c;while(u--){var h=a[u];if(!(r?h in t:Ou.call(t,h))){return false}}var f=s.get(e);if(f&&s.get(t)){return f==t}var m=true;s.set(e,t);s.set(t,e);var g=r;while(++u<c){h=a[u];var p=e[h],b=t[h];if(n){var w=r?n(b,p,h,t,e,s):n(p,b,h,e,t,s);}if(!(w===undefined?p===b||o(p,b,i,n,s):w)){m=false;break}g||(g=h=="constructor");}if(m&&!g){var _=e.constructor,v=t.constructor;if(_!=v&&("constructor"in e&&"constructor"in t)&&!(typeof _=="function"&&_ instanceof _&&typeof v=="function"&&v instanceof v)){m=false;}}s["delete"](e);s["delete"](t);return m}var Ru=Nu;var Lu=1;var Du="[object Arguments]",ju="[object Array]",zu="[object Object]";var Bu=Object.prototype;var Vu=Bu.hasOwnProperty;function Fu(e,t,i,n,o,s){var r=Gt(e),a=Gt(t),c=r?ju:ro(e),l=a?ju:ro(t);c=c==Du?zu:c;l=l==Du?zu:l;var d=c==zu,u=l==zu,h=c==l;if(h&&Object(Qt["a"])(e)){if(!Object(Qt["a"])(t)){return false}r=true;d=false;}if(h&&!d){s||(s=new Ct);return r||Di(e)?cu(e,t,i,n,o,s):Pu(e,t,c,i,n,o,s)}if(!(i&Lu)){var f=d&&Vu.call(e,"__wrapped__"),m=u&&Vu.call(t,"__wrapped__");if(f||m){var g=f?e.value():e,p=m?t.value():t;s||(s=new Ct);return o(g,p,i,n,s)}}if(!h){return false}s||(s=new Ct);return Ru(e,t,i,n,o,s)}var Hu=Fu;function Uu(e,t,i,n,o){if(e===t){return true}if(e==null||t==null||!T(e)&&!T(t)){return e!==e&&t!==t}return Hu(e,t,i,n,Uu,o)}var Wu=Uu;function $u(e,t,i){i=typeof i=="function"?i:undefined;var n=i?i(e,t):undefined;return n===undefined?Wu(e,t,undefined,i):!!n}var qu=$u;class Yu extends Yd{constructor(e){super(e);this._config={childList:true,characterData:true,characterDataOldValue:true,subtree:true};this.domConverter=e.domConverter;this.renderer=e._renderer;this._domElements=[];this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this));}flush(){this._onMutations(this._mutationObserver.takeRecords());}observe(e){this._domElements.push(e);if(this.isEnabled){this._mutationObserver.observe(e,this._config);}}enable(){super.enable();for(const e of this._domElements){this._mutationObserver.observe(e,this._config);}}disable(){super.disable();this._mutationObserver.disconnect();}destroy(){super.destroy();this._mutationObserver.disconnect();}_onMutations(e){if(e.length===0){return}const t=this.domConverter;const i=new Map;const n=new Set;for(const i of e){if(i.type==="childList"){const e=t.mapDomToView(i.target);if(e&&e.is("uiElement")){continue}if(e&&!this._isBogusBrMutation(i)){n.add(e);}}}for(const o of e){const e=t.mapDomToView(o.target);if(e&&e.is("uiElement")){continue}if(o.type==="characterData"){const e=t.findCorrespondingViewText(o.target);if(e&&!n.has(e.parent)){i.set(e,{type:"text",oldText:e.data,newText:ud(o.target),node:e});}else if(!e&&ld(o.target)){n.add(t.mapDomToView(o.target.parentNode));}}}const o=[];for(const e of i.values()){this.renderer.markToSync("text",e.node);o.push(e);}for(const e of n){const i=t.mapViewToDom(e);const n=Array.from(e.getChildren());const s=Array.from(t.domChildrenToView(i,{withChildren:false}));if(!qu(n,s,a)){this.renderer.markToSync("children",e);o.push({type:"children",oldChildren:n,newChildren:s,node:e});}}const s=e[0].target.ownerDocument.getSelection();let r=null;if(s&&s.anchorNode){const e=t.domPositionToView(s.anchorNode,s.anchorOffset);const i=t.domPositionToView(s.focusNode,s.focusOffset);if(e&&i){r=new gl(e);r.setFocus(i);}}if(o.length){this.document.fire("mutations",o,r);this.view.forceRender();}function a(e,t){if(Array.isArray(e)){return}if(e===t){return true}else if(e.is("text")&&t.is("text")){return e.data===t.data}return false}}_isBogusBrMutation(e){let t=null;if(e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1){t=this.domConverter.domToView(e.addedNodes[0],{withChildren:false});}return t&&t.is("element","br")}}class Ju{constructor(e,t,i){this.view=e;this.document=e.document;this.domEvent=t;this.domTarget=t.target;$c(this,i);}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault();}stopPropagation(){this.domEvent.stopPropagation();}}class Gu extends Yd{constructor(e){super(e);this.useCapture=false;}observe(e){const t=typeof this.domEventType=="string"?[this.domEventType]:this.domEventType;t.forEach(t=>{this.listenTo(e,t,(e,t)=>{if(this.isEnabled){this.onDomEvent(t);}},{useCapture:this.useCapture});});}fire(e,t,i){if(this.isEnabled){this.document.fire(e,new Ju(this.view,t,i));}}}class Qu extends Gu{constructor(e){super(e);this.domEventType=["keydown","keyup"];}onDomEvent(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return Ll(this)}});}}var Xu=function(){return n["a"].Date.now()};var Ku=Xu;var Zu=0/0;var eh=/^\s+|\s+$/g;var th=/^[-+]0x[0-9a-f]+$/i;var ih=/^0b[01]+$/i;var nh=/^0o[0-7]+$/i;var oh=parseInt;function sh(e){if(typeof e=="number"){return e}if(Kr(e)){return Zu}if(ce(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ce(t)?t+"":t;}if(typeof e!="string"){return e===0?e:+e}e=e.replace(eh,"");var i=ih.test(e);return i||nh.test(e)?oh(e.slice(2),i?2:8):th.test(e)?Zu:+e}var rh=sh;var ah="Expected a function";var ch=Math.max,lh=Math.min;function dh(e,t,i){var n,o,s,r,a,c,l=0,d=false,u=false,h=true;if(typeof e!="function"){throw new TypeError(ah)}t=rh(t)||0;if(ce(i)){d=!!i.leading;u="maxWait"in i;s=u?ch(rh(i.maxWait)||0,t):s;h="trailing"in i?!!i.trailing:h;}function f(t){var i=n,s=o;n=o=undefined;l=t;r=e.apply(s,i);return r}function m(e){l=e;a=setTimeout(b,t);return d?f(e):r}function g(e){var i=e-c,n=e-l,o=t-i;return u?lh(o,s-n):o}function p(e){var i=e-c,n=e-l;return c===undefined||i>=t||i<0||u&&n>=s}function b(){var e=Ku();if(p(e)){return w(e)}a=setTimeout(b,g(e));}function w(e){a=undefined;if(h&&n){return f(e)}n=o=undefined;return r}function _(){if(a!==undefined){clearTimeout(a);}l=0;n=c=o=a=undefined;}function v(){return a===undefined?r:w(Ku())}function k(){var e=Ku(),i=p(e);n=arguments;o=this;c=e;if(i){if(a===undefined){return m(c)}if(u){clearTimeout(a);a=setTimeout(b,t);return f(c)}}if(a===undefined){a=setTimeout(b,t);}return r}k.cancel=_;k.flush=v;return k}var uh=dh;class hh extends Yd{constructor(e){super(e);this._fireSelectionChangeDoneDebounced=uh(e=>this.document.fire("selectionChangeDone",e),200);}observe(){const e=this.document;e.on("keydown",(t,i)=>{const n=e.selection;if(n.isFake&&fh(i.keyCode)&&this.isEnabled){i.preventDefault();this._handleSelectionMove(i.keyCode);}},{priority:"lowest"});}destroy(){super.destroy();this._fireSelectionChangeDoneDebounced.cancel();}_handleSelectionMove(e){const t=this.document.selection;const i=new gl(t.getRanges(),{backward:t.isBackward,fake:false});if(e==Rl.arrowleft||e==Rl.arrowup){i.setTo(i.getFirstPosition());}if(e==Rl.arrowright||e==Rl.arrowdown){i.setTo(i.getLastPosition());}const n={oldSelection:t,newSelection:i,domSelection:null};this.document.fire("selectionChange",n);this._fireSelectionChangeDoneDebounced(n);}}function fh(e){return e==Rl.arrowright||e==Rl.arrowleft||e==Rl.arrowup||e==Rl.arrowdown}class mh extends Yd{constructor(e){super(e);this.mutationObserver=e.getObserver(Yu);this.selection=this.document.selection;this.domConverter=e.domConverter;this._documents=new WeakSet;this._fireSelectionChangeDoneDebounced=uh(e=>this.document.fire("selectionChangeDone",e),200);this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3);this._loopbackCounter=0;}observe(e){const t=e.ownerDocument;if(this._documents.has(t)){return}this.listenTo(t,"selectionchange",()=>{this._handleSelectionChange(t);});this._documents.add(t);}destroy(){super.destroy();clearInterval(this._clearInfiniteLoopInterval);this._fireSelectionChangeDoneDebounced.cancel();}_handleSelectionChange(e){if(!this.isEnabled){return}this.mutationObserver.flush();const t=e.defaultView.getSelection();const i=this.domConverter.domSelectionToView(t);if(i.rangeCount==0){this.view.hasDomSelection=false;return}this.view.hasDomSelection=true;if(this.selection.isEqual(i)&&this.domConverter.isDomSelectionCorrect(t)){return}if(++this._loopbackCounter>60){return}if(this.selection.isSimilar(i)){this.view.forceRender();}else {const e={oldSelection:this.selection,newSelection:i,domSelection:t};this.document.fire("selectionChange",e);this._fireSelectionChangeDoneDebounced(e);}}_clearInfiniteLoop(){this._loopbackCounter=0;}}class gh extends Gu{constructor(e){super(e);this.domEventType=["focus","blur"];this.useCapture=true;const t=this.document;t.on("focus",()=>{t.isFocused=true;this._renderTimeoutId=setTimeout(()=>e.forceRender(),50);});t.on("blur",(i,n)=>{const o=t.selection.editableElement;if(o===null||o===n.target){t.isFocused=false;e.forceRender();}});}onDomEvent(e){this.fire(e.type,e);}destroy(){if(this._renderTimeoutId){clearTimeout(this._renderTimeoutId);}super.destroy();}}class ph extends Gu{constructor(e){super(e);this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",()=>{t.isComposing=true;});t.on("compositionend",()=>{t.isComposing=false;});}onDomEvent(e){this.fire(e.type,e);}}class bh extends Gu{constructor(e){super(e);this.domEventType=["beforeinput"];}onDomEvent(e){this.fire(e.type,e);}}function wh(e){return Object.prototype.toString.apply(e)=="[object Range]"}function _h(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return {top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}const vh=["top","right","bottom","left","width","height"];class kh{constructor(e){const t=wh(e);Object.defineProperty(this,"_source",{value:e._source||e,writable:true,enumerable:false});if(Js(e)||t){if(t){yh(this,kh.getDomRangeRects(e)[0]);}else {yh(this,e.getBoundingClientRect());}}else if(Hd(e)){const{innerWidth:t,innerHeight:i}=e;yh(this,{top:0,right:t,bottom:i,left:0,width:t,height:i});}else {yh(this,e);}}clone(){return new kh(this)}moveTo(e,t){this.top=t;this.right=e+this.width;this.bottom=t+this.height;this.left=e;return this}moveBy(e,t){this.top+=t;this.right+=e;this.left+=e;this.bottom+=t;return this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};t.width=t.right-t.left;t.height=t.bottom-t.top;if(t.width<0||t.height<0){return null}else {return new kh(t)}}getIntersectionArea(e){const t=this.getIntersection(e);if(t){return t.getArea()}else {return 0}}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(!xh(e)){let i=e.parentNode||e.commonAncestorContainer;while(i&&!xh(i)){const e=new kh(i);const n=t.getIntersection(e);if(n){if(n.getArea()<t.getArea()){t=n;}}else {return null}i=i.parentNode;}}return t}isEqual(e){for(const t of vh){if(this[t]!==e[t]){return false}}return true}contains(e){const t=this.getIntersection(e);return !!(t&&t.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let t,i,n;if(Hd(e)){t=e.innerWidth-e.document.documentElement.clientWidth;i=e.innerHeight-e.document.documentElement.clientHeight;n=e.getComputedStyle(e.document.documentElement).direction;}else {const o=_h(this._source);t=e.offsetWidth-e.clientWidth-o.left-o.right;i=e.offsetHeight-e.clientHeight-o.top-o.bottom;n=e.ownerDocument.defaultView.getComputedStyle(e).direction;this.left+=o.left;this.top+=o.top;this.right-=o.right;this.bottom-=o.bottom;this.width=this.right-this.left;this.height=this.bottom-this.top;}this.width-=t;if(n==="ltr"){this.right-=t;}else {this.left+=t;}this.height-=i;this.bottom-=i;return this}static getDomRangeRects(e){const t=[];const i=Array.from(e.getClientRects());if(i.length){for(const e of i){t.push(new kh(e));}}else {let i=e.startContainer;if(od(i)){i=i.parentNode;}const n=new kh(i.getBoundingClientRect());n.right=n.left;n.width=0;t.push(n);}return t}}function yh(e,t){for(const i of vh){e[i]=t[i];}}function xh(e){if(!Js(e)){return false}return e===e.ownerDocument.body}const Ah={};function Ch({target:e,viewportOffset:t=0}){const i=Nh(e);let n=i;let o=null;while(n){let s;if(n==i){s=Rh(e);}else {s=Rh(o);}Eh(s,()=>Lh(e,n));const r=Lh(e,n);Mh(n,r,t);if(n.parent!=n){o=n.frameElement;n=n.parent;if(!o){return}}else {n=null;}}}function Th(e){const t=Rh(e);Eh(t,()=>new kh(e));}Object.assign(Ah,{scrollViewportToShowTarget:Ch,scrollAncestorsToShowTarget:Th});function Mh(e,t,i){const n=t.clone().moveBy(0,i);const o=t.clone().moveBy(0,-i);const s=new kh(e).excludeScrollbarsAndBorders();const r=[o,n];if(!r.every(e=>s.contains(e))){let{scrollX:r,scrollY:a}=e;if(Sh(o,s)){a-=s.top-t.top+i;}else if(Ph(n,s)){a+=t.bottom-s.bottom+i;}if(Ih(t,s)){r-=s.left-t.left+i;}else if(Oh(t,s)){r+=t.right-s.right+i;}e.scrollTo(r,a);}}function Eh(e,t){const i=Nh(e);let n,o;while(e!=i.document.body){o=t();n=new kh(e).excludeScrollbarsAndBorders();if(!n.contains(o)){if(Sh(o,n)){e.scrollTop-=n.top-o.top;}else if(Ph(o,n)){e.scrollTop+=o.bottom-n.bottom;}if(Ih(o,n)){e.scrollLeft-=n.left-o.left;}else if(Oh(o,n)){e.scrollLeft+=o.right-n.right;}}e=e.parentNode;}}function Ph(e,t){return e.bottom>t.bottom}function Sh(e,t){return e.top<t.top}function Ih(e,t){return e.left<t.left}function Oh(e,t){return e.right>t.right}function Nh(e){if(wh(e)){return e.startContainer.ownerDocument.defaultView}else {return e.ownerDocument.defaultView}}function Rh(e){if(wh(e)){let t=e.commonAncestorContainer;if(od(t)){t=t.parentNode;}return t}else {return e.parentNode}}function Lh(e,t){const i=Nh(e);const n=new kh(e);if(i===t){return n}else {let e=i;while(e!=t){const t=e.frameElement;const i=new kh(t).excludeScrollbarsAndBorders();n.moveBy(i.left,i.top);e=e.parent;}}return n}class Dh{constructor(e){this.document=new bl(e);this.domConverter=new jd(this.document);this.domRoots=new Map;this.set("isRenderingInProgress",false);this.set("hasDomSelection",false);this._renderer=new Ad(this.domConverter,this.document.selection);this._renderer.bind("isFocused").to(this.document);this._initialDomRootAttributes=new WeakMap;this._observers=new Map;this._ongoingChange=false;this._postFixersInProgress=false;this._renderingDisabled=false;this._hasChangedSinceTheLastRendering=false;this._writer=new ql(this.document);this.addObserver(Yu);this.addObserver(mh);this.addObserver(gh);this.addObserver(Qu);this.addObserver(hh);this.addObserver(ph);if(Tl.isAndroid){this.addObserver(bh);}hd(this);Fl(this);this.on("render",()=>{this._render();this.document.fire("layoutChanged");this._hasChangedSinceTheLastRendering=false;});this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=true;});}attachDomRoot(e,t="main"){const i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();const n={};for(const{name:t,value:o}of Array.from(e.attributes)){n[t]=o;if(t==="class"){this._writer.addClass(o.split(" "),i);}else {this._writer.setAttribute(t,o,i);}}this._initialDomRootAttributes.set(e,n);const o=()=>{this._writer.setAttribute("contenteditable",!i.isReadOnly,i);if(i.isReadOnly){this._writer.addClass("ck-read-only",i);}else {this._writer.removeClass("ck-read-only",i);}};o();this.domRoots.set(t,e);this.domConverter.bindElements(e,i);this._renderer.markToSync("children",i);this._renderer.markToSync("attributes",i);this._renderer.domDocuments.add(e.ownerDocument);i.on("change:children",(e,t)=>this._renderer.markToSync("children",t));i.on("change:attributes",(e,t)=>this._renderer.markToSync("attributes",t));i.on("change:text",(e,t)=>this._renderer.markToSync("text",t));i.on("change:isReadOnly",()=>this.change(o));i.on("change",()=>{this._hasChangedSinceTheLastRendering=true;});for(const i of this._observers.values()){i.observe(e,t);}}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach(({name:e})=>t.removeAttribute(e));const i=this._initialDomRootAttributes.get(t);for(const e in i){t.setAttribute(e,i[e]);}this.domRoots.delete(e);this.domConverter.unbindDomElement(t);}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t){return t}t=new e(this);this._observers.set(e,t);for(const[e,i]of this.domRoots){t.observe(i,e);}t.enable();return t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values()){e.disable();}}enableObservers(){for(const e of this._observers.values()){e.enable();}}scrollToTheSelection(){const e=this.document.selection.getFirstRange();if(e){Ch({target:this.domConverter.viewRangeToDom(e),viewportOffset:20});}}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;if(e){this.domConverter.focus(e);this.forceRender();}}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress){throw new rr["b"]("cannot-change-view-tree: "+"Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. "+"This may cause some unexpected behavior and inconsistency between the DOM and the view.",this)}try{if(this._ongoingChange){return e(this._writer)}this._ongoingChange=true;const t=e(this._writer);this._ongoingChange=false;if(!this._renderingDisabled&&this._hasChangedSinceTheLastRendering){this._postFixersInProgress=true;this.document._callPostFixers(this._writer);this._postFixersInProgress=false;this.fire("render");}return t}catch(e){rr["b"].rethrowUnexpectedError(e,this);}}forceRender(){this._hasChangedSinceTheLastRendering=true;this.change(()=>{});}destroy(){for(const e of this._observers.values()){e.destroy();}this.document.destroy();this.stopListening();}createPositionAt(e,t){return ul._createAt(e,t)}createPositionAfter(e){return ul._createAfter(e)}createPositionBefore(e){return ul._createBefore(e)}createRange(e,t){return new hl(e,t)}createRangeOn(e){return hl._createOn(e)}createRangeIn(e){return hl._createIn(e)}createSelection(e,t,i){return new gl(e,t,i)}_disableRendering(e){this._renderingDisabled=e;if(e==false){this.change(()=>{});}}_render(){this.isRenderingInProgress=true;this.disableObservers();this._renderer.render();this.enableObservers();this.isRenderingInProgress=false;}}yr(Dh,Qc);class jh{constructor(e){this.parent=null;this._attrs=Ur(e);}get index(){let e;if(!this.parent){return null}if((e=this.parent.getChildIndex(this))===null){throw new rr["b"]("model-node-not-found-in-parent: The node's parent does not contain this node.",this)}return e}get startOffset(){let e;if(!this.parent){return null}if((e=this.parent.getChildStartOffset(this))===null){throw new rr["b"]("model-node-not-found-in-parent: The node's parent does not contain this node.",this)}return e}get offsetSize(){return 1}get endOffset(){if(!this.parent){return null}return this.startOffset+this.offsetSize}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;while(e.parent){e=e.parent;}return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;while(t.parent){e.unshift(t.startOffset);t=t.parent;}return e}getAncestors(e={includeSelf:false,parentFirst:false}){const t=[];let i=e.includeSelf?this:this.parent;while(i){t[e.parentFirst?"push":"unshift"](i);i=i.parent;}return t}getCommonAncestor(e,t={}){const i=this.getAncestors(t);const n=e.getAncestors(t);let o=0;while(i[o]==n[o]&&i[o]){o++;}return o===0?null:i[o-1]}isBefore(e){if(this==e){return false}if(this.root!==e.root){return false}const t=this.getPath();const i=e.getPath();const n=Lr(t,i);switch(n){case"prefix":return true;case"extension":return false;default:return t[n]<i[n]}}isAfter(e){if(this==e){return false}if(this.root!==e.root){return false}return !this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};if(this._attrs.size){e.attributes=Array.from(this._attrs).reduce((e,t)=>{e[t[0]]=t[1];return e},{});}return e}is(e){return e==="node"||e==="model:node"}_clone(){return new jh(this._attrs)}_remove(){this.parent._removeChildren(this.index);}_setAttribute(e,t){this._attrs.set(e,t);}_setAttributesTo(e){this._attrs=Ur(e);}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear();}}class zh extends jh{constructor(e,t){super(t);this._data=e||"";}get offsetSize(){return this.data.length}get data(){return this._data}is(e){return e==="text"||e==="model:text"||e==="node"||e==="model:node"}toJSON(){const e=super.toJSON();e.data=this.data;return e}_clone(){return new zh(this.data,this.getAttributes())}static fromJSON(e){return new zh(e.data,e.attributes)}}class Bh{constructor(e,t,i){this.textNode=e;if(t<0||t>e.offsetSize){throw new rr["b"]("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this)}if(i<0||t+i>e.offsetSize){throw new rr["b"]("model-textproxy-wrong-length: Given length value is incorrect.",this)}this.data=e.data.substring(t,t+i);this.offsetInText=t;}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(e){return e==="textProxy"||e==="model:textProxy"}getPath(){const e=this.textNode.getPath();if(e.length>0){e[e.length-1]+=this.offsetInText;}return e}getAncestors(e={includeSelf:false,parentFirst:false}){const t=[];let i=e.includeSelf?this:this.parent;while(i){t[e.parentFirst?"push":"unshift"](i);i=i.parent;}return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class Vh{constructor(e){this._nodes=[];if(e){this._insertNodes(0,e);}}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,t)=>e+t.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return t==-1?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return t===null?null:this._nodes.slice(0,t).reduce((e,t)=>e+t.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length){return this.maxOffset}const t=this._nodes[e];if(!t){throw new rr["b"]("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this)}return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const i of this._nodes){if(e>=t&&e<t+i.offsetSize){return this.getNodeIndex(i)}t+=i.offsetSize;}if(t!=e){throw new rr["b"]("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:e,nodeList:this})}return this.length}_insertNodes(e,t){for(const e of t){if(!(e instanceof jh)){throw new rr["b"]("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this)}}this._nodes.splice(e,0,...t);}_removeNodes(e,t=1){return this._nodes.splice(e,t)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class Fh extends jh{constructor(e,t,i){super(t);this.name=e;this._children=new Vh;if(i){this._insertChild(0,i);}}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}is(e,t=null){if(!t){return e==="element"||e==="model:element"||e===this.name||e==="model:"+this.name||e==="node"||e==="model:node"}return t===this.name&&(e==="element"||e==="model:element")}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const i of e){t=t.getChild(t.offsetToIndex(i));}return t}toJSON(){const e=super.toJSON();e.name=this.name;if(this._children.length>0){e.children=[];for(const t of this._children){e.children.push(t.toJSON());}}return e}_clone(e=false){const t=e?Array.from(this._children).map(e=>e._clone(true)):null;return new Fh(this.name,this.getAttributes(),t)}_appendChild(e){this._insertChild(this.childCount,e);}_insertChild(e,t){const i=Hh(t);for(const e of i){if(e.parent!==null){e._remove();}e.parent=this;}this._children._insertNodes(e,i);}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const e of i){e.parent=null;}return i}static fromJSON(e){let t=null;if(e.children){t=[];for(const i of e.children){if(i.name){t.push(Fh.fromJSON(i));}else {t.push(zh.fromJSON(i));}}}return new Fh(e.name,e.attributes,t)}}function Hh(e){if(typeof e=="string"){return [new zh(e)]}if(!kr(e)){e=[e];}return Array.from(e).map(e=>{if(typeof e=="string"){return new zh(e)}if(e instanceof Bh){return new zh(e.data,e.getAttributes())}return e})}class Uh{constructor(e={}){if(!e.boundaries&&!e.startPosition){throw new rr["b"]("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null)}const t=e.direction||"forward";if(t!="forward"&&t!="backward"){throw new rr["b"]("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",e,{direction:t})}this.direction=t;this.boundaries=e.boundaries||null;if(e.startPosition){this.position=e.startPosition.clone();}else {this.position=$h._createAt(this.boundaries[this.direction=="backward"?"end":"start"]);}this.position.stickiness="toNone";this.singleCharacters=!!e.singleCharacters;this.shallow=!!e.shallow;this.ignoreElementEnd=!!e.ignoreElementEnd;this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null;this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null;this._visitedParent=this.position.parent;}[Symbol.iterator](){return this}skip(e){let t,i,n,o;do{n=this.position;o=this._visitedParent;({done:t,value:i}=this.next());}while(!t&&e(i));if(!t){this.position=n;this._visitedParent=o;}}next(){if(this.direction=="forward"){return this._next()}else {return this._previous()}}_next(){const e=this.position;const t=this.position.clone();const i=this._visitedParent;if(i.parent===null&&t.offset===i.maxOffset){return {done:true}}if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset){return {done:true}}const n=t.parent;const o=qh(t,n);const s=o?o:Yh(t,n,o);if(s instanceof Fh){if(!this.shallow){t.path.push(0);this._visitedParent=s;}else {t.offset++;}this.position=t;return Wh("elementStart",s,e,t,1)}else if(s instanceof zh){let n;if(this.singleCharacters){n=1;}else {let e=s.endOffset;if(this._boundaryEndParent==i&&this.boundaries.end.offset<e){e=this.boundaries.end.offset;}n=e-t.offset;}const o=t.offset-s.startOffset;const r=new Bh(s,o,n);t.offset+=n;this.position=t;return Wh("text",r,e,t,n)}else {t.path.pop();t.offset++;this.position=t;this._visitedParent=i.parent;if(this.ignoreElementEnd){return this._next()}else {return Wh("elementEnd",i,e,t)}}}_previous(){const e=this.position;const t=this.position.clone();const i=this._visitedParent;if(i.parent===null&&t.offset===0){return {done:true}}if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset){return {done:true}}const n=t.parent;const o=qh(t,n);const s=o?o:Jh(t,n,o);if(s instanceof Fh){t.offset--;if(!this.shallow){t.path.push(s.maxOffset);this.position=t;this._visitedParent=s;if(this.ignoreElementEnd){return this._previous()}else {return Wh("elementEnd",s,e,t)}}else {this.position=t;return Wh("elementStart",s,e,t,1)}}else if(s instanceof zh){let n;if(this.singleCharacters){n=1;}else {let e=s.startOffset;if(this._boundaryStartParent==i&&this.boundaries.start.offset>e){e=this.boundaries.start.offset;}n=t.offset-e;}const o=t.offset-s.startOffset;const r=new Bh(s,o-n,n);t.offset-=n;this.position=t;return Wh("text",r,e,t,n)}else {t.path.pop();this.position=t;this._visitedParent=i.parent;return Wh("elementStart",i,e,t,1)}}}function Wh(e,t,i,n,o){return {done:false,value:{type:e,item:t,previousPosition:i,nextPosition:n,length:o}}}class $h{constructor(e,t,i="toNone"){if(!e.is("element")&&!e.is("documentFragment")){throw new rr["b"]("model-position-root-invalid: Position root invalid.",e)}if(!(t instanceof Array)||t.length===0){throw new rr["b"]("model-position-path-incorrect-format: Position path must be an array with at least one item.",e,{path:t})}if(e.is("rootElement")){t=t.slice();}else {t=[...e.getPath(),...t];e=e.root;}this.root=e;this.path=t;this.stickiness=i;}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e;}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++){e=e.getChild(e.offsetToIndex(this.path[t]));if(!e){throw new rr["b"]("model-position-path-incorrect: The position's path is incorrect.",this,{position:this})}}if(e.is("text")){throw new rr["b"]("model-position-path-incorrect: The position's path is incorrect.",this,{position:this})}return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return qh(this,this.parent)}get nodeAfter(){const e=this.parent;return Yh(this,e,qh(this,e))}get nodeBefore(){const e=this.parent;return Jh(this,e,qh(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root){return "different"}const t=Lr(this.path,e.path);switch(t){case"same":return "same";case"prefix":return "before";case"extension":return "after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e,t={}){t.startPosition=this;const i=new Uh(t);i.skip(e);return i.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;if(e.is("documentFragment")){return [e]}else {return e.getAncestors({includeSelf:true})}}getCommonPath(e){if(this.root!=e.root){return []}const t=Lr(this.path,e.path);const i=typeof t=="string"?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,i)}getCommonAncestor(e){const t=this.getAncestors();const i=e.getAncestors();let n=0;while(t[n]==i[n]&&t[n]){n++;}return n===0?null:t[n-1]}getShiftedBy(e){const t=this.clone();const i=t.offset+e;t.offset=i<0?0:i;return t}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){let t=null;let i=null;const n=this.compareWith(e);switch(n){case"same":return true;case"before":t=$h._createAt(this);i=$h._createAt(e);break;case"after":t=$h._createAt(e);i=$h._createAt(this);break;default:return false}let o=t.parent;while(t.path.length+i.path.length){if(t.isEqual(i)){return true}if(t.path.length>i.path.length){if(t.offset!==o.maxOffset){return false}t.path=t.path.slice(0,-1);o=o.parent;t.offset++;}else {if(i.offset!==0){return false}i.path=i.path.slice(0,-1);}}}is(e){return e==="position"||e==="model:position"}hasSameParentAs(e){if(this.root!==e.root){return false}const t=this.getParentPath();const i=e.getParentPath();return Lr(t,i)=="same"}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=$h._createAt(this);break}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;const i=t.containsPosition(this)||t.start.isEqual(this)&&this.stickiness=="toNext";if(i){return this._getCombined(e.splitPosition,e.moveTargetPosition)}else {if(e.graveyardPosition){return this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1)}else {return this._getTransformedByInsertion(e.insertionPosition,1)}}}_getTransformedByMergeOperation(e){const t=e.movedRange;const i=t.containsPosition(this)||t.start.isEqual(this);let n;if(i){n=this._getCombined(e.sourcePosition,e.targetPosition);if(e.sourcePosition.isBefore(e.targetPosition)){n=n._getTransformedByDeletion(e.deletionPosition,1);}}else if(this.isEqual(e.deletionPosition)){n=$h._createAt(e.deletionPosition);}else {n=this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1);}return n}_getTransformedByDeletion(e,t){const i=$h._createAt(this);if(this.root!=e.root){return i}if(Lr(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+t>this.offset){return null}else {i.offset-=t;}}}else if(Lr(e.getParentPath(),this.getParentPath())=="prefix"){const n=e.path.length-1;if(e.offset<=this.path[n]){if(e.offset+t>this.path[n]){return null}else {i.path[n]-=t;}}}return i}_getTransformedByInsertion(e,t){const i=$h._createAt(this);if(this.root!=e.root){return i}if(Lr(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious"){i.offset+=t;}}else if(Lr(e.getParentPath(),this.getParentPath())=="prefix"){const n=e.path.length-1;if(e.offset<=this.path[n]){i.path[n]+=t;}}return i}_getTransformedByMove(e,t,i){t=t._getTransformedByDeletion(e,i);if(e.isEqual(t)){return $h._createAt(this)}const n=this._getTransformedByDeletion(e,i);const o=n===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(i).isEqual(this)&&this.stickiness=="toPrevious";if(o){return this._getCombined(e,t)}else {return n._getTransformedByInsertion(t,i)}}_getCombined(e,t){const i=e.path.length-1;const n=$h._createAt(t);n.stickiness=this.stickiness;n.offset=n.offset+this.path[i]-e.offset;n.path=[...n.path,...this.path.slice(i+1)];return n}toJSON(){return {root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t,i="toNone"){if(e instanceof $h){return new $h(e.root,e.path,e.stickiness)}else {const n=e;if(t=="end"){t=n.maxOffset;}else if(t=="before"){return this._createBefore(n,i)}else if(t=="after"){return this._createAfter(n,i)}else if(t!==0&&!t){throw new rr["b"]("model-createPositionAt-offset-required: "+"Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,e])}if(!n.is("element")&&!n.is("documentFragment")){throw new rr["b"]("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,e])}const o=n.getPath();o.push(t);return new this(n.root,o,i)}}static _createAfter(e,t){if(!e.parent){throw new rr["b"]("model-position-after-root: You cannot make a position after root.",[this,e],{root:e})}return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent){throw new rr["b"]("model-position-before-root: You cannot make a position before root.",e,{root:e})}return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if(e.root==="$graveyard"){const i=new $h(t.graveyard,e.path);i.stickiness=e.stickiness;return i}if(!t.getRoot(e.root)){throw new rr["b"]("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",t,{rootName:e.root})}return new $h(t.getRoot(e.root),e.path,e.stickiness)}}function qh(e,t){const i=t.getChild(t.offsetToIndex(e.offset));if(i&&i.is("text")&&i.startOffset<e.offset){return i}return null}function Yh(e,t,i){if(i!==null){return null}return t.getChild(t.offsetToIndex(e.offset))}function Jh(e,t,i){if(i!==null){return null}return t.getChild(t.offsetToIndex(e.offset)-1)}class Gh{constructor(e,t=null){this.start=$h._createAt(e);this.end=t?$h._createAt(t):$h._createAt(e);this.start.stickiness=this.isCollapsed?"toNone":"toNext";this.end.stickiness=this.isCollapsed?"toNone":"toPrevious";}*[Symbol.iterator](){yield*new Uh({boundaries:this,ignoreElementEnd:true});}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){const e=this.start.getParentPath();const t=this.end.getParentPath();return Lr(e,t)=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,t=false){if(e.isCollapsed){t=false;}const i=this.containsPosition(e.start)||t&&this.start.isEqual(e.start);const n=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return i&&n}containsItem(e){const t=$h._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}is(e){return e==="range"||e==="model:range"}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];if(this.isIntersecting(e)){if(this.containsPosition(e.start)){t.push(new Gh(this.start,e.start));}if(this.containsPosition(e.end)){t.push(new Gh(e.end,this.end));}}else {t.push(new Gh(this.start,this.end));}return t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start;let i=this.end;if(this.containsPosition(e.start)){t=e.start;}if(this.containsPosition(e.end)){i=e.end;}return new Gh(t,i)}return null}getMinimalFlatRanges(){const e=[];const t=this.start.getCommonPath(this.end).length;const i=$h._createAt(this.start);let n=i.parent;while(i.path.length>t+1){const t=n.maxOffset-i.offset;if(t!==0){e.push(new Gh(i,i.getShiftedBy(t)));}i.path=i.path.slice(0,-1);i.offset++;n=n.parent;}while(i.path.length<=this.end.path.length){const t=this.end.path[i.path.length-1];const n=t-i.offset;if(n!==0){e.push(new Gh(i,i.getShiftedBy(n)));}i.offset=t;i.path.push(0);}return e}getWalker(e={}){e.boundaries=this;return new Uh(e)}*getItems(e={}){e.boundaries=this;e.ignoreElementEnd=true;const t=new Uh(e);for(const e of t){yield e.item;}}*getPositions(e={}){e.boundaries=this;const t=new Uh(e);yield t.position;for(const e of t){yield e.nextPosition;}}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return [this._getTransformedBySplitOperation(e)];case"merge":return [this._getTransformedByMergeOperation(e)]}return [new Gh(this.start,this.end)]}getTransformedByOperations(e){const t=[new Gh(this.start,this.end)];for(const i of e){for(let e=0;e<t.length;e++){const n=t[e].getTransformedByOperation(i);t.splice(e,1,...n);e+=n.length-1;}}for(let e=0;e<t.length;e++){const i=t[e];for(let n=e+1;n<t.length;n++){const e=t[n];if(i.containsRange(e)||e.containsRange(i)||i.isEqual(e)){t.splice(n,1);}}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed){return null}const e=this.start.nodeAfter;const t=this.end.nodeBefore;if(e&&e.is("element")&&e===t){return e}return null}toJSON(){return {start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,t=false){return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e,t=false){const i=e.sourcePosition;const n=e.howMany;const o=e.targetPosition;return this._getTransformedByMove(i,o,n,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let i=this.end._getTransformedBySplitOperation(e);if(this.end.isEqual(e.insertionPosition)){i=this.end.getShiftedBy(1);}if(t.root!=i.root){i=this.end.getShiftedBy(-1);}return new Gh(t,i)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition)){return new Gh(this.start)}let t=this.start._getTransformedByMergeOperation(e);let i=this.end._getTransformedByMergeOperation(e);if(t.root!=i.root){i=this.end.getShiftedBy(-1);}if(t.isAfter(i)){if(e.sourcePosition.isBefore(e.targetPosition)){t=$h._createAt(i);t.offset=0;}else {if(!e.deletionPosition.isEqual(t)){i=e.deletionPosition;}t=e.targetPosition;}return new Gh(t,i)}return new Gh(t,i)}_getTransformedByInsertion(e,t,i=false){if(i&&this.containsPosition(e)){return [new Gh(this.start,e),new Gh(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))]}else {const i=new Gh(this.start,this.end);i.start=i.start._getTransformedByInsertion(e,t);i.end=i.end._getTransformedByInsertion(e,t);return [i]}}_getTransformedByMove(e,t,i,n=false){if(this.isCollapsed){const n=this.start._getTransformedByMove(e,t,i);return [new Gh(n)]}const o=Gh._createFromPositionAndShift(e,i);const s=t._getTransformedByDeletion(e,i);if(this.containsPosition(t)&&!n){if(o.containsPosition(this.start)||o.containsPosition(this.end)){const n=this.start._getTransformedByMove(e,t,i);const o=this.end._getTransformedByMove(e,t,i);return [new Gh(n,o)]}}let r;const a=this.getDifference(o);let c=null;const l=this.getIntersection(o);if(a.length==1){c=new Gh(a[0].start._getTransformedByDeletion(e,i),a[0].end._getTransformedByDeletion(e,i));}else if(a.length==2){c=new Gh(this.start,this.end._getTransformedByDeletion(e,i));}if(c){r=c._getTransformedByInsertion(s,i,l!==null||n);}else {r=[];}if(l){const e=new Gh(l.start._getCombined(o.start,s),l.end._getCombined(o.start,s));if(r.length==2){r.splice(1,0,e);}else {r.push(e);}}return r}_getTransformedByDeletion(e,t){let i=this.start._getTransformedByDeletion(e,t);let n=this.end._getTransformedByDeletion(e,t);if(i==null&&n==null){return null}if(i==null){i=e;}if(n==null){n=e;}return new Gh(i,n)}static _createFromPositionAndShift(e,t){const i=e;const n=e.getShiftedBy(t);return t>0?new this(i,n):new this(n,i)}static _createIn(e){return new this($h._createAt(e,0),$h._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift($h._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0){throw new rr["b"]("range-create-from-ranges-empty-array: At least one range has to be passed.",null)}else if(e.length==1){return e[0].clone()}const t=e[0];e.sort((e,t)=>e.start.isAfter(t.start)?1:-1);const i=e.indexOf(t);const n=new this(t.start,t.end);if(i>0){for(let t=i-1;true;t++){if(e[t].end.isEqual(n.start)){n.start=$h._createAt(e[t].start);}else {break}}}for(let t=i+1;t<e.length;t++){if(e[t].start.isEqual(n.end)){n.end=$h._createAt(e[t].end);}else {break}}return n}static fromJSON(e,t){return new this($h.fromJSON(e.start,t),$h.fromJSON(e.end,t))}}class Qh{constructor(){this._modelToViewMapping=new WeakMap;this._viewToModelMapping=new WeakMap;this._viewToModelLengthCallbacks=new Map;this._markerNameToElements=new Map;this._elementToMarkerNames=new Map;this._unboundMarkerNames=new Set;this.on("modelToViewPosition",(e,t)=>{if(t.viewPosition){return}const i=this._modelToViewMapping.get(t.modelPosition.parent);t.viewPosition=this._findPositionIn(i,t.modelPosition.offset);},{priority:"low"});this.on("viewToModelPosition",(e,t)=>{if(t.modelPosition){return}const i=this.findMappedViewAncestor(t.viewPosition);const n=this._viewToModelMapping.get(i);const o=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,i);t.modelPosition=$h._createAt(n,o);},{priority:"low"});}bindElements(e,t){this._modelToViewMapping.set(e,t);this._viewToModelMapping.set(t,e);}unbindViewElement(e){const t=this.toModelElement(e);this._viewToModelMapping.delete(e);if(this._elementToMarkerNames.has(e)){for(const t of this._elementToMarkerNames.get(e)){this._unboundMarkerNames.add(t);}}if(this._modelToViewMapping.get(t)==e){this._modelToViewMapping.delete(t);}}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e);if(this._viewToModelMapping.get(t)==e){this._viewToModelMapping.delete(t);}}bindElementToMarker(e,t){const i=this._markerNameToElements.get(t)||new Set;i.add(e);const n=this._elementToMarkerNames.get(e)||new Set;n.add(t);this._markerNameToElements.set(t,i);this._elementToMarkerNames.set(e,n);}unbindElementFromMarkerName(e,t){const i=this._markerNameToElements.get(t);if(i){i.delete(e);if(i.size==0){this._markerNameToElements.delete(t);}}const n=this._elementToMarkerNames.get(e);if(n){n.delete(t);if(n.size==0){this._elementToMarkerNames.delete(e);}}}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);this._unboundMarkerNames.clear();return e}clearBindings(){this._modelToViewMapping=new WeakMap;this._viewToModelMapping=new WeakMap;this._markerNameToElements=new Map;this._elementToMarkerNames=new Map;this._unboundMarkerNames=new Set;}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Gh(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new hl(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};this.fire("viewToModelPosition",t);return t.modelPosition}toViewPosition(e,t={isPhantom:false}){const i={modelPosition:e,mapper:this,isPhantom:t.isPhantom};this.fire("modelToViewPosition",i);return i.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t){return null}const i=new Set;for(const e of t){if(e.is("attributeElement")){for(const t of e.getElementsWithSameId()){i.add(t);}}else {i.add(e);}}return i}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t);}findMappedViewAncestor(e){let t=e.parent;while(!this._viewToModelMapping.has(t)){t=t.parent;}return t}_toModelOffset(e,t,i){if(i!=e){const n=this._toModelOffset(e.parent,e.index,i);const o=this._toModelOffset(e,t,e);return n+o}if(e.is("text")){return t}let n=0;for(let i=0;i<t;i++){n+=this.getModelLength(e.getChild(i));}return n}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name)){const t=this._viewToModelLengthCallbacks.get(e.name);return t(e)}else if(this._viewToModelMapping.has(e)){return 1}else if(e.is("text")){return e.data.length}else if(e.is("uiElement")){return 0}else {let t=0;for(const i of e.getChildren()){t+=this.getModelLength(i);}return t}}_findPositionIn(e,t){let i;let n=0;let o=0;let s=0;if(e.is("text")){return new ul(e,t)}while(o<t){i=e.getChild(s);n=this.getModelLength(i);o+=n;s++;}if(o==t){return this._moveViewPositionToTextNode(new ul(e,s))}else {return this._findPositionIn(i,t-(o-n))}}_moveViewPositionToTextNode(e){const t=e.nodeBefore;const i=e.nodeAfter;if(t instanceof Vr){return new ul(t,t.data.length)}else if(i instanceof Vr){return new ul(i,0)}return e}}yr(Qh,dr);class Xh{constructor(){this._consumable=new Map;this._textProxyRegistry=new Map;}add(e,t){t=Kh(t);if(e instanceof Bh){e=this._getSymbolForTextProxy(e);}if(!this._consumable.has(e)){this._consumable.set(e,new Map);}this._consumable.get(e).set(t,true);}consume(e,t){t=Kh(t);if(e instanceof Bh){e=this._getSymbolForTextProxy(e);}if(this.test(e,t)){this._consumable.get(e).set(t,false);return true}else {return false}}test(e,t){t=Kh(t);if(e instanceof Bh){e=this._getSymbolForTextProxy(e);}const i=this._consumable.get(e);if(i===undefined){return null}const n=i.get(t);if(n===undefined){return null}return n}revert(e,t){t=Kh(t);if(e instanceof Bh){e=this._getSymbolForTextProxy(e);}const i=this.test(e,t);if(i===false){this._consumable.get(e).set(t,true);return true}else if(i===true){return false}return null}_getSymbolForTextProxy(e){let t=null;const i=this._textProxyRegistry.get(e.startOffset);if(i){const n=i.get(e.endOffset);if(n){t=n.get(e.parent);}}if(!t){t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent);}return t}_addSymbolForTextProxy(e,t,i){const n=Symbol("textProxySymbol");let o,s;o=this._textProxyRegistry.get(e);if(!o){o=new Map;this._textProxyRegistry.set(e,o);}s=o.get(t);if(!s){s=new Map;o.set(t,s);}s.set(i,n);return n}}function Kh(e){const t=e.split(":");return t.length>1?t[0]+":"+t[1]:t[0]}class Zh{constructor(e){this.conversionApi=$c({dispatcher:this},e);}convertChanges(e,t,i){for(const t of e.getMarkersToRemove()){this.convertMarkerRemove(t.name,t.range,i);}for(const t of e.getChanges()){if(t.type=="insert"){this.convertInsert(Gh._createFromPositionAndShift(t.position,t.length),i);}else if(t.type=="remove"){this.convertRemove(t.position,t.length,t.name,i);}else {this.convertAttribute(t.range,t.attributeKey,t.attributeOldValue,t.attributeNewValue,i);}}for(const e of this.conversionApi.mapper.flushUnboundMarkerNames()){const n=t.get(e).getRange();this.convertMarkerRemove(e,n,i);this.convertMarkerAdd(e,n,i);}for(const t of e.getMarkersToAdd()){this.convertMarkerAdd(t.name,t.range,i);}}convertInsert(e,t){this.conversionApi.writer=t;this.conversionApi.consumable=this._createInsertConsumable(e);for(const t of e){const e=t.item;const i=Gh._createFromPositionAndShift(t.previousPosition,t.length);const n={item:e,range:i};this._testAndFire("insert",n);for(const t of e.getAttributeKeys()){n.attributeKey=t;n.attributeOldValue=null;n.attributeNewValue=e.getAttribute(t);this._testAndFire(`attribute:${t}`,n);}}this._clearConversionApi();}convertRemove(e,t,i,n){this.conversionApi.writer=n;this.fire("remove:"+i,{position:e,length:t},this.conversionApi);this._clearConversionApi();}convertAttribute(e,t,i,n,o){this.conversionApi.writer=o;this.conversionApi.consumable=this._createConsumableForRange(e,`attribute:${t}`);for(const o of e){const e=o.item;const s=Gh._createFromPositionAndShift(o.previousPosition,o.length);const r={item:e,range:s,attributeKey:t,attributeOldValue:i,attributeNewValue:n};this._testAndFire(`attribute:${t}`,r);}this._clearConversionApi();}convertSelection(e,t,i){const n=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));this.conversionApi.writer=i;this.conversionApi.consumable=this._createSelectionConsumable(e,n);this.fire("selection",{selection:e},this.conversionApi);if(!e.isCollapsed){return}for(const t of n){const i=t.getRange();if(!ef(e.getFirstPosition(),t,this.conversionApi.mapper)){continue}const n={item:e,markerName:t.name,markerRange:i};if(this.conversionApi.consumable.test(e,"addMarker:"+t.name)){this.fire("addMarker:"+t.name,n,this.conversionApi);}}for(const t of e.getAttributeKeys()){const i={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};if(this.conversionApi.consumable.test(e,"attribute:"+i.attributeKey)){this.fire("attribute:"+i.attributeKey+":$text",i,this.conversionApi);}}this._clearConversionApi();}convertMarkerAdd(e,t,i){if(!t.root.document||t.root.rootName=="$graveyard"){return}this.conversionApi.writer=i;const n="addMarker:"+e;const o=new Xh;o.add(t,n);this.conversionApi.consumable=o;this.fire(n,{markerName:e,markerRange:t},this.conversionApi);if(!o.test(t,n)){return}this.conversionApi.consumable=this._createConsumableForRange(t,n);for(const i of t.getItems()){if(!this.conversionApi.consumable.test(i,n)){continue}const o={item:i,range:Gh._createOn(i),markerName:e,markerRange:t};this.fire(n,o,this.conversionApi);}this._clearConversionApi();}convertMarkerRemove(e,t,i){if(!t.root.document||t.root.rootName=="$graveyard"){return}this.conversionApi.writer=i;this.fire("removeMarker:"+e,{markerName:e,markerRange:t},this.conversionApi);this._clearConversionApi();}_createInsertConsumable(e){const t=new Xh;for(const i of e){const e=i.item;t.add(e,"insert");for(const i of e.getAttributeKeys()){t.add(e,"attribute:"+i);}}return t}_createConsumableForRange(e,t){const i=new Xh;for(const n of e.getItems()){i.add(n,t);}return i}_createSelectionConsumable(e,t){const i=new Xh;i.add(e,"selection");for(const n of t){i.add(e,"addMarker:"+n.name);}for(const t of e.getAttributeKeys()){i.add(e,"attribute:"+t);}return i}_testAndFire(e,t){if(!this.conversionApi.consumable.test(t.item,e)){return}const i=t.item.name||"$text";this.fire(e+":"+i,t,this.conversionApi);}_clearConversionApi(){delete this.conversionApi.writer;delete this.conversionApi.consumable;}}yr(Zh,dr);function ef(e,t,i){const n=t.getRange();const o=Array.from(e.getAncestors());o.shift();o.reverse();const s=o.some(e=>{if(n.containsItem(e)){const t=i.toViewElement(e);return !!t.getCustomProperty("addHighlight")}});return !s}class tf{constructor(e,t,i){this._lastRangeBackward=false;this._ranges=[];this._attrs=new Map;if(e){this.setTo(e,t,i);}}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){const e=this._ranges.length;if(e===1){return this._ranges[0].isCollapsed}else {return false}}get rangeCount(){return this._ranges.length}get isBackward(){return !this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount){return false}else if(this.rangeCount===0){return true}if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus)){return false}for(const t of this._ranges){let i=false;for(const n of e._ranges){if(t.isEqual(n)){i=true;break}}if(!i){return false}}return true}*getRanges(){for(const e of this._ranges){yield new Gh(e.start,e.end);}}getFirstRange(){let e=null;for(const t of this._ranges){if(!e||t.start.isBefore(e.start)){e=t;}}return e?new Gh(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges){if(!e||t.end.isAfter(e.end)){e=t;}}return e?new Gh(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(e,t,i){if(e===null){this._setRanges([]);}else if(e instanceof tf){this._setRanges(e.getRanges(),e.isBackward);}else if(e&&typeof e.getRanges=="function"){this._setRanges(e.getRanges(),e.isBackward);}else if(e instanceof Gh){this._setRanges([e],!!t&&!!t.backward);}else if(e instanceof $h){this._setRanges([new Gh(e)]);}else if(e instanceof jh){const n=!!i&&!!i.backward;let o;if(t=="in"){o=Gh._createIn(e);}else if(t=="on"){o=Gh._createOn(e);}else if(t!==undefined){o=new Gh($h._createAt(e,t));}else {throw new rr["b"]("model-selection-setTo-required-second-parameter: "+"selection.setTo requires the second parameter when the first parameter is a node.",[this,e])}this._setRanges([o],n);}else if(kr(e)){this._setRanges(e,t&&!!t.backward);}else {throw new rr["b"]("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,e])}}_setRanges(e,t=false){e=Array.from(e);const i=e.some(t=>{if(!(t instanceof Gh)){throw new rr["b"]("model-selection-set-ranges-not-range: "+"Selection range set to an object that is not an instance of model.Range.",[this,e])}return this._ranges.every(e=>!e.isEqual(t))});if(e.length===this._ranges.length&&!i){return}this._removeAllRanges();for(const t of e){this._pushRange(t);}this._lastRangeBackward=!!t;this.fire("change:range",{directChange:true});}setFocus(e,t){if(this.anchor===null){throw new rr["b"]("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,e])}const i=$h._createAt(e,t);if(i.compareWith(this.focus)=="same"){return}const n=this.anchor;if(this._ranges.length){this._popRange();}if(i.compareWith(n)=="before"){this._pushRange(new Gh(i,n));this._lastRangeBackward=true;}else {this._pushRange(new Gh(n,i));this._lastRangeBackward=false;}this.fire("change:range",{directChange:true});}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){if(this.hasAttribute(e)){this._attrs.delete(e);this.fire("change:attribute",{attributeKeys:[e],directChange:true});}}setAttribute(e,t){if(this.getAttribute(e)!==t){this._attrs.set(e,t);this.fire("change:attribute",{attributeKeys:[e],directChange:true});}}getSelectedElement(){if(this.rangeCount!==1){return null}return this.getFirstRange().getContainedElement()}is(e){return e==="selection"||e==="model:selection"}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const i=sf(t.start,e);if(i&&rf(i,t)){yield i;}for(const i of t.getWalker()){const n=i.item;if(i.type=="elementEnd"&&of(n,e,t)){yield n;}}const n=sf(t.end,e);if(n&&!t.end.isTouching($h._createAt(n,0))&&rf(n,t)){yield n;}}}containsEntireContent(e=this.anchor.root){const t=$h._createAt(e,0);const i=$h._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&i.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e);this._ranges.push(new Gh(e.start,e.end));}_checkRange(e){for(let t=0;t<this._ranges.length;t++){if(e.isIntersecting(this._ranges[t])){throw new rr["b"]("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}}}_removeAllRanges(){while(this._ranges.length>0){this._popRange();}}_popRange(){this._ranges.pop();}}yr(tf,dr);function nf(e,t){if(t.has(e)){return false}t.add(e);return e.root.document.model.schema.isBlock(e)&&e.parent}function of(e,t,i){return nf(e,t)&&rf(e,i)}function sf(e,t){const i=e.parent;const n=i.root.document.model.schema;const o=e.parent.getAncestors({parentFirst:true,includeSelf:true});let s=false;const r=o.find(e=>{if(s){return false}s=n.isLimit(e);return !s&&nf(e,t)});o.forEach(e=>t.add(e));return r}function rf(e,t){const i=af(e);if(!i){return true}const n=t.containsRange(Gh._createOn(i),true);return !n}function af(e){const t=e.root.document.model.schema;let i=e.parent;while(i){if(t.isBlock(i)){return i}i=i.parent;}}class cf extends Gh{constructor(e,t){super(e,t);lf.call(this);}detach(){this.stopListening();}is(e){return e==="liveRange"||e==="model:liveRange"||e=="range"||e==="model:range"}toRange(){return new Gh(this.start,this.end)}static fromRange(e){return new cf(e.start,e.end)}}function lf(){this.listenTo(this.root.document.model,"applyOperation",(e,t)=>{const i=t[0];if(!i.isDocumentOperation){return}df.call(this,i);},{priority:"low"});}function df(e){const t=this.getTransformedByOperation(e);const i=Gh._createFromRanges(t);const n=!i.isEqual(this);const o=uf(this,e);let s=null;if(n){if(i.root.rootName=="$graveyard"){if(e.type=="remove"){s=e.sourcePosition;}else {s=e.deletionPosition;}}const t=this.toRange();this.start=i.start;this.end=i.end;this.fire("change:range",t,{deletionPosition:s});}else if(o){this.fire("change:content",this.toRange(),{deletionPosition:s});}}function uf(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return false}yr(cf,dr);const hf="selection:";class ff{constructor(e){this._selection=new mf(e);this._selection.delegate("change:range").to(this);this._selection.delegate("change:attribute").to(this);this._selection.delegate("change:marker").to(this);}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy();}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection._updateMarkers();this._selection._updateAttributes(false);}is(e){return e==="selection"||e=="model:selection"||e=="documentSelection"||e=="model:documentSelection"}_setFocus(e,t){this._selection.setFocus(e,t);}_setTo(e,t,i){this._selection.setTo(e,t,i);}_setAttribute(e,t){this._selection.setAttribute(e,t);}_removeAttribute(e){this._selection.removeAttribute(e);}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e);}static _getStoreAttributeKey(e){return hf+e}static _isStoreAttributeKey(e){return e.startsWith(hf)}}yr(ff,dr);class mf extends tf{constructor(e){super();this.markers=new xr({idProperty:"name"});this._model=e.model;this._document=e;this._attributePriority=new Map;this._fixGraveyardRangesData=[];this._hasChangedRange=false;this._overriddenGravityRegister=new Set;this.listenTo(this._model,"applyOperation",(e,t)=>{const i=t[0];if(!i.isDocumentOperation||i.type=="marker"||i.type=="rename"||i.type=="noop"){return}while(this._fixGraveyardRangesData.length){const{liveRange:e,sourcePosition:t}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(e,t);}if(this._hasChangedRange){this._hasChangedRange=false;this.fire("change:range",{directChange:false});}},{priority:"lowest"});this.on("change:range",()=>{for(const e of this.getRanges()){if(!this._document._validateSelectionRange(e)){throw new rr["b"]("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",this,{range:e})}}});this.listenTo(this._model.markers,"update",()=>this._updateMarkers());this.listenTo(this._document,"change",(e,t)=>{pf(this._model,t);});}get isCollapsed(){const e=this._ranges.length;return e===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return !!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++){this._ranges[e].detach();}this.stopListening();}*getRanges(){if(this._ranges.length){yield*super.getRanges();}else {yield this._document._getDefaultRange();}}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(e,t,i){super.setTo(e,t,i);this._updateAttributes(true);this._updateMarkers();}setFocus(e,t){super.setFocus(e,t);this._updateAttributes(true);this._updateMarkers();}setAttribute(e,t){if(this._setAttribute(e,t)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:true});}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:true});}}overrideGravity(){const e=ir();this._overriddenGravityRegister.add(e);if(this._overriddenGravityRegister.size===1){this._updateAttributes(true);}return e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e)){throw new rr["b"]("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:e})}this._overriddenGravityRegister.delete(e);if(!this.isGravityOverridden){this._updateAttributes(true);}}_popRange(){this._ranges.pop().detach();}_pushRange(e){const t=this._prepareRange(e);if(t){this._ranges.push(t);}}_prepareRange(e){this._checkRange(e);if(e.root==this._document.graveyard){return}const t=cf.fromRange(e);t.on("change:range",(e,i,n)=>{this._hasChangedRange=true;if(t.root==this._document.graveyard){this._fixGraveyardRangesData.push({liveRange:t,sourcePosition:n.deletionPosition});}});return t}_updateMarkers(){const e=[];let t=false;for(const t of this._model.markers){const i=t.getRange();for(const n of this.getRanges()){if(i.containsRange(n,!n.isCollapsed)){e.push(t);}}}const i=Array.from(this.markers);for(const i of e){if(!this.markers.has(i)){this.markers.add(i);t=true;}}for(const i of Array.from(this.markers)){if(!e.includes(i)){this.markers.remove(i);t=true;}}if(t){this.fire("change:marker",{oldMarkers:i,directChange:false});}}_updateAttributes(e){const t=Ur(this._getSurroundingAttributes());const i=Ur(this.getAttributes());if(e){this._attributePriority=new Map;this._attrs=new Map;}else {for(const[e,t]of this._attributePriority){if(t=="low"){this._attrs.delete(e);this._attributePriority.delete(e);}}}this._setAttributesTo(t);const n=[];for(const[e,t]of this.getAttributes()){if(!i.has(e)||i.get(e)!==t){n.push(e);}}for(const[e]of i){if(!this.hasAttribute(e)){n.push(e);}}if(n.length>0){this.fire("change:attribute",{attributeKeys:n,directChange:false});}}_setAttribute(e,t,i=true){const n=i?"normal":"low";if(n=="low"&&this._attributePriority.get(e)=="normal"){return false}const o=super.getAttribute(e);if(o===t){return false}this._attrs.set(e,t);this._attributePriority.set(e,n);return true}_removeAttribute(e,t=true){const i=t?"normal":"low";if(i=="low"&&this._attributePriority.get(e)=="normal"){return false}this._attributePriority.set(e,i);if(!super.hasAttribute(e)){return false}this._attrs.delete(e);return true}_setAttributesTo(e){const t=new Set;for(const[t,i]of this.getAttributes()){if(e.get(t)===i){continue}this._removeAttribute(t,false);}for(const[i,n]of e){const e=this._setAttribute(i,n,false);if(e){t.add(i);}}return t}*_getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty){for(const t of e.getAttributeKeys()){if(t.startsWith(hf)){const i=t.substr(hf.length);yield [i,e.getAttribute(t)];}}}}_getSurroundingAttributes(){const e=this.getFirstPosition();const t=this._model.schema;let i=null;if(!this.isCollapsed){const e=this.getFirstRange();for(const n of e){if(n.item.is("element")&&t.isObject(n.item)){break}if(n.type=="text"){i=n.item.getAttributes();break}}}else {const t=e.textNode?e.textNode:e.nodeBefore;const n=e.textNode?e.textNode:e.nodeAfter;if(!this.isGravityOverridden){i=gf(t);}if(!i){i=gf(n);}if(!this.isGravityOverridden&&!i){let e=t;while(e&&!i){e=e.previousSibling;i=gf(e);}}if(!i){let e=n;while(e&&!i){e=e.nextSibling;i=gf(e);}}if(!i){i=this._getStoredAttributes();}}return i}_fixGraveyardSelection(e,t){const i=t.clone();const n=this._model.schema.getNearestSelectionRange(i);const o=this._ranges.indexOf(e);this._ranges.splice(o,1);e.detach();if(n&&!bf(n,this)){const e=this._prepareRange(n);this._ranges.splice(o,0,e);}}}function gf(e){if(e instanceof Bh||e instanceof zh){return e.getAttributes()}return null}function pf(e,t){const i=e.document.differ;for(const n of i.getChanges()){if(n.type!="insert"){continue}const i=n.position.parent;const o=n.length===i.maxOffset;if(o){e.enqueueChange(t,e=>{const t=Array.from(i.getAttributeKeys()).filter(e=>e.startsWith(hf));for(const n of t){e.removeAttribute(n,i);}});}}}function bf(e,t){return !t._ranges.every(t=>!e.isEqual(t))}class wf{constructor(e){this._dispatchers=e;}add(e){for(const t of this._dispatchers){e(t);}return this}}var _f=1,vf=4;function kf(e){return Hs(e,_f|vf)}var yf=kf;class xf extends wf{elementToElement(e){return this.add(zf(e))}attributeToElement(e){return this.add(Bf(e))}attributeToAttribute(e){return this.add(Vf(e))}markerToElement(e){return this.add(Ff(e))}markerToHighlight(e){return this.add(Hf(e))}}function Af(){return (e,t,i)=>{if(!i.consumable.consume(t.item,"insert")){return}const n=i.writer;const o=i.mapper.toViewPosition(t.range.start);const s=n.createText(t.item.data);n.insert(o,s);}}function Cf(){return (e,t,i)=>{const n=i.mapper.toViewPosition(t.position);const o=t.position.getShiftedBy(t.length);const s=i.mapper.toViewPosition(o,{isPhantom:true});const r=i.writer.createRange(n,s);const a=i.writer.remove(r.getTrimmed());for(const e of i.writer.createRangeIn(a).getItems()){i.mapper.unbindViewElement(e);}}}function Tf(e,t){const i=e.createAttributeElement("span",t.attributes);if(t.classes){i._addClass(t.classes);}if(t.priority){i._priority=t.priority;}i._id=t.id;return i}function Mf(){return (e,t,i)=>{const n=t.selection;if(n.isCollapsed){return}if(!i.consumable.consume(n,"selection")){return}const o=[];for(const e of n.getRanges()){const t=i.mapper.toViewRange(e);o.push(t);}i.writer.setSelection(o,{backward:n.isBackward});}}function Ef(){return (e,t,i)=>{const n=t.selection;if(!n.isCollapsed){return}if(!i.consumable.consume(n,"selection")){return}const o=i.writer;const s=n.getFirstPosition();const r=i.mapper.toViewPosition(s);const a=o.breakAttributes(r);o.setSelection(a);}}function Pf(){return (e,t,i)=>{const n=i.writer;const o=n.document.selection;for(const e of o.getRanges()){if(e.isCollapsed){if(e.end.parent.isAttached()){i.writer.mergeAttributes(e.start);}}}n.setSelection(null);}}function Sf(e){return (t,i,n)=>{const o=e(i.attributeOldValue,n.writer);const s=e(i.attributeNewValue,n.writer);if(!o&&!s){return}if(!n.consumable.consume(i.item,t.name)){return}const r=n.writer;const a=r.document.selection;if(i.item instanceof tf||i.item instanceof ff){r.wrap(a.getFirstRange(),s);}else {let e=n.mapper.toViewRange(i.range);if(i.attributeOldValue!==null&&o){e=r.unwrap(e,o);}if(i.attributeNewValue!==null&&s){r.wrap(e,s);}}}}function If(e){return (t,i,n)=>{const o=e(i.item,n.writer);if(!o){return}if(!n.consumable.consume(i.item,"insert")){return}const s=n.mapper.toViewPosition(i.range.start);n.mapper.bindElements(i.item,o);n.writer.insert(s,o);}}function Of(e){return (t,i,n)=>{i.isOpening=true;const o=e(i,n.writer);i.isOpening=false;const s=e(i,n.writer);if(!o||!s){return}const r=i.markerRange;if(r.isCollapsed&&!n.consumable.consume(r,t.name)){return}for(const e of r){if(!n.consumable.consume(e.item,t.name)){return}}const a=n.mapper;const c=n.writer;c.insert(a.toViewPosition(r.start),o);n.mapper.bindElementToMarker(o,i.markerName);if(!r.isCollapsed){c.insert(a.toViewPosition(r.end),s);n.mapper.bindElementToMarker(s,i.markerName);}t.stop();}}function Nf(){return (e,t,i)=>{const n=i.mapper.markerNameToElements(t.markerName);if(!n){return}for(const e of n){i.mapper.unbindElementFromMarkerName(e,t.markerName);i.writer.clear(i.writer.createRangeOn(e),e);}i.writer.clearClonedElementsGroup(t.markerName);e.stop();}}function Rf(e){return (t,i,n)=>{const o=e(i.attributeOldValue,i);const s=e(i.attributeNewValue,i);if(!o&&!s){return}if(!n.consumable.consume(i.item,t.name)){return}const r=n.mapper.toViewElement(i.item);const a=n.writer;if(!r){throw new rr["b"]("conversion-attribute-to-attribute-on-text: "+"Trying to convert text node's attribute with attribute-to-attribute converter.",[i,n])}if(i.attributeOldValue!==null&&o){if(o.key=="class"){const e=Array.isArray(o.value)?o.value:[o.value];for(const t of e){a.removeClass(t,r);}}else if(o.key=="style"){const e=Object.keys(o.value);for(const t of e){a.removeStyle(t,r);}}else {a.removeAttribute(o.key,r);}}if(i.attributeNewValue!==null&&s){if(s.key=="class"){const e=Array.isArray(s.value)?s.value:[s.value];for(const t of e){a.addClass(t,r);}}else if(s.key=="style"){const e=Object.keys(s.value);for(const t of e){a.setStyle(t,s.value[t],r);}}else {a.setAttribute(s.key,s.value,r);}}}}function Lf(e){return (t,i,n)=>{if(!i.item){return}if(!(i.item instanceof tf||i.item instanceof ff)&&!i.item.is("textProxy")){return}const o=Yf(e,i,n);if(!o){return}if(!n.consumable.consume(i.item,t.name)){return}const s=n.writer;const r=Tf(s,o);const a=s.document.selection;if(i.item instanceof tf||i.item instanceof ff){s.wrap(a.getFirstRange(),r,a);}else {const e=n.mapper.toViewRange(i.range);const t=s.wrap(e,r);for(const e of t.getItems()){if(e.is("attributeElement")&&e.isSimilar(r)){n.mapper.bindElementToMarker(e,i.markerName);break}}}}}function Df(e){return (t,i,n)=>{if(!i.item){return}if(!(i.item instanceof Fh)){return}const o=Yf(e,i,n);if(!o){return}if(!n.consumable.test(i.item,t.name)){return}const s=n.mapper.toViewElement(i.item);if(s&&s.getCustomProperty("addHighlight")){n.consumable.consume(i.item,t.name);for(const e of Gh._createIn(i.item)){n.consumable.consume(e.item,t.name);}s.getCustomProperty("addHighlight")(s,o,n.writer);n.mapper.bindElementToMarker(s,i.markerName);}}}function jf(e){return (t,i,n)=>{if(i.markerRange.isCollapsed){return}const o=Yf(e,i,n);if(!o){return}const s=Tf(n.writer,o);const r=n.mapper.markerNameToElements(i.markerName);if(!r){return}for(const e of r){n.mapper.unbindElementFromMarkerName(e,i.markerName);if(e.is("attributeElement")){n.writer.unwrap(n.writer.createRangeOn(e),s);}else {e.getCustomProperty("removeHighlight")(e,o.id,n.writer);}}n.writer.clearClonedElementsGroup(i.markerName);t.stop();}}function zf(e){e=yf(e);e.view=Uf(e.view,"container");return t=>{t.on("insert:"+e.model,If(e.view),{priority:e.converterPriority||"normal"});}}function Bf(e){e=yf(e);const t=e.model.key?e.model.key:e.model;let i="attribute:"+t;if(e.model.name){i+=":"+e.model.name;}if(e.model.values){for(const t of e.model.values){e.view[t]=Uf(e.view[t],"attribute");}}else {e.view=Uf(e.view,"attribute");}const n=$f(e);return t=>{t.on(i,Sf(n),{priority:e.converterPriority||"normal"});}}function Vf(e){e=yf(e);const t=e.model.key?e.model.key:e.model;let i="attribute:"+t;if(e.model.name){i+=":"+e.model.name;}if(e.model.values){for(const t of e.model.values){e.view[t]=qf(e.view[t]);}}else {e.view=qf(e.view);}const n=$f(e);return t=>{t.on(i,Rf(n),{priority:e.converterPriority||"normal"});}}function Ff(e){e=yf(e);e.view=Uf(e.view,"ui");return t=>{t.on("addMarker:"+e.model,Of(e.view),{priority:e.converterPriority||"normal"});t.on("removeMarker:"+e.model,Nf(e.view),{priority:e.converterPriority||"normal"});}}function Hf(e){return t=>{t.on("addMarker:"+e.model,Lf(e.view),{priority:e.converterPriority||"normal"});t.on("addMarker:"+e.model,Df(e.view),{priority:e.converterPriority||"normal"});t.on("removeMarker:"+e.model,jf(e.view),{priority:e.converterPriority||"normal"});}}function Uf(e,t){if(typeof e=="function"){return e}return (i,n)=>Wf(e,n,t)}function Wf(e,t,i){if(typeof e=="string"){e={name:e};}let n;const o=Object.assign({},e.attributes);if(i=="container"){n=t.createContainerElement(e.name,o);}else if(i=="attribute"){const i={priority:e.priority||_l.DEFAULT_PRIORITY};n=t.createAttributeElement(e.name,o,i);}else {n=t.createUIElement(e.name,o);}if(e.styles){const i=Object.keys(e.styles);for(const o of i){t.setStyle(o,e.styles[o],n);}}if(e.classes){const i=e.classes;if(typeof i=="string"){t.addClass(i,n);}else {for(const e of i){t.addClass(e,n);}}}return n}function $f(e){if(e.model.values){return (t,i)=>{const n=e.view[t];if(n){return n(t,i)}return null}}else {return e.view}}function qf(e){if(typeof e=="string"){return t=>({key:e,value:t})}else if(typeof e=="object"){if(e.value){return ()=>e}else {return t=>({key:e.key,value:t})}}else {return e}}function Yf(e,t,i){const n=typeof e=="function"?e(t,i):e;if(!n){return null}if(!n.priority){n.priority=10;}if(!n.id){n.id=t.markerName;}return n}class Jf extends wf{elementToElement(e){return this.add(Kf(e))}elementToAttribute(e){return this.add(Zf(e))}attributeToAttribute(e){return this.add(em(e))}elementToMarker(e){return this.add(tm(e))}}function Gf(){return (e,t,i)=>{if(!t.modelRange&&i.consumable.consume(t.viewItem,{name:true})){const{modelRange:e,modelCursor:n}=i.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e;t.modelCursor=n;}}}function Qf(){return (e,t,i)=>{if(i.schema.checkChild(t.modelCursor,"$text")){if(i.consumable.consume(t.viewItem)){const e=i.writer.createText(t.viewItem.data);i.writer.insert(e,t.modelCursor);t.modelRange=Gh._createFromPositionAndShift(t.modelCursor,e.offsetSize);t.modelCursor=t.modelRange.end;}}}}function Xf(e,t){return (i,n)=>{const o=n.newSelection;const s=new tf;const r=[];for(const e of o.getRanges()){r.push(t.toModelRange(e));}s.setTo(r,{backward:o.isBackward});if(!s.isEqual(e.document.selection)){e.change(e=>{e.setSelection(s);});}}}function Kf(e){e=yf(e);const t=nm(e);const i=im(e.view);const n=i?"element:"+i:"element";return i=>{i.on(n,t,{priority:e.converterPriority||"normal"});}}function Zf(e){e=yf(e);rm(e);const t=am(e,false);const i=im(e.view);const n=i?"element:"+i:"element";return i=>{i.on(n,t,{priority:e.converterPriority||"low"});}}function em(e){e=yf(e);let t=null;if(typeof e.view=="string"||e.view.key){t=sm(e);}rm(e,t);const i=am(e,true);return t=>{t.on("element",i,{priority:e.converterPriority||"low"});}}function tm(e){e=yf(e);dm(e);return Kf(e)}function im(e){if(typeof e=="string"){return e}if(typeof e=="object"&&typeof e.name=="string"){return e.name}return null}function nm(e){const t=e.view?new Wr(e.view):null;return (i,n,o)=>{let s={};if(t){const e=t.match(n.viewItem);if(!e){return}s=e.match;}s.name=true;const r=om(e.model,n.viewItem,o.writer);if(!r){return}if(!o.consumable.test(n.viewItem,s)){return}const a=o.splitToAllowedParent(r,n.modelCursor);if(!a){return}o.writer.insert(r,a.position);o.convertChildren(n.viewItem,o.writer.createPositionAt(r,0));o.consumable.consume(n.viewItem,s);const c=o.getSplitParts(r);n.modelRange=new Gh(o.writer.createPositionBefore(r),o.writer.createPositionAfter(c[c.length-1]));if(a.cursorParent){n.modelCursor=o.writer.createPositionAt(a.cursorParent,0);}else {n.modelCursor=n.modelRange.end;}}}function om(e,t,i){if(e instanceof Function){return e(t,i)}else {return i.createElement(e)}}function sm(e){if(typeof e.view=="string"){e.view={key:e.view};}const t=e.view.key;let i;if(t=="class"||t=="style"){const n=t=="class"?"classes":"styles";i={[n]:e.view.value};}else {const n=typeof e.view.value=="undefined"?/[\s\S]*/:e.view.value;i={attributes:{[t]:n}};}if(e.view.name){i.name=e.view.name;}e.view=i;return t}function rm(e,t=null){const i=t===null?true:e=>e.getAttribute(t);const n=typeof e.model!="object"?e.model:e.model.key;const o=typeof e.model!="object"||typeof e.model.value=="undefined"?i:e.model.value;e.model={key:n,value:o};}function am(e,t){const i=new Wr(e.view);return (n,o,s)=>{const r=i.match(o.viewItem);if(!r){return}const a=e.model.key;const c=typeof e.model.value=="function"?e.model.value(o.viewItem):e.model.value;if(c===null){return}if(cm(e.view,o.viewItem)){r.match.name=true;}else {delete r.match.name;}if(!s.consumable.test(o.viewItem,r.match)){return}if(!o.modelRange){o=Object.assign(o,s.convertChildren(o.viewItem,o.modelCursor));}const l=lm(o.modelRange,{key:a,value:c},t,s);if(l){s.consumable.consume(o.viewItem,r.match);}}}function cm(e,t){const i=typeof e=="function"?e(t):e;if(typeof i=="object"&&!im(i)){return false}return !i.classes&&!i.attributes&&!i.styles}function lm(e,t,i,n){let o=false;for(const s of Array.from(e.getItems({shallow:i}))){if(n.schema.checkAttribute(s,t.key)){n.writer.setAttribute(t.key,t.value,s);o=true;}}return o}function dm(e){const t=e.model;e.model=(e,i)=>{const n=typeof t=="string"?t:t(e);return i.createElement("$marker",{"data-name":n})};}class um{constructor(e,t){this.model=e;this.view=new Dh(t);this.mapper=new Qh;this.downcastDispatcher=new Zh({mapper:this.mapper});const i=this.model.document;const n=i.selection;const o=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(true);},{priority:"highest"});this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(false);},{priority:"lowest"});this.listenTo(i,"change",()=>{this.view.change(e=>{this.downcastDispatcher.convertChanges(i.differ,o,e);this.downcastDispatcher.convertSelection(n,o,e);});},{priority:"low"});this.listenTo(this.view.document,"selectionChange",Xf(this.model,this.mapper));this.downcastDispatcher.on("insert:$text",Af(),{priority:"lowest"});this.downcastDispatcher.on("remove",Cf(),{priority:"low"});this.downcastDispatcher.on("selection",Pf(),{priority:"low"});this.downcastDispatcher.on("selection",Mf(),{priority:"low"});this.downcastDispatcher.on("selection",Ef(),{priority:"low"});this.view.document.roots.bindTo(this.model.document.roots).using(e=>{if(e.rootName=="$graveyard"){return null}const t=new ll(this.view.document,e.name);t.rootName=e.rootName;this.mapper.bindElements(e,t);return t});}destroy(){this.view.destroy();this.stopListening();}}yr(um,Qc);class hm{constructor(){this._commands=new Map;}add(e,t){this._commands.set(e,t);}get(e){return this._commands.get(e)}execute(e,...t){const i=this.get(e);if(!i){throw new rr["b"]("commandcollection-command-not-found: Command does not exist.",this,{commandName:e})}i.execute(...t);}*names(){yield*this._commands.keys();}*commands(){yield*this._commands.values();}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands()){e.destroy();}}}class fm{constructor(){this._consumables=new Map;}add(e,t){let i;if(e.is("text")||e.is("documentFragment")){this._consumables.set(e,true);return}if(!this._consumables.has(e)){i=new mm(e);this._consumables.set(e,i);}else {i=this._consumables.get(e);}i.add(t);}test(e,t){const i=this._consumables.get(e);if(i===undefined){return null}if(e.is("text")||e.is("documentFragment")){return i}return i.test(t)}consume(e,t){if(this.test(e,t)){if(e.is("text")||e.is("documentFragment")){this._consumables.set(e,false);}else {this._consumables.get(e).consume(t);}return true}return false}revert(e,t){const i=this._consumables.get(e);if(i!==undefined){if(e.is("text")||e.is("documentFragment")){this._consumables.set(e,true);}else {i.revert(t);}}}static consumablesFromElement(e){const t={element:e,name:true,attributes:[],classes:[],styles:[]};const i=e.getAttributeKeys();for(const e of i){if(e=="style"||e=="class"){continue}t.attributes.push(e);}const n=e.getClassNames();for(const e of n){t.classes.push(e);}const o=e.getStyleNames();for(const e of o){t.styles.push(e);}return t}static createFrom(e,t){if(!t){t=new fm(e);}if(e.is("text")){t.add(e);return t}if(e.is("element")){t.add(e,fm.consumablesFromElement(e));}if(e.is("documentFragment")){t.add(e);}for(const i of e.getChildren()){t=fm.createFrom(i,t);}return t}}class mm{constructor(e){this.element=e;this._canConsumeName=null;this._consumables={attributes:new Map,styles:new Map,classes:new Map};}add(e){if(e.name){this._canConsumeName=true;}for(const t in this._consumables){if(t in e){this._add(t,e[t]);}}}test(e){if(e.name&&!this._canConsumeName){return this._canConsumeName}for(const t in this._consumables){if(t in e){const i=this._test(t,e[t]);if(i!==true){return i}}}return true}consume(e){if(e.name){this._canConsumeName=false;}for(const t in this._consumables){if(t in e){this._consume(t,e[t]);}}}revert(e){if(e.name){this._canConsumeName=true;}for(const t in this._consumables){if(t in e){this._revert(t,e[t]);}}}_add(e,t){const i=Gt(t)?t:[t];const n=this._consumables[e];for(const t of i){if(e==="attributes"&&(t==="class"||t==="style")){throw new rr["b"]("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this)}n.set(t,true);if(e==="styles"){for(const e of this.element.document.stylesProcessor.getRelatedStyles(t)){n.set(e,true);}}}}_test(e,t){const i=Gt(t)?t:[t];const n=this._consumables[e];for(const t of i){if(e==="attributes"&&(t==="class"||t==="style")){const e=t=="class"?"classes":"styles";const i=this._test(e,[...this._consumables[e].keys()]);if(i!==true){return i}}else {const e=n.get(t);if(e===undefined){return null}if(!e){return false}}}return true}_consume(e,t){const i=Gt(t)?t:[t];const n=this._consumables[e];for(const t of i){if(e==="attributes"&&(t==="class"||t==="style")){const e=t=="class"?"classes":"styles";this._consume(e,[...this._consumables[e].keys()]);}else {n.set(t,false);if(e=="styles"){for(const e of this.element.document.stylesProcessor.getRelatedStyles(t)){n.set(e,false);}}}}}_revert(e,t){const i=Gt(t)?t:[t];const n=this._consumables[e];for(const t of i){if(e==="attributes"&&(t==="class"||t==="style")){const e=t=="class"?"classes":"styles";this._revert(e,[...this._consumables[e].keys()]);}else {const e=n.get(t);if(e===false){n.set(t,true);}}}}}class gm{constructor(){this._sourceDefinitions={};this._attributeProperties={};this.decorate("checkChild");this.decorate("checkAttribute");this.on("checkAttribute",(e,t)=>{t[0]=new pm(t[0]);},{priority:"highest"});this.on("checkChild",(e,t)=>{t[0]=new pm(t[0]);t[1]=this.getDefinition(t[1]);},{priority:"highest"});}register(e,t){if(this._sourceDefinitions[e]){throw new rr["b"]("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:e})}this._sourceDefinitions[e]=[Object.assign({},t)];this._clearCache();}extend(e,t){if(!this._sourceDefinitions[e]){throw new rr["b"]("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:e})}this._sourceDefinitions[e].push(Object.assign({},t));this._clearCache();}getDefinitions(){if(!this._compiledDefinitions){this._compile();}return this._compiledDefinitions}getDefinition(e){let t;if(typeof e=="string"){t=e;}else if(e.is&&(e.is("text")||e.is("textProxy"))){t="$text";}else {t=e.name;}return this.getDefinitions()[t]}isRegistered(e){return !!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return !!(t&&t.isBlock)}isLimit(e){const t=this.getDefinition(e);if(!t){return false}return !!(t.isLimit||t.isObject)}isObject(e){const t=this.getDefinition(e);return !!(t&&t.isObject)}isInline(e){const t=this.getDefinition(e);return !!(t&&t.isInline)}checkChild(e,t){if(!t){return false}return this._checkContextMatch(t,e)}checkAttribute(e,t){const i=this.getDefinition(e.last);if(!i){return false}return i.allowAttributes.includes(t)}checkMerge(e,t=null){if(e instanceof $h){const t=e.nodeBefore;const i=e.nodeAfter;if(!(t instanceof Fh)){throw new rr["b"]("schema-check-merge-no-element-before: The node before the merge position must be an element.",this)}if(!(i instanceof Fh)){throw new rr["b"]("schema-check-merge-no-element-after: The node after the merge position must be an element.",this)}return this.checkMerge(t,i)}for(const i of t.getChildren()){if(!this.checkChild(e,i)){return false}}return true}addChildCheck(e){this.on("checkChild",(t,[i,n])=>{if(!n){return}const o=e(i,n);if(typeof o=="boolean"){t.stop();t.return=o;}},{priority:"high"});}addAttributeCheck(e){this.on("checkAttribute",(t,[i,n])=>{const o=e(i,n);if(typeof o=="boolean"){t.stop();t.return=o;}},{priority:"high"});}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t);}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;if(e instanceof $h){t=e.parent;}else {const i=e instanceof Gh?[e]:Array.from(e.getRanges());t=i.reduce((e,t)=>{const i=t.getCommonAncestor();if(!e){return i}return e.getCommonAncestor(i,{includeSelf:true})},null);}while(!this.isLimit(t)){if(t.parent){t=t.parent;}else {break}}return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const i=e.getFirstPosition();const n=[...i.getAncestors(),new zh("",e.getAttributes())];return this.checkAttribute(n,t)}else {const i=e.getRanges();for(const e of i){for(const i of e){if(this.checkAttribute(i.item,t)){return true}}}}return false}*getValidRanges(e,t){e=Im(e);for(const i of e){yield*this._getValidRangesForRange(i,t);}}getNearestSelectionRange(e,t="both"){if(this.checkChild(e,"$text")){return new Gh(e)}let i,n;const o=e.getAncestors().reverse().find(e=>this.isLimit(e))||e.root;if(t=="both"||t=="backward"){i=new Uh({boundaries:Gh._createIn(o),startPosition:e,direction:"backward"});}if(t=="both"||t=="forward"){n=new Uh({boundaries:Gh._createIn(o),startPosition:e});}for(const e of Sm(i,n)){const t=e.walker==i?"elementEnd":"elementStart";const n=e.value;if(n.type==t&&this.isObject(n.item)){return Gh._createOn(n.item)}if(this.checkChild(n.nextPosition,"$text")){return new Gh(n.nextPosition)}}return null}findAllowedParent(e,t){let i=e.parent;while(i){if(this.checkChild(i,t)){return i}if(this.isLimit(i)){return null}i=i.parent;}return null}removeDisallowedAttributes(e,t){for(const i of e){if(i.is("text")){Om(this,i,t);}else {const e=Gh._createIn(i);const n=e.getPositions();for(const e of n){const i=e.nodeBefore||e.parent;Om(this,i,t);}}}}createContext(e){return new pm(e)}_clearCache(){this._compiledDefinitions=null;}_compile(){const e={};const t=this._sourceDefinitions;const i=Object.keys(t);for(const n of i){e[n]=bm(t[n],n);}for(const t of i){wm(e,t);}for(const t of i){_m(e,t);}for(const t of i){vm(e,t);km(e,t);}for(const t of i){ym(e,t);xm(e,t);}this._compiledDefinitions=e;}_checkContextMatch(e,t,i=t.length-1){const n=t.getItem(i);if(e.allowIn.includes(n.name)){if(i==0){return true}else {const e=this.getDefinition(n);return this._checkContextMatch(e,t,i-1)}}else {return false}}*_getValidRangesForRange(e,t){let i=e.start;let n=e.start;for(const o of e.getItems({shallow:true})){if(o.is("element")){yield*this._getValidRangesForRange(Gh._createIn(o),t);}if(!this.checkAttribute(o,t)){if(!i.isEqual(n)){yield new Gh(i,n);}i=$h._createAfter(o);}n=$h._createAfter(o);}if(!i.isEqual(n)){yield new Gh(i,n);}}}yr(gm,Qc);class pm{constructor(e){if(e instanceof pm){return e}if(typeof e=="string"){e=[e];}else if(!Array.isArray(e)){e=e.getAncestors({includeSelf:true});}if(e[0]&&typeof e[0]!="string"&&e[0].is("documentFragment")){e.shift();}this._items=e.map(Pm);}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new pm([e]);t._items=[...this._items,...t._items];return t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name);}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function bm(e,t){const i={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};Am(e,i);Cm(e,i,"allowIn");Cm(e,i,"allowContentOf");Cm(e,i,"allowWhere");Cm(e,i,"allowAttributes");Cm(e,i,"allowAttributesOf");Cm(e,i,"inheritTypesFrom");Tm(e,i);return i}function wm(e,t){for(const i of e[t].allowContentOf){if(e[i]){const n=Mm(e,i);n.forEach(e=>{e.allowIn.push(t);});}}delete e[t].allowContentOf;}function _m(e,t){for(const i of e[t].allowWhere){const n=e[i];if(n){const i=n.allowIn;e[t].allowIn.push(...i);}}delete e[t].allowWhere;}function vm(e,t){for(const i of e[t].allowAttributesOf){const n=e[i];if(n){const i=n.allowAttributes;e[t].allowAttributes.push(...i);}}delete e[t].allowAttributesOf;}function km(e,t){const i=e[t];for(const t of i.inheritTypesFrom){const n=e[t];if(n){const e=Object.keys(n).filter(e=>e.startsWith("is"));for(const t of e){if(!(t in i)){i[t]=n[t];}}}}delete i.inheritTypesFrom;}function ym(e,t){const i=e[t];const n=i.allowIn.filter(t=>e[t]);i.allowIn=Array.from(new Set(n));}function xm(e,t){const i=e[t];i.allowAttributes=Array.from(new Set(i.allowAttributes));}function Am(e,t){for(const i of e){const e=Object.keys(i).filter(e=>e.startsWith("is"));for(const n of e){t[n]=i[n];}}}function Cm(e,t,i){for(const n of e){if(typeof n[i]=="string"){t[i].push(n[i]);}else if(Array.isArray(n[i])){t[i].push(...n[i]);}}}function Tm(e,t){for(const i of e){const e=i.inheritAllFrom;if(e){t.allowContentOf.push(e);t.allowWhere.push(e);t.allowAttributesOf.push(e);t.inheritTypesFrom.push(e);}}}function Mm(e,t){const i=e[t];return Em(e).filter(e=>e.allowIn.includes(i.name))}function Em(e){return Object.keys(e).map(t=>e[t])}function Pm(e){if(typeof e=="string"){return {name:e,*getAttributeKeys(){},getAttribute(){}}}else {return {name:e.is("element")?e.name:"$text",*getAttributeKeys(){yield*e.getAttributeKeys();},getAttribute(t){return e.getAttribute(t)}}}}function*Sm(e,t){let i=false;while(!i){i=true;if(e){const t=e.next();if(!t.done){i=false;yield {walker:e,value:t.value};}}if(t){const e=t.next();if(!e.done){i=false;yield {walker:t,value:e.value};}}}}function*Im(e){for(const t of e){yield*t.getMinimalFlatRanges();}}function Om(e,t,i){for(const n of t.getAttributeKeys()){if(!e.checkAttribute(t,n)){i.removeAttribute(n,t);}}}class Nm{constructor(e={}){this._splitParts=new Map;this._modelCursor=null;this.conversionApi=Object.assign({},e);this.conversionApi.convertItem=this._convertItem.bind(this);this.conversionApi.convertChildren=this._convertChildren.bind(this);this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this);this.conversionApi.getSplitParts=this._getSplitParts.bind(this);}convert(e,t,i=["$root"]){this.fire("viewCleanup",e);this._modelCursor=Lm(i,t);this.conversionApi.writer=t;this.conversionApi.consumable=fm.createFrom(e);this.conversionApi.store={};const{modelRange:n}=this._convertItem(e,this._modelCursor);const o=t.createDocumentFragment();if(n){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren())){t.append(e,o);}o.markers=Rm(o,t);}this._modelCursor=null;this._splitParts.clear();this.conversionApi.writer=null;this.conversionApi.store=null;return o}_convertItem(e,t){const i=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is("element")){this.fire("element:"+e.name,i,this.conversionApi);}else if(e.is("text")){this.fire("text",i,this.conversionApi);}else {this.fire("documentFragment",i,this.conversionApi);}if(i.modelRange&&!(i.modelRange instanceof Gh)){throw new rr["b"]("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this)}return {modelRange:i.modelRange,modelCursor:i.modelCursor}}_convertChildren(e,t){const i=new Gh(t);let n=t;for(const t of Array.from(e.getChildren())){const e=this._convertItem(t,n);if(e.modelRange instanceof Gh){i.end=e.modelRange.end;n=e.modelCursor;}}return {modelRange:i,modelCursor:n}}_splitToAllowedParent(e,t){const i=this.conversionApi.schema.findAllowedParent(t,e);if(!i){return null}if(i===t.parent){return {position:t}}if(this._modelCursor.parent.getAncestors().includes(i)){return null}const n=this.conversionApi.writer.split(t,i);const o=[];for(const e of n.range.getWalker()){if(e.type=="elementEnd"){o.push(e.item);}else {const t=o.pop();const i=e.item;this._registerSplitPair(t,i);}}return {position:n.position,cursorParent:n.range.end.parent}}_registerSplitPair(e,t){if(!this._splitParts.has(e)){this._splitParts.set(e,[e]);}const i=this._splitParts.get(e);this._splitParts.set(t,i);i.push(t);}_getSplitParts(e){let t;if(!this._splitParts.has(e)){t=[e];}else {t=this._splitParts.get(e);}return t}_removeEmptyElements(){let e=false;for(const t of this._splitParts.keys()){if(t.isEmpty){this.conversionApi.writer.remove(t);this._splitParts.delete(t);e=true;}}if(e){this._removeEmptyElements();}}}yr(Nm,dr);function Rm(e,t){const i=new Set;const n=new Map;const o=Gh._createIn(e).getItems();for(const e of o){if(e.name=="$marker"){i.add(e);}}for(const e of i){const i=e.getAttribute("data-name");const o=t.createPositionBefore(e);if(!n.has(i)){n.set(i,new Gh(o.clone()));}else {n.get(i).end=o.clone();}t.remove(e);}return n}function Lm(e,t){let i;for(const n of new pm(e)){const e={};for(const t of n.getAttributeKeys()){e[t]=n.getAttribute(t);}const o=t.createElement(n.name,e);if(i){t.append(o,i);}i=$h._createAt(o,0);}return i}class Dm{constructor(e,t){this.model=e;this.stylesProcessor=t;this.processor;this.mapper=new Qh;this.downcastDispatcher=new Zh({mapper:this.mapper});this.downcastDispatcher.on("insert:$text",Af(),{priority:"lowest"});this.upcastDispatcher=new Nm({schema:e.schema});this.viewDocument=new bl(t);this._viewWriter=new ql(this.viewDocument);this.upcastDispatcher.on("text",Qf(),{priority:"lowest"});this.upcastDispatcher.on("element",Gf(),{priority:"lowest"});this.upcastDispatcher.on("documentFragment",Gf(),{priority:"lowest"});this.decorate("init");this.on("init",()=>{this.fire("ready");},{priority:"lowest"});}get(e){const{rootName:t="main",trim:i="empty"}=e||{};if(!this._checkIfRootsExists([t])){throw new rr["b"]("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this)}const n=this.model.document.getRoot(t);if(i==="empty"&&!this.model.hasContent(n,{ignoreWhitespaces:true})){return ""}return this.stringify(n)}stringify(e){const t=this.toView(e);return this.processor.toData(t)}toView(e){const t=this.viewDocument;const i=this._viewWriter;this.mapper.clearBindings();const n=Gh._createIn(e);const o=new Wl(t);this.mapper.bindElements(e,o);this.downcastDispatcher.convertInsert(n,i);if(!e.is("documentFragment")){const t=jm(e);for(const[e,n]of t){this.downcastDispatcher.convertMarkerAdd(e,n,i);}}return o}init(e){if(this.model.document.version){throw new rr["b"]("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this)}let t={};if(typeof e==="string"){t.main=e;}else {t=e;}if(!this._checkIfRootsExists(Object.keys(t))){throw new rr["b"]("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this)}this.model.enqueueChange("transparent",e=>{for(const i of Object.keys(t)){const n=this.model.document.getRoot(i);e.insert(this.parse(t[i],n),n,0);}});return Promise.resolve()}set(e){let t={};if(typeof e==="string"){t.main=e;}else {t=e;}if(!this._checkIfRootsExists(Object.keys(t))){throw new rr["b"]("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this)}this.model.enqueueChange("transparent",e=>{e.setSelection(null);e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const i of Object.keys(t)){const n=this.model.document.getRoot(i);e.remove(e.createRangeIn(n));e.insert(this.parse(t[i],n),n,0);}});}parse(e,t="$root"){const i=this.processor.toView(e);return this.toModel(i,t)}toModel(e,t="$root"){return this.model.change(i=>this.upcastDispatcher.convert(e,i,t))}addStyleProcessorRules(e){e(this.stylesProcessor);}destroy(){this.stopListening();}_checkIfRootsExists(e){for(const t of e){if(!this.model.document.getRootNames().includes(t)){return false}}return true}}yr(Dm,Qc);function jm(e){const t=[];const i=e.root.document;if(!i){return []}const n=Gh._createIn(e);for(const e of i.model.markers){const i=n.getIntersection(e.getRange());if(i){t.push([e.name,i]);}}return t}class zm{constructor(e,t){this._helpers=new Map;this._downcast=Array.isArray(e)?e:[e];this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:true});this._upcast=Array.isArray(t)?t:[t];this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:false});}addAlias(e,t){const i=this._downcast.includes(t);const n=this._upcast.includes(t);if(!n&&!i){throw new rr["b"]("conversion-add-alias-dispatcher-not-registered: "+"Trying to register and alias for a dispatcher that nas not been registered.",this)}this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:i});}for(e){if(!this._helpers.has(e)){throw new rr["b"]("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this)}return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:i}of Bm(e)){this.for("upcast").elementToElement({model:t,view:i,converterPriority:e.converterPriority});}}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:i}of Bm(e)){this.for("upcast").elementToAttribute({view:i,model:t,converterPriority:e.converterPriority});}}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:i}of Bm(e)){this.for("upcast").attributeToAttribute({view:i,model:t});}}_createConversionHelpers({name:e,dispatchers:t,isDowncast:i}){if(this._helpers.has(e)){throw new rr["b"]("conversion-group-exists: Trying to register a group name that has already been registered.",this)}const n=i?new xf(t):new Jf(t);this._helpers.set(e,n);}}function*Bm(e){if(e.model.values){for(const t of e.model.values){const i={key:e.model.key,value:t};const n=e.view[t];const o=e.upcastAlso?e.upcastAlso[t]:undefined;yield*Vm(i,n,o);}}else {yield*Vm(e.model,e.view,e.upcastAlso);}}function*Vm(e,t,i){yield {model:e,view:t};if(i){i=Array.isArray(i)?i:[i];for(const t of i){yield {model:e,view:t};}}}class Fm{constructor(e="default"){this.operations=[];this.type=e;}get baseVersion(){for(const e of this.operations){if(e.baseVersion!==null){return e.baseVersion}}return null}addOperation(e){e.batch=this;this.operations.push(e);return e}}class Hm{constructor(e){this.baseVersion=e;this.isDocumentOperation=this.baseVersion!==null;this.batch=null;}_validate(){}toJSON(){const e=Object.assign({},this);e.__className=this.constructor.className;delete e.batch;delete e.isDocumentOperation;return e}static get className(){return "Operation"}static fromJSON(e){return new this(e.baseVersion)}}class Um{constructor(e){this.markers=new Map;this._children=new Vh;if(e){this._insertChild(0,e);}}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}is(e){return e==="documentFragment"||e==="model:documentFragment"}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return []}getNodeByPath(e){let t=this;for(const i of e){t=t.getChild(t.offsetToIndex(i));}return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children){e.push(t.toJSON());}return e}static fromJSON(e){const t=[];for(const i of e){if(i.name){t.push(Fh.fromJSON(i));}else {t.push(zh.fromJSON(i));}}return new Um(t)}_appendChild(e){this._insertChild(this.childCount,e);}_insertChild(e,t){const i=Wm(t);for(const e of i){if(e.parent!==null){e._remove();}e.parent=this;}this._children._insertNodes(e,i);}_removeChildren(e,t=1){const i=this._children._removeNodes(e,t);for(const e of i){e.parent=null;}return i}}function Wm(e){if(typeof e=="string"){return [new zh(e)]}if(!kr(e)){e=[e];}return Array.from(e).map(e=>{if(typeof e=="string"){return new zh(e)}if(e instanceof Bh){return new zh(e.data,e.getAttributes())}return e})}function $m(e,t){t=Gm(t);const i=t.reduce((e,t)=>e+t.offsetSize,0);const n=e.parent;Xm(e);const o=e.index;n._insertChild(o,t);Qm(n,o+t.length);Qm(n,o);return new Gh(e,e.getShiftedBy(i))}function qm(e){if(!e.isFlat){throw new rr["b"]("operation-utils-remove-range-not-flat: "+"Trying to remove a range which starts and ends in different element.",this)}const t=e.start.parent;Xm(e.start);Xm(e.end);const i=t._removeChildren(e.start.index,e.end.index-e.start.index);Qm(t,e.start.index);return i}function Ym(e,t){if(!e.isFlat){throw new rr["b"]("operation-utils-move-range-not-flat: "+"Trying to move a range which starts and ends in different element.",this)}const i=qm(e);t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset);return $m(t,i)}function Jm(e,t,i){Xm(e.start);Xm(e.end);for(const n of e.getItems({shallow:true})){const e=n.is("textProxy")?n.textNode:n;if(i!==null){e._setAttribute(t,i);}else {e._removeAttribute(t);}Qm(e.parent,e.index);}Qm(e.end.parent,e.end.index);}function Gm(e){const t=[];if(!(e instanceof Array)){e=[e];}for(let i=0;i<e.length;i++){if(typeof e[i]=="string"){t.push(new zh(e[i]));}else if(e[i]instanceof Bh){t.push(new zh(e[i].data,e[i].getAttributes()));}else if(e[i]instanceof Um||e[i]instanceof Vh){for(const n of e[i]){t.push(n);}}else if(e[i]instanceof jh){t.push(e[i]);}}for(let e=1;e<t.length;e++){const i=t[e];const n=t[e-1];if(i instanceof zh&&n instanceof zh&&Km(i,n)){t.splice(e-1,2,new zh(n.data+i.data,n.getAttributes()));e--;}}return t}function Qm(e,t){const i=e.getChild(t-1);const n=e.getChild(t);if(i&&n&&i.is("text")&&n.is("text")&&Km(i,n)){const o=new zh(i.data+n.data,i.getAttributes());e._removeChildren(t-1,2);e._insertChild(t-1,o);}}function Xm(e){const t=e.textNode;const i=e.parent;if(t){const n=e.offset-t.startOffset;const o=t.index;i._removeChildren(o,1);const s=new zh(t.data.substr(0,n),t.getAttributes());const r=new zh(t.data.substr(n),t.getAttributes());i._insertChild(o,[s,r]);}}function Km(e,t){const i=e.getAttributes();const n=t.getAttributes();for(const e of i){if(e[1]!==t.getAttribute(e[0])){return false}n.next();}return n.next().done}function Zm(e,t){return Wu(e,t)}var eg=Zm;class tg extends Hm{constructor(e,t,i,n,o){super(o);this.range=e.clone();this.key=t;this.oldValue=i===undefined?null:i;this.newValue=n===undefined?null:n;}get type(){if(this.oldValue===null){return "addAttribute"}else if(this.newValue===null){return "removeAttribute"}else {return "changeAttribute"}}clone(){return new tg(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new tg(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();e.range=this.range.toJSON();return e}_validate(){if(!this.range.isFlat){throw new rr["b"]("attribute-operation-range-not-flat: The range to change is not flat.",this)}for(const e of this.range.getItems({shallow:true})){if(this.oldValue!==null&&!eg(e.getAttribute(this.key),this.oldValue)){throw new rr["b"]("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's "+"old attribute value.",this,{item:e,key:this.key,value:this.oldValue})}if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key)){throw new rr["b"]("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:e,key:this.key})}}}_execute(){if(!eg(this.oldValue,this.newValue)){Jm(this.range,this.key,this.newValue);}}static get className(){return "AttributeOperation"}static fromJSON(e,t){return new tg(Gh.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class ig extends Hm{constructor(e,t){super(null);this.sourcePosition=e.clone();this.howMany=t;}get type(){return "detach"}toJSON(){const e=super.toJSON();e.sourcePosition=this.sourcePosition.toJSON();return e}_validate(){if(this.sourcePosition.root.document){throw new rr["b"]("detach-operation-on-document-node: Cannot detach document node.",this)}}_execute(){qm(Gh._createFromPositionAndShift(this.sourcePosition,this.howMany));}static get className(){return "DetachOperation"}}class ng extends Hm{constructor(e,t,i,n){super(n);this.sourcePosition=e.clone();this.sourcePosition.stickiness="toNext";this.howMany=t;this.targetPosition=i.clone();this.targetPosition.stickiness="toNone";}get type(){if(this.targetPosition.root.rootName=="$graveyard"){return "remove"}else if(this.sourcePosition.root.rootName=="$graveyard"){return "reinsert"}return "move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent;const t=this.targetPosition.parent;const i=this.sourcePosition.offset;const n=this.targetPosition.offset;if(i+this.howMany>e.maxOffset){throw new rr["b"]("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this)}else if(e===t&&i<n&&n<i+this.howMany){throw new rr["b"]("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this)}else if(this.sourcePosition.root==this.targetPosition.root){if(Lr(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=i&&this.targetPosition.path[e]<i+this.howMany){throw new rr["b"]("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}}}_execute(){Ym(Gh._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition);}toJSON(){const e=super.toJSON();e.sourcePosition=this.sourcePosition.toJSON();e.targetPosition=this.targetPosition.toJSON();return e}static get className(){return "MoveOperation"}static fromJSON(e,t){const i=$h.fromJSON(e.sourcePosition,t);const n=$h.fromJSON(e.targetPosition,t);return new this(i,e.howMany,n,e.baseVersion)}}class og extends Hm{constructor(e,t,i){super(i);this.position=e.clone();this.position.stickiness="toNone";this.nodes=new Vh(Gm(t));this.shouldReceiveAttributes=false;}get type(){return "insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new Vh([...this.nodes].map(e=>e._clone(true)));const t=new og(this.position,e,this.baseVersion);t.shouldReceiveAttributes=this.shouldReceiveAttributes;return t}getReversed(){const e=this.position.root.document.graveyard;const t=new $h(e,[0]);return new ng(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset){throw new rr["b"]("insert-operation-position-invalid: Insertion position is invalid.",this)}}_execute(){const e=this.nodes;this.nodes=new Vh([...e].map(e=>e._clone(true)));$m(this.position,e);}toJSON(){const e=super.toJSON();e.position=this.position.toJSON();e.nodes=this.nodes.toJSON();return e}static get className(){return "InsertOperation"}static fromJSON(e,t){const i=[];for(const t of e.nodes){if(t.name){i.push(Fh.fromJSON(t));}else {i.push(zh.fromJSON(t));}}const n=new og($h.fromJSON(e.position,t),i,e.baseVersion);n.shouldReceiveAttributes=e.shouldReceiveAttributes;return n}}class sg extends Hm{constructor(e,t,i,n,o,s){super(s);this.name=e;this.oldRange=t?t.clone():null;this.newRange=i?i.clone():null;this.affectsData=o;this._markers=n;}get type(){return "marker"}clone(){return new sg(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new sg(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){const e=this.newRange?"_set":"_remove";this._markers[e](this.name,this.newRange,true,this.affectsData);}toJSON(){const e=super.toJSON();if(this.oldRange){e.oldRange=this.oldRange.toJSON();}if(this.newRange){e.newRange=this.newRange.toJSON();}delete e._markers;return e}static get className(){return "MarkerOperation"}static fromJSON(e,t){return new sg(e.name,e.oldRange?Gh.fromJSON(e.oldRange,t):null,e.newRange?Gh.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}class rg extends Hm{constructor(e,t,i,n){super(n);this.position=e;this.position.stickiness="toNext";this.oldName=t;this.newName=i;}get type(){return "rename"}clone(){return new rg(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new rg(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Fh)){throw new rr["b"]("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this)}else if(e.name!==this.oldName){throw new rr["b"]("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}}_execute(){const e=this.position.nodeAfter;e.name=this.newName;}toJSON(){const e=super.toJSON();e.position=this.position.toJSON();return e}static get className(){return "RenameOperation"}static fromJSON(e,t){return new rg($h.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class ag extends Hm{constructor(e,t,i,n,o){super(o);this.root=e;this.key=t;this.oldValue=i;this.newValue=n;}get type(){if(this.oldValue===null){return "addRootAttribute"}else if(this.newValue===null){return "removeRootAttribute"}else {return "changeRootAttribute"}}clone(){return new ag(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new ag(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment")){throw new rr["b"]("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key})}if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue){throw new rr["b"]("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's "+"old attribute value.",this,{root:this.root,key:this.key})}if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key)){throw new rr["b"]("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}}_execute(){if(this.newValue!==null){this.root._setAttribute(this.key,this.newValue);}else {this.root._removeAttribute(this.key);}}toJSON(){const e=super.toJSON();e.root=this.root.toJSON();return e}static get className(){return "RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root)){throw new rr["b"]("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:e.root})}return new ag(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class cg extends Hm{constructor(e,t,i,n,o){super(o);this.sourcePosition=e.clone();this.sourcePosition.stickiness="toPrevious";this.howMany=t;this.targetPosition=i.clone();this.targetPosition.stickiness="toNext";this.graveyardPosition=n.clone();}get type(){return "merge"}get deletionPosition(){return new $h(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Gh(this.sourcePosition,e)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this);const t=this.sourcePosition.path.slice(0,-1);const i=new $h(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);const n=new lg(e,this.howMany,this.graveyardPosition,this.baseVersion+1);n.insertionPosition=i;return n}_validate(){const e=this.sourcePosition.parent;const t=this.targetPosition.parent;if(!e.parent){throw new rr["b"]("merge-operation-source-position-invalid: Merge source position is invalid.",this)}else if(!t.parent){throw new rr["b"]("merge-operation-target-position-invalid: Merge target position is invalid.",this)}else if(this.howMany!=e.maxOffset){throw new rr["b"]("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}}_execute(){const e=this.sourcePosition.parent;const t=Gh._createIn(e);Ym(t,this.targetPosition);Ym(Gh._createOn(e),this.graveyardPosition);}toJSON(){const e=super.toJSON();e.sourcePosition=e.sourcePosition.toJSON();e.targetPosition=e.targetPosition.toJSON();e.graveyardPosition=e.graveyardPosition.toJSON();return e}static get className(){return "MergeOperation"}static fromJSON(e,t){const i=$h.fromJSON(e.sourcePosition,t);const n=$h.fromJSON(e.targetPosition,t);const o=$h.fromJSON(e.graveyardPosition,t);return new this(i,e.howMany,n,o,e.baseVersion)}}class lg extends Hm{constructor(e,t,i,n){super(n);this.splitPosition=e.clone();this.splitPosition.stickiness="toNext";this.howMany=t;this.insertionPosition=lg.getInsertionPosition(e);this.insertionPosition.stickiness="toNone";this.graveyardPosition=i?i.clone():null;if(this.graveyardPosition){this.graveyardPosition.stickiness="toNext";}}get type(){return "split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();e.push(0);return new $h(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Gh(this.splitPosition,e)}clone(){const e=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);e.insertionPosition=this.insertionPosition;return e}getReversed(){const e=this.splitPosition.root.document.graveyard;const t=new $h(e,[0]);return new cg(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent;const t=this.splitPosition.offset;if(!e||e.maxOffset<t){throw new rr["b"]("split-operation-position-invalid: Split position is invalid.",this)}else if(!e.parent){throw new rr["b"]("split-operation-split-in-root: Cannot split root element.",this)}else if(this.howMany!=e.maxOffset-this.splitPosition.offset){throw new rr["b"]("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this)}else if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter){throw new rr["b"]("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition){Ym(Gh._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);}else {const t=e._clone();$m(this.insertionPosition,t);}const t=new Gh($h._createAt(e,this.splitPosition.offset),$h._createAt(e,e.maxOffset));Ym(t,this.moveTargetPosition);}toJSON(){const e=super.toJSON();e.splitPosition=this.splitPosition.toJSON();e.insertionPosition=this.insertionPosition.toJSON();if(this.graveyardPosition){e.graveyardPosition=this.graveyardPosition.toJSON();}return e}static get className(){return "SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);t[t.length-1]++;return new $h(e.root,t)}static fromJSON(e,t){const i=$h.fromJSON(e.splitPosition,t);const n=$h.fromJSON(e.insertionPosition,t);const o=e.graveyardPosition?$h.fromJSON(e.graveyardPosition,t):null;const s=new this(i,e.howMany,o,e.baseVersion);s.insertionPosition=n;return s}}class dg extends Fh{constructor(e,t,i="main"){super(t);this._document=e;this.rootName=i;}get document(){return this._document}is(e,t){if(!t){return e==="rootElement"||e==="model:rootElement"||e==="element"||e==="model:element"||e===this.name||e==="model:"+this.name||e==="node"||e==="model:node"}return t===this.name&&(e==="rootElement"||e==="model:rootElement"||e==="element"||e==="model:element")}toJSON(){return this.rootName}}class ug{constructor(e,t){this.model=e;this.batch=t;}createText(e,t){return new zh(e,t)}createElement(e,t){return new Fh(e,t)}createDocumentFragment(){return new Um}insert(e,t,i=0){this._assertWriterUsedCorrectly();if(e instanceof zh&&e.data==""){return}const n=$h._createAt(t,i);if(e.parent){if(pg(e.root,n.root)){this.move(Gh._createOn(e),n);return}else {if(e.root.document){throw new rr["b"]("model-writer-insert-forbidden-move: "+"Cannot move a node from a document to a different tree. "+"It is forbidden to move a node that was already in a document outside of it.",this)}else {this.remove(e);}}}const o=n.root.document?n.root.document.version:null;const s=new og(n,e,o);if(e instanceof zh){s.shouldReceiveAttributes=true;}this.batch.addOperation(s);this.model.applyOperation(s);if(e instanceof Um){for(const[t,i]of e.markers){const e=$h._createAt(i.root,0);const o=new Gh(i.start._getCombined(e,n),i.end._getCombined(e,n));const s={range:o,usingOperation:true,affectsData:true};if(this.model.markers.has(t)){this.updateMarker(t,s);}else {this.addMarker(t,s);}}}}insertText(e,t,i,n){if(t instanceof Um||t instanceof Fh||t instanceof $h){this.insert(this.createText(e),t,i);}else {this.insert(this.createText(e,t),i,n);}}insertElement(e,t,i,n){if(t instanceof Um||t instanceof Fh||t instanceof $h){this.insert(this.createElement(e),t,i);}else {this.insert(this.createElement(e,t),i,n);}}append(e,t){this.insert(e,t,"end");}appendText(e,t,i){if(t instanceof Um||t instanceof Fh){this.insert(this.createText(e),t,"end");}else {this.insert(this.createText(e,t),i,"end");}}appendElement(e,t,i){if(t instanceof Um||t instanceof Fh){this.insert(this.createElement(e),t,"end");}else {this.insert(this.createElement(e,t),i,"end");}}setAttribute(e,t,i){this._assertWriterUsedCorrectly();if(i instanceof Gh){const n=i.getMinimalFlatRanges();for(const i of n){hg(this,e,t,i);}}else {fg(this,e,t,i);}}setAttributes(e,t){for(const[i,n]of Ur(e)){this.setAttribute(i,n,t);}}removeAttribute(e,t){this._assertWriterUsedCorrectly();if(t instanceof Gh){const i=t.getMinimalFlatRanges();for(const t of i){hg(this,e,null,t);}}else {fg(this,e,null,t);}}clearAttributes(e){this._assertWriterUsedCorrectly();const t=e=>{for(const t of e.getAttributeKeys()){this.removeAttribute(t,e);}};if(!(e instanceof Gh)){t(e);}else {for(const i of e.getItems()){t(i);}}}move(e,t,i){this._assertWriterUsedCorrectly();if(!(e instanceof Gh)){throw new rr["b"]("writer-move-invalid-range: Invalid range to move.",this)}if(!e.isFlat){throw new rr["b"]("writer-move-range-not-flat: Range to move is not flat.",this)}const n=$h._createAt(t,i);if(n.isEqual(e.start)){return}this._addOperationForAffectedMarkers("move",e);if(!pg(e.root,n.root)){throw new rr["b"]("writer-move-different-document: Range is going to be moved between different documents.",this)}const o=e.root.document?e.root.document.version:null;const s=new ng(e.start,e.end.offset-e.start.offset,n,o);this.batch.addOperation(s);this.model.applyOperation(s);}remove(e){this._assertWriterUsedCorrectly();const t=e instanceof Gh?e:Gh._createOn(e);const i=t.getMinimalFlatRanges().reverse();for(const e of i){this._addOperationForAffectedMarkers("move",e);gg(e.start,e.end.offset-e.start.offset,this.batch,this.model);}}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore;const i=e.nodeAfter;this._addOperationForAffectedMarkers("merge",e);if(!(t instanceof Fh)){throw new rr["b"]("writer-merge-no-element-before: Node before merge position must be an element.",this)}if(!(i instanceof Fh)){throw new rr["b"]("writer-merge-no-element-after: Node after merge position must be an element.",this)}if(!e.root.document){this._mergeDetached(e);}else {this._merge(e);}}createPositionFromPath(e,t,i){return this.model.createPositionFromPath(e,t,i)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(e,t,i){return this.model.createSelection(e,t,i)}_mergeDetached(e){const t=e.nodeBefore;const i=e.nodeAfter;this.move(Gh._createIn(i),$h._createAt(t,"end"));this.remove(i);}_merge(e){const t=$h._createAt(e.nodeBefore,"end");const i=$h._createAt(e.nodeAfter,0);const n=e.root.document.graveyard;const o=new $h(n,[0]);const s=e.root.document.version;const r=new cg(i,e.nodeAfter.maxOffset,t,o,s);this.batch.addOperation(r);this.model.applyOperation(r);}rename(e,t){this._assertWriterUsedCorrectly();if(!(e instanceof Fh)){throw new rr["b"]("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this)}const i=e.root.document?e.root.document.version:null;const n=new rg($h._createBefore(e),e.name,t,i);this.batch.addOperation(n);this.model.applyOperation(n);}split(e,t){this._assertWriterUsedCorrectly();let i=e.parent;if(!i.parent){throw new rr["b"]("writer-split-element-no-parent: Element with no parent can not be split.",this)}if(!t){t=i.parent;}if(!e.parent.getAncestors({includeSelf:true}).includes(t)){throw new rr["b"]("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this)}let n,o;do{const t=i.root.document?i.root.document.version:null;const s=i.maxOffset-e.offset;const r=new lg(e,s,null,t);this.batch.addOperation(r);this.model.applyOperation(r);if(!n&&!o){n=i;o=e.parent.nextSibling;}e=this.createPositionAfter(e.parent);i=e.parent;}while(i!==t);return {position:e,range:new Gh($h._createAt(n,"end"),$h._createAt(o,0))}}wrap(e,t){this._assertWriterUsedCorrectly();if(!e.isFlat){throw new rr["b"]("writer-wrap-range-not-flat: Range to wrap is not flat.",this)}const i=t instanceof Fh?t:new Fh(t);if(i.childCount>0){throw new rr["b"]("writer-wrap-element-not-empty: Element to wrap with is not empty.",this)}if(i.parent!==null){throw new rr["b"]("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this)}this.insert(i,e.start);const n=new Gh(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(n,$h._createAt(i,0));}unwrap(e){this._assertWriterUsedCorrectly();if(e.parent===null){throw new rr["b"]("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this)}this.move(Gh._createIn(e),this.createPositionAfter(e));this.remove(e);}addMarker(e,t){this._assertWriterUsedCorrectly();if(!t||typeof t.usingOperation!="boolean"){throw new rr["b"]("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this)}const i=t.usingOperation;const n=t.range;const o=t.affectsData===undefined?false:t.affectsData;if(this.model.markers.has(e)){throw new rr["b"]("writer-addMarker-marker-exists: Marker with provided name already exists.",this)}if(!n){throw new rr["b"]("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this)}if(!i){return this.model.markers._set(e,n,i,o)}mg(this,e,null,n,o);return this.model.markers.get(e)}updateMarker(e,t){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name;const n=this.model.markers.get(i);if(!n){throw new rr["b"]("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this)}if(!t){this.model.markers._refresh(n);return}const o=typeof t.usingOperation=="boolean";const s=typeof t.affectsData=="boolean";const r=s?t.affectsData:n.affectsData;if(!o&&!t.range&&!s){throw new rr["b"]("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this)}const a=n.getRange();const c=t.range?t.range:a;if(o&&t.usingOperation!==n.managedUsingOperations){if(t.usingOperation){mg(this,i,null,c,r);}else {mg(this,i,a,null,r);this.model.markers._set(i,c,undefined,r);}return}if(n.managedUsingOperations){mg(this,i,a,c,r);}else {this.model.markers._set(i,c,undefined,r);}}removeMarker(e){this._assertWriterUsedCorrectly();const t=typeof e=="string"?e:e.name;if(!this.model.markers.has(t)){throw new rr["b"]("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this)}const i=this.model.markers.get(t);if(!i.managedUsingOperations){this.model.markers._remove(t);return}const n=i.getRange();mg(this,t,n,null,i.affectsData);}setSelection(e,t,i){this._assertWriterUsedCorrectly();this.model.document.selection._setTo(e,t,i);}setSelectionFocus(e,t){this._assertWriterUsedCorrectly();this.model.document.selection._setFocus(e,t);}setSelectionAttribute(e,t){this._assertWriterUsedCorrectly();if(typeof e==="string"){this._setSelectionAttribute(e,t);}else {for(const[t,i]of Ur(e)){this._setSelectionAttribute(t,i);}}}removeSelectionAttribute(e){this._assertWriterUsedCorrectly();if(typeof e==="string"){this._removeSelectionAttribute(e);}else {for(const t of e){this._removeSelectionAttribute(t);}}}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e);}_setSelectionAttribute(e,t){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const n=ff._getStoreAttributeKey(e);this.setAttribute(n,t,i.anchor.parent);}i._setAttribute(e,t);}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const i=ff._getStoreAttributeKey(e);this.removeAttribute(i,t.anchor.parent);}t._removeAttribute(e);}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this){throw new rr["b"]("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}}_addOperationForAffectedMarkers(e,t){for(const i of this.model.markers){if(!i.managedUsingOperations){continue}const n=i.getRange();let o=false;if(e==="move"){o=t.containsPosition(n.start)||t.start.isEqual(n.start)||t.containsPosition(n.end)||t.end.isEqual(n.end);}else {const e=t.nodeBefore;const i=t.nodeAfter;const s=n.start.parent==e&&n.start.isAtEnd;const r=n.end.parent==i&&n.end.offset==0;const a=n.end.nodeAfter==i;const c=n.start.nodeAfter==i;o=s||r||a||c;}if(o){this.updateMarker(i.name,{range:n});}}}}function hg(e,t,i,n){const o=e.model;const s=o.document;let r=n.start;let a;let c;let l;for(const e of n.getWalker({shallow:true})){l=e.item.getAttribute(t);if(a&&c!=l){if(c!=i){d();}r=a;}a=e.nextPosition;c=l;}if(a instanceof $h&&a!=r&&c!=i){d();}function d(){const n=new Gh(r,a);const l=n.root.document?s.version:null;const d=new tg(n,t,c,i,l);e.batch.addOperation(d);o.applyOperation(d);}}function fg(e,t,i,n){const o=e.model;const s=o.document;const r=n.getAttribute(t);let a,c;if(r!=i){const l=n.root===n;if(l){const e=n.document?s.version:null;c=new ag(n,t,r,i,e);}else {a=new Gh($h._createBefore(n),e.createPositionAfter(n));const o=a.root.document?s.version:null;c=new tg(a,t,r,i,o);}e.batch.addOperation(c);o.applyOperation(c);}}function mg(e,t,i,n,o){const s=e.model;const r=s.document;const a=new sg(t,i,n,s.markers,o,r.version);e.batch.addOperation(a);s.applyOperation(a);}function gg(e,t,i,n){let o;if(e.root.document){const i=n.document;const s=new $h(i.graveyard,[0]);o=new ng(e,t,s,i.version);}else {o=new ig(e,t);}i.addOperation(o);n.applyOperation(o);}function pg(e,t){if(e===t){return true}if(e instanceof dg&&t instanceof dg){return true}return false}class bg{constructor(e){this._markerCollection=e;this._changesInElement=new Map;this._elementSnapshots=new Map;this._changedMarkers=new Map;this._changeCount=0;this._cachedChanges=null;this._cachedChangesWithGraveyard=null;}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0}refreshItem(e){if(this._isInInsertedElement(e.parent)){return}this._markRemove(e.parent,e.startOffset,e.offsetSize);this._markInsert(e.parent,e.startOffset,e.offsetSize);const t=Gh._createOn(e);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getRange();this.bufferMarkerChange(e.name,t,t,e.affectsData);}this._cachedChanges=null;}bufferOperation(e){switch(e.type){case"insert":{if(this._isInInsertedElement(e.position.parent)){return}this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break}case"addAttribute":case"removeAttribute":case"changeAttribute":{for(const t of e.range.getItems({shallow:true})){if(this._isInInsertedElement(t.parent)){continue}this._markAttribute(t);}break}case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition)){return}const t=this._isInInsertedElement(e.sourcePosition.parent);const i=this._isInInsertedElement(e.targetPosition.parent);if(!t){this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany);}if(!i){this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);}break}case"rename":{if(this._isInInsertedElement(e.position.parent)){return}this._markRemove(e.position.parent,e.position.offset,1);this._markInsert(e.position.parent,e.position.offset,1);const t=Gh._createFromPositionAndShift(e.position,1);for(const e of this._markerCollection.getMarkersIntersectingRange(t)){const t=e.getRange();this.bufferMarkerChange(e.name,t,t,e.affectsData);}break}case"split":{const t=e.splitPosition.parent;if(!this._isInInsertedElement(t)){this._markRemove(t,e.splitPosition.offset,e.howMany);}if(!this._isInInsertedElement(e.insertionPosition.parent)){this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1);}if(e.graveyardPosition){this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);}break}case"merge":{const t=e.sourcePosition.parent;if(!this._isInInsertedElement(t.parent)){this._markRemove(t.parent,t.startOffset,1);}const i=e.graveyardPosition.parent;this._markInsert(i,e.graveyardPosition.offset,1);const n=e.targetPosition.parent;if(!this._isInInsertedElement(n)){this._markInsert(n,e.targetPosition.offset,t.maxOffset);}break}}this._cachedChanges=null;}bufferMarkerChange(e,t,i,n){const o=this._changedMarkers.get(e);if(!o){this._changedMarkers.set(e,{oldRange:t,newRange:i,affectsData:n});}else {o.newRange=i;o.affectsData=n;if(o.oldRange==null&&o.newRange==null){this._changedMarkers.delete(e);}}}getMarkersToRemove(){const e=[];for(const[t,i]of this._changedMarkers){if(i.oldRange!=null){e.push({name:t,range:i.oldRange});}}return e}getMarkersToAdd(){const e=[];for(const[t,i]of this._changedMarkers){if(i.newRange!=null){e.push({name:t,range:i.newRange});}}return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(e=>({name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}))}hasDataChanges(){for(const[,e]of this._changedMarkers){if(e.affectsData){return true}}return this._changesInElement.size>0}getChanges(e={includeChangesInGraveyard:false}){if(this._cachedChanges){if(e.includeChangesInGraveyard){return this._cachedChangesWithGraveyard.slice()}else {return this._cachedChanges.slice()}}const t=[];for(const e of this._changesInElement.keys()){const i=this._changesInElement.get(e).sort((e,t)=>{if(e.offset===t.offset){if(e.type!=t.type){return e.type=="remove"?-1:1}return 0}return e.offset<t.offset?-1:1});const n=this._elementSnapshots.get(e);const o=wg(e.getChildren());const s=_g(n.length,i);let r=0;let a=0;for(const i of s){if(i==="i"){t.push(this._getInsertDiff(e,r,o[r].name));r++;}else if(i==="r"){t.push(this._getRemoveDiff(e,r,n[a].name));a++;}else if(i==="a"){const i=o[r].attributes;const s=n[a].attributes;let c;if(o[r].name=="$text"){c=new Gh($h._createAt(e,r),$h._createAt(e,r+1));}else {const t=e.offsetToIndex(r);c=new Gh($h._createAt(e,r),$h._createAt(e.getChild(t),0));}t.push(...this._getAttributesDiff(c,s,i));r++;a++;}else {r++;a++;}}}t.sort((e,t)=>{if(e.position.root!=t.position.root){return e.position.root.rootName<t.position.root.rootName?-1:1}if(e.position.isEqual(t.position)){return e.changeCount-t.changeCount}return e.position.isBefore(t.position)?-1:1});for(let e=1;e<t.length;e++){const i=t[e-1];const n=t[e];const o=i.type=="remove"&&n.type=="remove"&&i.name=="$text"&&n.name=="$text"&&i.position.isEqual(n.position);const s=i.type=="insert"&&n.type=="insert"&&i.name=="$text"&&n.name=="$text"&&i.position.parent==n.position.parent&&i.position.offset+i.length==n.position.offset;const r=i.type=="attribute"&&n.type=="attribute"&&i.position.parent==n.position.parent&&i.range.isFlat&&n.range.isFlat&&i.position.offset+i.length==n.position.offset&&i.attributeKey==n.attributeKey&&i.attributeOldValue==n.attributeOldValue&&i.attributeNewValue==n.attributeNewValue;if(o||s||r){t[e-1].length++;if(r){t[e-1].range.end=t[e-1].range.end.getShiftedBy(1);}t.splice(e,1);e--;}}for(const e of t){delete e.changeCount;if(e.type=="attribute"){delete e.position;delete e.length;}}this._changeCount=0;this._cachedChangesWithGraveyard=t.slice();this._cachedChanges=t.slice().filter(vg);if(e.includeChangesInGraveyard){return this._cachedChangesWithGraveyard}else {return this._cachedChanges}}reset(){this._changesInElement.clear();this._elementSnapshots.clear();this._changedMarkers.clear();this._cachedChanges=null;}_markInsert(e,t,i){const n={type:"insert",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,n);}_markRemove(e,t,i){const n={type:"remove",offset:t,howMany:i,count:this._changeCount++};this._markChange(e,n);this._removeAllNestedChanges(e,t,i);}_markAttribute(e){const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t);}_markChange(e,t){this._makeSnapshot(e);const i=this._getChangesForElement(e);this._handleChange(t,i);i.push(t);for(let e=0;e<i.length;e++){if(i[e].howMany<1){i.splice(e,1);e--;}}}_getChangesForElement(e){let t;if(this._changesInElement.has(e)){t=this._changesInElement.get(e);}else {t=[];this._changesInElement.set(e,t);}return t}_makeSnapshot(e){if(!this._elementSnapshots.has(e)){this._elementSnapshots.set(e,wg(e.getChildren()));}}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const i of t){const n=e.offset+e.howMany;const o=i.offset+i.howMany;if(e.type=="insert"){if(i.type=="insert"){if(e.offset<=i.offset){i.offset+=e.howMany;}else if(e.offset<o){i.howMany+=e.nodesToHandle;e.nodesToHandle=0;}}if(i.type=="remove"){if(e.offset<i.offset){i.offset+=e.howMany;}}if(i.type=="attribute"){if(e.offset<=i.offset){i.offset+=e.howMany;}else if(e.offset<o){const o=i.howMany;i.howMany=e.offset-i.offset;t.unshift({type:"attribute",offset:n,howMany:o-i.howMany,count:this._changeCount++});}}}if(e.type=="remove"){if(i.type=="insert"){if(n<=i.offset){i.offset-=e.howMany;}else if(n<=o){if(e.offset<i.offset){const t=n-i.offset;i.offset=e.offset;i.howMany-=t;e.nodesToHandle-=t;}else {i.howMany-=e.nodesToHandle;e.nodesToHandle=0;}}else {if(e.offset<=i.offset){e.nodesToHandle-=i.howMany;i.howMany=0;}else if(e.offset<o){const t=o-e.offset;i.howMany-=t;e.nodesToHandle-=t;}}}if(i.type=="remove"){if(n<=i.offset){i.offset-=e.howMany;}else if(e.offset<i.offset){e.nodesToHandle+=i.howMany;i.howMany=0;}}if(i.type=="attribute"){if(n<=i.offset){i.offset-=e.howMany;}else if(e.offset<i.offset){const t=n-i.offset;i.offset=e.offset;i.howMany-=t;}else if(e.offset<o){if(n<=o){const n=i.howMany;i.howMany=e.offset-i.offset;const o=n-i.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:o,count:this._changeCount++});}else {i.howMany-=o-e.offset;}}}}if(e.type=="attribute"){if(i.type=="insert"){if(e.offset<i.offset&&n>i.offset){if(n>o){const e={type:"attribute",offset:o,howMany:n-o,count:this._changeCount++};this._handleChange(e,t);t.push(e);}e.nodesToHandle=i.offset-e.offset;e.howMany=e.nodesToHandle;}else if(e.offset>=i.offset&&e.offset<o){if(n>o){e.nodesToHandle=n-o;e.offset=o;}else {e.nodesToHandle=0;}}}if(i.type=="remove"){if(e.offset<i.offset&&n>i.offset){const o={type:"attribute",offset:i.offset,howMany:n-i.offset,count:this._changeCount++};this._handleChange(o,t);t.push(o);e.nodesToHandle=i.offset-e.offset;e.howMany=e.nodesToHandle;}}if(i.type=="attribute"){if(e.offset>=i.offset&&n<=o){e.nodesToHandle=0;e.howMany=0;e.offset=0;}else if(e.offset<=i.offset&&n>=o){i.howMany=0;}}}}e.howMany=e.nodesToHandle;delete e.nodesToHandle;}_getInsertDiff(e,t,i){return {type:"insert",position:$h._createAt(e,t),name:i,length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,t,i){return {type:"remove",position:$h._createAt(e,t),name:i,length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,t,i){const n=[];i=new Map(i);for(const[o,s]of t){const t=i.has(o)?i.get(o):null;if(t!==s){n.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:o,attributeOldValue:s,attributeNewValue:t,changeCount:this._changeCount++});}i.delete(o);}for(const[t,o]of i){n.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:t,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});}return n}_isInInsertedElement(e){const t=e.parent;if(!t){return false}const i=this._changesInElement.get(t);const n=e.startOffset;if(i){for(const e of i){if(e.type=="insert"&&n>=e.offset&&n<e.offset+e.howMany){return true}}}return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,i){const n=new Gh($h._createAt(e,t),$h._createAt(e,t+i));for(const e of n.getItems({shallow:true})){if(e.is("element")){this._elementSnapshots.delete(e);this._changesInElement.delete(e);this._removeAllNestedChanges(e,0,e.maxOffset);}}}}function wg(e){const t=[];for(const i of e){if(i.is("text")){for(let e=0;e<i.data.length;e++){t.push({name:"$text",attributes:new Map(i.getAttributes())});}}else {t.push({name:i.name,attributes:new Map(i.getAttributes())});}}return t}function _g(e,t){const i=[];let n=0;let o=0;for(const e of t){if(e.offset>n){for(let t=0;t<e.offset-n;t++){i.push("e");}o+=e.offset-n;}if(e.type=="insert"){for(let t=0;t<e.howMany;t++){i.push("i");}n=e.offset+e.howMany;}else if(e.type=="remove"){for(let t=0;t<e.howMany;t++){i.push("r");}n=e.offset;o+=e.howMany;}else {i.push(..."a".repeat(e.howMany).split(""));n=e.offset+e.howMany;o+=e.howMany;}}if(o<e){for(let t=0;t<e-o-n;t++){i.push("e");}}return i}function vg(e){const t=e.position&&e.position.root.rootName=="$graveyard";const i=e.range&&e.range.root.rootName=="$graveyard";return !t&&!i}class kg{constructor(){this._operations=[];this._undoPairs=new Map;this._undoneOperations=new Set;}addOperation(e){if(this._operations.includes(e)){return}this._operations.push(e);}getOperations(e=0,t=Number.POSITIVE_INFINITY){if(e<0){return []}return this._operations.slice(e,t)}getOperation(e){return this._operations[e]}setOperationAsUndone(e,t){this._undoPairs.set(t,e);this._undoneOperations.add(e);}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}}function yg(e){return !!e&&e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e)}function xg(e){return !!e&&e.length==1&&/[\ud800-\udbff]/.test(e)}function Ag(e){return !!e&&e.length==1&&/[\udc00-\udfff]/.test(e)}function Cg(e,t){return xg(e.charAt(t-1))&&Ag(e.charAt(t))}function Tg(e,t){return yg(e.charAt(t))}const Mg="$graveyard";class Eg{constructor(e){this.model=e;this.version=0;this.history=new kg(this);this.selection=new ff(this);this.roots=new xr({idProperty:"rootName"});this.differ=new bg(e.markers);this._postFixers=new Set;this._hasSelectionChangedFromTheLastChangeBlock=false;this.createRoot("$root",Mg);this.listenTo(e,"applyOperation",(e,t)=>{const i=t[0];if(i.isDocumentOperation&&i.baseVersion!==this.version){throw new rr["b"]("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",this,{operation:i})}},{priority:"highest"});this.listenTo(e,"applyOperation",(e,t)=>{const i=t[0];if(i.isDocumentOperation){this.differ.bufferOperation(i);}},{priority:"high"});this.listenTo(e,"applyOperation",(e,t)=>{const i=t[0];if(i.isDocumentOperation){this.version++;this.history.addOperation(i);}},{priority:"low"});this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=true;});this.listenTo(e.markers,"update",(e,t,i,n)=>{this.differ.bufferMarkerChange(t.name,i,n,t.affectsData);if(i===null){t.on("change",(e,i)=>{this.differ.bufferMarkerChange(t.name,i,t.getRange(),t.affectsData);});}});}get graveyard(){return this.getRoot(Mg)}createRoot(e="$root",t="main"){if(this.roots.get(t)){throw new rr["b"]("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:t})}const i=new dg(this,e,t);this.roots.add(i);return i}destroy(){this.selection.destroy();this.stopListening();}getRoot(e="main"){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,e=>e.rootName).filter(e=>e!=Mg)}registerPostFixer(e){this._postFixers.add(e);}toJSON(){const e=zr(this);e.selection="[engine.model.DocumentSelection]";e.model="[engine.model.Model]";return e}_handleChangeBlock(e){if(this._hasDocumentChangedFromTheLastChangeBlock()){this._callPostFixers(e);this.selection.refresh();if(this.differ.hasDataChanges()){this.fire("change:data",e.batch);}else {this.fire("change",e.batch);}this.selection.refresh();this.differ.reset();}this._hasSelectionChangedFromTheLastChangeBlock=false;}_hasDocumentChangedFromTheLastChangeBlock(){return !this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots){if(e!==this.graveyard){return e}}return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot();const t=this.model;const i=t.schema;const n=t.createPositionFromPath(e,[0]);const o=i.getNearestSelectionRange(n);return o||t.createRange(n)}_validateSelectionRange(e){return Pg(e.start)&&Pg(e.end)}_callPostFixers(e){let t=false;do{for(const i of this._postFixers){this.selection.refresh();t=i(e);if(t){break}}}while(t)}}yr(Eg,dr);function Pg(e){const t=e.textNode;if(t){const i=t.data;const n=e.offset-t.startOffset;return !Cg(i,n)&&!Tg(i,n)}return true}class Sg{constructor(){this._markers=new Map;}[Symbol.iterator](){return this._markers.values()}has(e){return this._markers.has(e)}get(e){return this._markers.get(e)||null}_set(e,t,i=false,n=false){const o=e instanceof Ig?e.name:e;const s=this._markers.get(o);if(s){const e=s.getRange();let r=false;if(!e.isEqual(t)){s._attachLiveRange(cf.fromRange(t));r=true;}if(i!=s.managedUsingOperations){s._managedUsingOperations=i;r=true;}if(typeof n==="boolean"&&n!=s.affectsData){s._affectsData=n;r=true;}if(r){this.fire("update:"+o,s,e,t);}return s}const r=cf.fromRange(t);const a=new Ig(o,r,i,n);this._markers.set(o,a);this.fire("update:"+o,a,null,t);return a}_remove(e){const t=e instanceof Ig?e.name:e;const i=this._markers.get(t);if(i){this._markers.delete(t);this.fire("update:"+t,i,i.getRange(),null);this._destroyMarker(i);return true}return false}_refresh(e){const t=e instanceof Ig?e.name:e;const i=this._markers.get(t);if(!i){throw new rr["b"]("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this)}const n=i.getRange();this.fire("update:"+t,i,n,n,i.managedUsingOperations,i.affectsData);}*getMarkersAtPosition(e){for(const t of this){if(t.getRange().containsPosition(e)){yield t;}}}*getMarkersIntersectingRange(e){for(const t of this){if(t.getRange().getIntersection(e)!==null){yield t;}}}destroy(){for(const e of this._markers.values()){this._destroyMarker(e);}this._markers=null;this.stopListening();}*getMarkersGroup(e){for(const t of this._markers.values()){if(t.name.startsWith(e+":")){yield t;}}}_destroyMarker(e){e.stopListening();e._detachLiveRange();}}yr(Sg,dr);class Ig{constructor(e,t,i,n){this.name=e;this._liveRange=this._attachLiveRange(t);this._managedUsingOperations=i;this._affectsData=n;}get managedUsingOperations(){if(!this._liveRange){throw new rr["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this)}return this._managedUsingOperations}get affectsData(){if(!this._liveRange){throw new rr["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this)}return this._affectsData}getStart(){if(!this._liveRange){throw new rr["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this)}return this._liveRange.start.clone()}getEnd(){if(!this._liveRange){throw new rr["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this)}return this._liveRange.end.clone()}getRange(){if(!this._liveRange){throw new rr["b"]("marker-destroyed: Cannot use a destroyed marker instance.",this)}return this._liveRange.toRange()}is(e){return e==="marker"||e==="model:marker"}_attachLiveRange(e){if(this._liveRange){this._detachLiveRange();}e.delegate("change:range").to(this);e.delegate("change:content").to(this);this._liveRange=e;return e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this);this._liveRange.stopDelegating("change:content",this);this._liveRange.detach();this._liveRange=null;}}yr(Ig,dr);class Og extends Hm{get type(){return "noop"}clone(){return new Og(this.baseVersion)}getReversed(){return new Og(this.baseVersion+1)}_execute(){}static get className(){return "NoOperation"}}const Ng={};Ng[tg.className]=tg;Ng[og.className]=og;Ng[sg.className]=sg;Ng[ng.className]=ng;Ng[Og.className]=Og;Ng[Hm.className]=Hm;Ng[rg.className]=rg;Ng[ag.className]=ag;Ng[lg.className]=lg;Ng[cg.className]=cg;class Rg{static fromJSON(e,t){return Ng[e.__className].fromJSON(e,t)}}class Lg extends $h{constructor(e,t,i="toNone"){super(e,t,i);if(!this.root.is("rootElement")){throw new rr["b"]("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",e)}Dg.call(this);}detach(){this.stopListening();}is(e){return e==="livePosition"||e==="model:livePosition"||e=="position"||e==="model:position"}toPosition(){return new $h(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t?t:e.stickiness)}}function Dg(){this.listenTo(this.root.document.model,"applyOperation",(e,t)=>{const i=t[0];if(!i.isDocumentOperation){return}jg.call(this,i);},{priority:"low"});}function jg(e){const t=this.getTransformedByOperation(e);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path;this.root=t.root;this.fire("change",e);}}yr(Lg,dr);function zg(e,t,i,n){return e.change(o=>{let s;if(!i){s=e.document.selection;}else if(i instanceof tf||i instanceof ff){s=i;}else {s=o.createSelection(i,n);}if(!s.isCollapsed){e.deleteContent(s,{doNotAutoparagraph:true});}const r=new Bg(e,o,s.anchor);let a;if(t.is("documentFragment")){a=t.getChildren();}else {a=[t];}r.handleNodes(a,{isFirst:true,isLast:true});const c=r.getSelectionRange();if(c){if(s instanceof ff){o.setSelection(c);}else {s.setTo(c);}}const l=r.getAffectedRange()||e.createRange(s.anchor);r.destroy();return l})}class Bg{constructor(e,t,i){this.model=e;this.writer=t;this.position=i;this.canMergeWith=new Set([this.position.parent]);this.schema=e.schema;this._filterAttributesOf=[];this._affectedStart=null;this._affectedEnd=null;}handleNodes(e,t){e=Array.from(e);for(let i=0;i<e.length;i++){const n=e[i];this._handleNode(n,{isFirst:i===0&&t.isFirst,isLast:i===e.length-1&&t.isLast});}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer);this._filterAttributesOf=[];}getSelectionRange(){if(this.nodeToSelect){return Gh._createOn(this.nodeToSelect)}return this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){if(!this._affectedStart){return null}return new Gh(this._affectedStart,this._affectedEnd)}destroy(){if(this._affectedStart){this._affectedStart.detach();}if(this._affectedEnd){this._affectedEnd.detach();}}_handleNode(e,t){if(this.schema.isObject(e)){this._handleObject(e,t);return}const i=this._checkAndSplitToAllowedPosition(e,t);if(!i){this._handleDisallowedNode(e,t);return}this._insert(e);this._mergeSiblingsOf(e,t);}_handleObject(e,t){if(this._checkAndSplitToAllowedPosition(e)){this._insert(e);}else {this._tryAutoparagraphing(e,t);}}_handleDisallowedNode(e,t){if(e.is("element")){this.handleNodes(e.getChildren(),t);}else {this._tryAutoparagraphing(e,t);}}_insert(e){if(!this.schema.checkChild(this.position,e)){throw new rr["b"]("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:e,position:this.position})}const t=Lg.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position);this.writer.insert(e,this.position);this.position=t.toPosition();t.detach();if(this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")){this.nodeToSelect=e;}else {this.nodeToSelect=null;}this._filterAttributesOf.push(e);}_setAffectedBoundaries(e){if(!this._affectedStart){this._affectedStart=Lg.fromPosition(e,"toPrevious");}if(!this._affectedEnd||this._affectedEnd.isBefore(e)){if(this._affectedEnd){this._affectedEnd.detach();}this._affectedEnd=Lg.fromPosition(e,"toNext");}}_mergeSiblingsOf(e,t){if(!(e instanceof Fh)){return}const i=this._canMergeLeft(e,t);const n=this._canMergeRight(e,t);const o=Lg._createBefore(e);o.stickiness="toNext";const s=Lg._createAfter(e);s.stickiness="toNext";if(i){const e=Lg.fromPosition(this.position);e.stickiness="toNext";if(this._affectedStart.isEqual(o)){this._affectedStart.detach();this._affectedStart=Lg._createAt(o.nodeBefore,"end","toPrevious");}this.writer.merge(o);if(o.isEqual(this._affectedEnd)&&t.isLast){this._affectedEnd.detach();this._affectedEnd=Lg._createAt(o.nodeBefore,"end","toNext");}this.position=e.toPosition();e.detach();}if(n){if(!this.position.isEqual(s)){throw new rr["b"]("insertcontent-invalid-insertion-position",this)}this.position=$h._createAt(s.nodeBefore,"end");const e=Lg.fromPosition(this.position,"toPrevious");if(this._affectedEnd.isEqual(s)){this._affectedEnd.detach();this._affectedEnd=Lg._createAt(s.nodeBefore,"end","toNext");}this.writer.merge(s);if(s.getShiftedBy(-1).isEqual(this._affectedStart)&&t.isFirst){this._affectedStart.detach();this._affectedStart=Lg._createAt(s.nodeBefore,0,"toPrevious");}this.position=e.toPosition();e.detach();}if(i||n){this._filterAttributesOf.push(this.position.parent);}o.detach();s.detach();}_canMergeLeft(e,t){const i=e.previousSibling;return t.isFirst&&i instanceof Fh&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,e)}_canMergeRight(e,t){const i=e.nextSibling;return t.isLast&&i instanceof Fh&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(e,i)}_tryAutoparagraphing(e,t){const i=this.writer.createElement("paragraph");if(this._getAllowedIn(i,this.position.parent)&&this.schema.checkChild(i,e)){i._appendChild(e);this._handleNode(i,t);}}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(e,this.position.parent);if(!t){return false}while(t!=this.position.parent){if(this.schema.isLimit(this.position.parent)){return false}if(this.position.isAtStart){const e=this.position.parent;this.position=this.writer.createPositionBefore(e);if(e.isEmpty&&e.parent===t){this.writer.remove(e);}}else if(this.position.isAtEnd){this.position=this.writer.createPositionAfter(this.position.parent);}else {const e=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position);this.writer.split(this.position);this.position=e;this.canMergeWith.add(this.position.nodeAfter);}}return true}_getAllowedIn(e,t){if(this.schema.checkChild(t,e)){return t}if(t.parent){return this._getAllowedIn(e,t.parent)}return null}}function Vg(e,t,i={}){if(t.isCollapsed){return}const n=t.getFirstRange();if(n.root.rootName=="$graveyard"){return}const o=e.schema;e.change(e=>{if(!i.doNotResetEntireContent&&qg(o,t)){$g(e,t);return}const s=n.start;const r=Lg.fromPosition(n.end,"toNext");if(!n.start.isTouching(n.end)){e.remove(n);}if(!i.leaveUnmerged){Fg(e,s,r);o.removeDisallowedAttributes(s.parent.getChildren(),e);}Yg(e,t,s);if(!i.doNotAutoparagraph&&Hg(o,s)){Wg(e,s,t);}r.detach();});}function Fg(e,t,i){const n=t.parent;const o=i.parent;if(n==o){return}if(e.model.schema.isLimit(n)||e.model.schema.isLimit(o)){return}if(!Ug(t,i,e.model.schema)){return}t=e.createPositionAfter(n);i=e.createPositionBefore(o);if(!i.isEqual(t)){e.insert(o,t);}e.merge(t);while(i.parent.isEmpty){const t=i.parent;i=e.createPositionBefore(t);e.remove(t);}Fg(e,t,i);}function Hg(e,t){const i=e.checkChild(t,"$text");const n=e.checkChild(t,"paragraph");return !i&&n}function Ug(e,t,i){const n=new Gh(e,t);for(const e of n.getWalker()){if(i.isLimit(e.item)){return false}}return true}function Wg(e,t,i){const n=e.createElement("paragraph");e.insert(n,t);Yg(e,i,e.createPositionAt(n,0));}function $g(e,t){const i=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(i));Wg(e,e.createPositionAt(i,0),t);}function qg(e,t){const i=e.getLimitElement(t);if(!t.containsEntireContent(i)){return false}const n=t.getFirstRange();if(n.start.parent==n.end.parent){return false}return e.checkChild(i,"paragraph")}function Yg(e,t,i){if(t instanceof ff){e.setSelection(i);}else {t.setTo(i);}}const Jg=' ,.?!:;"-()';function Gg(e,t,i={}){const n=e.schema;const o=i.direction!="backward";const s=i.unit?i.unit:"character";const r=t.focus;const a=new Uh({boundaries:Zg(r,o),singleCharacters:true,direction:o?"forward":"backward"});const c={walker:a,schema:n,isForward:o,unit:s};let l;while(l=a.next()){if(l.done){return}const i=Qg(c,l.value);if(i){if(t instanceof ff){e.change(e=>{e.setSelectionFocus(i);});}else {t.setFocus(i);}return}}}function Qg(e,t){if(t.type=="text"){if(e.unit==="word"){return Kg(e.walker,e.isForward)}return Xg(e.walker,e.unit,e.isForward)}if(t.type==(e.isForward?"elementStart":"elementEnd")){if(e.schema.isObject(t.item)){return $h._createAt(t.item,e.isForward?"after":"before")}if(e.schema.checkChild(t.nextPosition,"$text")){return t.nextPosition}}else {if(e.schema.isLimit(t.item)){e.walker.skip(()=>true);return}if(e.schema.checkChild(t.nextPosition,"$text")){return t.nextPosition}}}function Xg(e,t){const i=e.position.textNode;if(i){const n=i.data;let o=e.position.offset-i.startOffset;while(Cg(n,o)||t=="character"&&Tg(n,o)){e.next();o=e.position.offset-i.startOffset;}}return e.position}function Kg(e,t){let i=e.position.textNode;if(i){let n=e.position.offset-i.startOffset;while(!ep(i.data,n,t)&&!tp(i,n,t)){e.next();const o=t?e.position.nodeAfter:e.position.nodeBefore;if(o&&o.is("text")){const n=o.data.charAt(t?0:o.data.length-1);if(!Jg.includes(n)){e.next();i=e.position.textNode;}}n=e.position.offset-i.startOffset;}}return e.position}function Zg(e,t){const i=e.root;const n=$h._createAt(i,t?"end":0);if(t){return new Gh(e,n)}else {return new Gh(n,e)}}function ep(e,t,i){const n=t+(i?0:-1);return Jg.includes(e.charAt(n))}function tp(e,t,i){return t===(i?e.endOffset:0)}function ip(e,t){return e.change(e=>{const i=e.createDocumentFragment();const n=t.getFirstRange();if(!n||n.isCollapsed){return i}const o=n.start.root;const s=n.start.getCommonPath(n.end);const r=o.getNodeByPath(s);let a;if(n.start.parent==n.end.parent){a=n;}else {a=e.createRange(e.createPositionAt(r,n.start.path[s.length]),e.createPositionAt(r,n.end.path[s.length]+1));}const c=a.end.offset-a.start.offset;for(const t of a.getItems({shallow:true})){if(t.is("textProxy")){e.appendText(t.data,t.getAttributes(),i);}else {e.append(t._clone(true),i);}}if(a!=n){const t=n._getTransformedByMove(a.start,e.createPositionAt(i,0),c)[0];const o=e.createRange(e.createPositionAt(i,0),t.start);const s=e.createRange(t.end,e.createPositionAt(i,"end"));np(s,e);np(o,e);}return i})}function np(e,t){const i=[];Array.from(e.getItems({direction:"backward"})).map(e=>t.createRangeOn(e)).filter(t=>{const i=(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end));return i}).forEach(e=>{i.push(e.start.parent);t.remove(e);});i.forEach(e=>{let i=e;while(i.parent&&i.isEmpty){const e=t.createRangeOn(i);i=i.parent;t.remove(e);}});}function op(e){e.document.registerPostFixer(t=>sp(t,e));}function sp(e,t){const i=t.document.selection;const n=t.schema;const o=[];let s=false;for(const e of i.getRanges()){const t=rp(e,n);if(t){o.push(t);s=true;}else {o.push(e);}}if(s){e.setSelection(up(o),{backward:i.isBackward});}}function rp(e,t){if(e.isCollapsed){return ap(e,t)}return cp(e,t)}function ap(e,t){const i=e.start;const n=t.getNearestSelectionRange(i);if(!n){return null}if(!n.isCollapsed){return n}const o=n.start;if(i.isEqual(o)){return null}return new Gh(o)}function cp(e,t){const i=e.start;const n=e.end;const o=t.checkChild(i,"$text");const s=t.checkChild(n,"$text");const r=t.getLimitElement(i);const a=t.getLimitElement(n);if(r===a){if(o&&s){return null}if(dp(i,n,t)){const e=i.nodeAfter&&t.isObject(i.nodeAfter);const o=e?null:t.getNearestSelectionRange(i,"forward");const s=n.nodeBefore&&t.isObject(n.nodeBefore);const r=s?null:t.getNearestSelectionRange(n,"backward");const a=o?o.start:i;const c=r?r.start:n;return new Gh(a,c)}}const c=r&&!r.is("rootElement");const l=a&&!a.is("rootElement");if(c||l){const e=i.nodeAfter&&n.nodeBefore&&i.nodeAfter.parent===n.nodeBefore.parent;const o=c&&(!e||!hp(i.nodeAfter,t));const s=l&&(!e||!hp(n.nodeBefore,t));let d=i;let u=n;if(o){d=$h._createBefore(lp(r,t));}if(s){u=$h._createAfter(lp(a,t));}return new Gh(d,u)}return null}function lp(e,t){let i=e;let n=i;while(t.isLimit(n)&&n.parent){i=n;n=n.parent;}return i}function dp(e,t,i){const n=e.nodeAfter&&!i.isLimit(e.nodeAfter)||i.checkChild(e,"$text");const o=t.nodeBefore&&!i.isLimit(t.nodeBefore)||i.checkChild(t,"$text");return n||o}function up(e){const t=[];t.push(e.shift());for(const i of e){const e=t.pop();if(i.isIntersecting(e)){const n=e.start.isAfter(i.start)?i.start:e.start;const o=e.end.isAfter(i.end)?e.end:i.end;const s=new Gh(n,o);t.push(s);}else {t.push(e);t.push(i);}}return t}function hp(e,t){return e&&t.isObject(e)}class fp{constructor(){this.markers=new Sg;this.document=new Eg(this);this.schema=new gm;this._pendingChanges=[];this._currentWriter=null;["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e));this.on("applyOperation",(e,t)=>{const i=t[0];i._validate();},{priority:"highest"});this.schema.register("$root",{isLimit:true});this.schema.register("$block",{allowIn:"$root",isBlock:true});this.schema.register("$text",{allowIn:"$block",isInline:true});this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:true});this.schema.extend("$text",{allowIn:"$clipboardHolder"});this.schema.register("$marker");this.schema.addChildCheck((e,t)=>{if(t.name==="$marker"){return true}});op(this);}change(e){try{if(this._pendingChanges.length===0){this._pendingChanges.push({batch:new Fm,callback:e});return this._runPendingChanges()[0]}else {return e(this._currentWriter)}}catch(e){rr["b"].rethrowUnexpectedError(e,this);}}enqueueChange(e,t){try{if(typeof e==="string"){e=new Fm(e);}else if(typeof e=="function"){t=e;e=new Fm;}this._pendingChanges.push({batch:e,callback:t});if(this._pendingChanges.length==1){this._runPendingChanges();}}catch(e){rr["b"].rethrowUnexpectedError(e,this);}}applyOperation(e){e._execute();}insertContent(e,t,i){return zg(this,e,t,i)}deleteContent(e,t){Vg(this,e,t);}modifySelection(e,t){Gg(this,e,t);}getSelectedContent(e){return ip(this,e)}hasContent(e,t){const i=e instanceof Fh?Gh._createIn(e):e;if(i.isCollapsed){return false}for(const e of this.markers.getMarkersIntersectingRange(i)){if(e.affectsData){return true}}const{ignoreWhitespaces:n=false}=t||{};for(const e of i.getItems()){if(e.is("textProxy")){if(!n){return true}else if(e.data.search(/\S/)!==-1){return true}}else if(this.schema.isObject(e)){return true}}return false}createPositionFromPath(e,t,i){return new $h(e,t,i)}createPositionAt(e,t){return $h._createAt(e,t)}createPositionAfter(e){return $h._createAfter(e)}createPositionBefore(e){return $h._createBefore(e)}createRange(e,t){return new Gh(e,t)}createRangeIn(e){return Gh._createIn(e)}createRangeOn(e){return Gh._createOn(e)}createSelection(e,t,i){return new tf(e,t,i)}createBatch(e){return new Fm(e)}createOperationFromJSON(e){return Rg.fromJSON(e,this.document)}destroy(){this.document.destroy();this.stopListening();}_runPendingChanges(){const e=[];this.fire("_beforeChanges");while(this._pendingChanges.length){const t=this._pendingChanges[0].batch;this._currentWriter=new ug(this,t);const i=this._pendingChanges[0].callback(this._currentWriter);e.push(i);this.document._handleChangeBlock(this._currentWriter);this._pendingChanges.shift();this._currentWriter=null;}this.fire("_afterChanges");return e}}yr(fp,Qc);class mp{constructor(){this._listener=Object.create(Wd);}listenTo(e){this._listener.listenTo(e,"keydown",(e,t)=>{this._listener.fire("_keydown:"+Ll(t),t);});}set(e,t,i={}){const n=Dl(e);const o=i.priority;this._listener.listenTo(this._listener,"_keydown:"+n,(e,i)=>{t(i,()=>{i.preventDefault();i.stopPropagation();e.stop();});e.return=true;},{priority:o});}press(e){return !!this._listener.fire("_keydown:"+Ll(e),e)}destroy(){this._listener.stopListening();}}class gp extends mp{constructor(e){super();this.editor=e;}set(e,t,i={}){if(typeof t=="string"){const e=t;t=(t,i)=>{this.editor.execute(e);i();};}super.set(e,t,i);}}class pp{constructor(e={}){this._context=e.context||new Rr({language:e.language});this._context._addEditor(this,!e.context);const t=Array.from(this.constructor.builtinPlugins||[]);this.config=new Gs(e,this.constructor.defaultConfig);this.config.define("plugins",t);this.config.define(this._context._getEditorConfig());this.plugins=new Ar(this,t,this._context.plugins);this.locale=this._context.locale;this.t=this.locale.t;this.commands=new hm;this.set("state","initializing");this.once("ready",()=>this.state="ready",{priority:"high"});this.once("destroy",()=>this.state="destroyed",{priority:"high"});this.set("isReadOnly",false);this.model=new fp;const i=new Rc;this.data=new Dm(this.model,i);this.editing=new um(this.model,i);this.editing.view.document.bind("isReadOnly").to(this);this.conversion=new zm([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher);this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher);this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher);this.keystrokes=new gp(this);this.keystrokes.listenTo(this.editing.view.document);}initPlugins(){const e=this.config;const t=e.get("plugins");const i=e.get("removePlugins")||[];const n=e.get("extraPlugins")||[];return this.plugins.init(t.concat(n),i)}destroy(){let e=Promise.resolve();if(this.state=="initializing"){e=new Promise(e=>this.once("ready",e));}return e.then(()=>{this.fire("destroy");this.stopListening();this.commands.destroy();}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy();this.data.destroy();this.editing.destroy();this.keystrokes.destroy();}).then(()=>this._context._removeEditor(this))}execute(...e){try{this.commands.execute(...e);}catch(e){rr["b"].rethrowUnexpectedError(e,this);}}}yr(pp,Qc);const bp={setData(e){this.data.set(e);},getData(e){return this.data.get(e)}};var wp=bp;function _p(e,t){if(e instanceof HTMLTextAreaElement){e.value=t;}e.innerHTML=t;}const vp={updateSourceElement(){if(!this.sourceElement){throw new rr["b"]("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this)}_p(this.sourceElement,this.data.get());}};var kp=vp;function yp(e){if(!me(e.updateSourceElement)){throw new rr["b"]("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",e)}const t=e.sourceElement;if(t&&t.tagName.toLowerCase()==="textarea"&&t.form){let i;const n=t.form;const o=()=>e.updateSourceElement();if(me(n.submit)){i=n.submit;n.submit=()=>{o();i.apply(n);};}n.addEventListener("submit",o);e.on("destroy",()=>{n.removeEventListener("submit",o);if(i){n.submit=i;}});}}class xp{getHtml(e){const t=document.implementation.createHTMLDocument("");const i=t.createElement("div");i.appendChild(e);return i.innerHTML}}class Ap{constructor(e){this._domParser=new DOMParser;this._domConverter=new jd(e,{blockFillerMode:"nbsp"});this._htmlWriter=new xp;}toData(e){const t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this._domConverter.domToView(t)}_toDom(e){const t=this._domParser.parseFromString(e,"text/html");const i=t.createDocumentFragment();const n=t.body.childNodes;while(n.length>0){i.appendChild(n[0]);}return i}}class Cp{constructor(e){this.editor=e;this._components=new Map;}*names(){for(const e of this._components.values()){yield e.originalName;}}add(e,t){if(this.has(e)){throw new rr["b"]("componentfactory-item-exists: The item already exists in the component factory.",this,{name:e})}this._components.set(Tp(e),{callback:t,originalName:e});}create(e){if(!this.has(e)){throw new rr["b"]("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:e})}return this._components.get(Tp(e)).callback(this.editor.locale)}has(e){return this._components.has(Tp(e))}}function Tp(e){return String(e).toLowerCase()}class Mp{constructor(){this.set("isFocused",false);this.set("focusedElement",null);this._elements=new Set;this._nextEventLoopTimeout=null;}add(e){if(this._elements.has(e)){throw new rr["b"]("focusTracker-add-element-already-exist",this)}this.listenTo(e,"focus",()=>this._focus(e),{useCapture:true});this.listenTo(e,"blur",()=>this._blur(),{useCapture:true});this._elements.add(e);}remove(e){if(e===this.focusedElement){this._blur(e);}if(this._elements.has(e)){this.stopListening(e);this._elements.delete(e);}}destroy(){this.stopListening();}_focus(e){clearTimeout(this._nextEventLoopTimeout);this.focusedElement=e;this.isFocused=true;}_blur(){clearTimeout(this._nextEventLoopTimeout);this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null;this.isFocused=false;},0);}}yr(Mp,Wd);yr(Mp,Qc);class Ep{constructor(e){this.editor=e;this.componentFactory=new Cp(e);this.focusTracker=new Mp;this._editableElementsMap=new Map;this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update());}get element(){return null}update(){this.fire("update");}destroy(){this.stopListening();this.focusTracker.destroy();for(const e of this._editableElementsMap.values()){e.ckeditorInstance=null;}this._editableElementsMap=new Map;}setEditableElement(e,t){this._editableElementsMap.set(e,t);if(!t.ckeditorInstance){t.ckeditorInstance=this.editor;}}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){console.warn("editor-ui-deprecated-editable-elements: "+"The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this});return this._editableElementsMap}}yr(Ep,dr);function Pp({origin:e,originKeystrokeHandler:t,originFocusTracker:i,toolbar:n,beforeFocus:o,afterBlur:s}){i.add(n.element);t.set("Alt+F10",(e,t)=>{if(i.isFocused&&!n.focusTracker.isFocused){if(o){o();}n.focus();t();}});n.keystrokes.set("Esc",(t,i)=>{if(n.focusTracker.isFocused){e.focus();if(s){s();}i();}});}function Sp(e){if(Array.isArray(e)){return {items:e}}if(!e){return {items:[]}}return Object.assign({items:[]},e)}var Ip=i(14);const Op=new WeakMap;function Np(e){const{view:t,element:i,text:n,isDirectHost:o=true}=e;const s=t.document;if(!Op.has(s)){Op.set(s,new Map);s.registerPostFixer(e=>zp(s,e));}Op.get(s).set(i,{text:n,isDirectHost:o});t.change(e=>zp(s,e));}function Lp(e,t){if(!t.hasClass("ck-placeholder")){e.addClass("ck-placeholder",t);return true}return false}function Dp(e,t){if(t.hasClass("ck-placeholder")){e.removeClass("ck-placeholder",t);return true}return false}function jp(e){if(!e.isAttached()){return false}const t=!Array.from(e.getChildren()).some(e=>!e.is("uiElement"));const i=e.document;if(!i.isFocused&&t){return true}const n=i.selection;const o=n.anchor;if(t&&o&&o.parent!==e){return true}return false}function zp(e,t){const i=Op.get(e);let n=false;for(const[e,o]of i){if(Bp(t,e,o)){n=true;}}return n}function Bp(e,t,i){const{text:n,isDirectHost:o}=i;const s=o?t:Vp(t);let r=false;if(!s){return false}i.hostElement=s;if(s.getAttribute("data-placeholder")!==n){e.setAttribute("data-placeholder",n,s);r=true;}if(jp(s)){if(Lp(e,s)){r=true;}}else if(Dp(e,s)){r=true;}return r}function Vp(e){if(e.childCount===1){const t=e.getChild(0);if(t.is("element")&&!t.is("uiElement")){return t}}return null}class Fp{constructor(){this._replacedElements=[];}replace(e,t){this._replacedElements.push({element:e,newElement:t});e.style.display="none";if(t){e.parentNode.insertBefore(t,e.nextSibling);}}restore(){this._replacedElements.forEach(({element:e,newElement:t})=>{e.style.display="";if(t){t.remove();}});this._replacedElements=[];}}class Hp extends Ep{constructor(e,t){super(e);this.view=t;this._toolbarConfig=Sp(e.config.get("toolbar"));this._elementReplacer=new Fp;}get element(){return this.view.element}init(e){const t=this.editor;const i=this.view;const n=t.editing.view;const o=i.editable;const s=n.document.getRoot();o.name=s.rootName;i.render();const r=o.element;this.setEditableElement(o.name,r);this.focusTracker.add(r);i.editable.bind("isFocused").to(this.focusTracker);n.attachDomRoot(r);if(e){this._elementReplacer.replace(e,this.element);}this._initPlaceholder();this._initToolbar();this.fire("ready");}destroy(){const e=this.view;const t=this.editor.editing.view;this._elementReplacer.restore();t.detachDomRoot(e.editable.name);e.destroy();super.destroy();}_initToolbar(){const e=this.editor;const t=this.view;const i=e.editing.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused");t.stickyPanel.limiterElement=t.element;if(this._toolbarConfig.viewportTopOffset){t.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset;}t.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory);Pp({origin:i,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:t.toolbar});}_initPlaceholder(){const e=this.editor;const t=e.editing.view;const i=t.document.getRoot();const n=e.sourceElement;const o=e.config.get("placeholder")||n&&n.tagName.toLowerCase()==="textarea"&&n.getAttribute("placeholder");if(o){Np({view:t,element:i,text:o,isDirectHost:false});}}}class Up extends xr{constructor(e=[]){super(e,{idProperty:"viewUid"});this.on("add",(e,t,i)=>{this._renderViewIntoCollectionParent(t,i);});this.on("remove",(e,t)=>{if(t.element&&this._parentElement){t.element.remove();}});this._parentElement=null;}destroy(){this.map(e=>e.destroy());}setParent(e){this._parentElement=e;for(const e of this){this._renderViewIntoCollectionParent(e);}}delegate(...e){if(!e.length||!Wp(e)){throw new rr["b"]("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this)}return {to:t=>{for(const i of this){for(const n of e){i.delegate(n).to(t);}}this.on("add",(i,n)=>{for(const i of e){n.delegate(i).to(t);}});this.on("remove",(i,n)=>{for(const i of e){n.stopDelegating(i,t);}});}}}_renderViewIntoCollectionParent(e,t){if(!e.isRendered){e.render();}if(e.element&&this._parentElement){this._parentElement.insertBefore(e.element,this._parentElement.children[t]);}}}function Wp(e){return e.every(e=>typeof e=="string")}const $p="http://www.w3.org/1999/xhtml";class qp{constructor(e){Object.assign(this,nb(ib(e)));this._isRendered=false;this._revertData=null;}render(){const e=this._renderNode({intoFragment:true});this._isRendered=true;return e}apply(e){this._revertData=pb();this._renderNode({node:e,isApplying:true,revertData:this._revertData});return e}revert(e){if(!this._revertData){throw new rr["b"]("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,e])}this._revertTemplateFromNode(e,this._revertData);}*getViews(){function*e(t){if(t.children){for(const i of t.children){if(fb(i)){yield i;}else if(mb(i)){yield*e(i);}}}}yield*e(this);}static bind(e,t){return {to(i,n){return new Jp({eventNameOrFunction:i,attribute:i,observable:e,emitter:t,callback:n})},if(i,n,o){return new Gp({observable:e,emitter:t,attribute:i,valueIfTrue:n,callback:o})}}}static extend(e,t){if(e._isRendered){throw new rr["b"]("template-extend-render: Attempting to extend a template which has already been rendered.",[this,e])}ub(e,nb(ib(t)));}_renderNode(e){let t;if(e.node){t=this.tag&&this.text;}else {t=this.tag?this.text:!this.text;}if(t){throw new rr["b"]('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this)}if(this.text){return this._renderText(e)}else {return this._renderElement(e)}}_renderElement(e){let t=e.node;if(!t){t=e.node=document.createElementNS(this.ns||$p,this.tag);}this._renderAttributes(e);this._renderElementChildren(e);this._setUpListeners(e);return t}_renderText(e){let t=e.node;if(t){e.revertData.text=t.textContent;}else {t=e.node=document.createTextNode("");}if(Qp(this.text)){this._bindToObservable({schema:this.text,updater:Zp(t),data:e});}else {t.textContent=this.text.join("");}return t}_renderAttributes(e){let t,i,n,o;if(!this.attributes){return}const s=e.node;const r=e.revertData;for(t in this.attributes){n=s.getAttribute(t);i=this.attributes[t];if(r){r.attributes[t]=n;}o=ce(i[0])&&i[0].ns?i[0].ns:null;if(Qp(i)){const a=o?i[0].value:i;if(r&&bb(t)){a.unshift(n);}this._bindToObservable({schema:a,updater:eb(s,t,o),data:e});}else if(t=="style"&&typeof i[0]!=="string"){this._renderStyleAttribute(i[0],e);}else {if(r&&n&&bb(t)){i.unshift(n);}i=i.map(e=>e?e.value||e:e).reduce((e,t)=>e.concat(t),[]).reduce(lb,"");if(!hb(i)){s.setAttributeNS(o,t,i);}}}}_renderStyleAttribute(e,t){const i=t.node;for(const n in e){const o=e[n];if(Qp(o)){this._bindToObservable({schema:[o],updater:tb(i,n),data:t});}else {i.style[n]=o;}}}_renderElementChildren(e){const t=e.node;const i=e.intoFragment?document.createDocumentFragment():t;const n=e.isApplying;let o=0;for(const s of this.children){if(gb(s)){if(!n){s.setParent(t);for(const e of s){i.appendChild(e.element);}}}else if(fb(s)){if(!n){if(!s.isRendered){s.render();}i.appendChild(s.element);}}else if(xd(s)){i.appendChild(s);}else {if(n){const t=e.revertData;const n=pb();t.children.push(n);s._renderNode({node:i.childNodes[o++],isApplying:true,revertData:n});}else {i.appendChild(s.render());}}}if(e.intoFragment){t.appendChild(i);}}_setUpListeners(e){if(!this.eventListeners){return}for(const t in this.eventListeners){const i=this.eventListeners[t].map(i=>{const[n,o]=t.split("@");return i.activateDomEventListener(n,o,e)});if(e.revertData){e.revertData.bindings.push(i);}}}_bindToObservable({schema:e,updater:t,data:i}){const n=i.revertData;Kp(e,t,i);const o=e.filter(e=>!hb(e)).filter(e=>e.observable).map(n=>n.activateAttributeListener(e,t,i));if(n){n.bindings.push(o);}}_revertTemplateFromNode(e,t){for(const e of t.bindings){for(const t of e){t();}}if(t.text){e.textContent=t.text;return}for(const i in t.attributes){const n=t.attributes[i];if(n===null){e.removeAttribute(i);}else {e.setAttribute(i,n);}}for(let i=0;i<t.children.length;++i){this._revertTemplateFromNode(e.childNodes[i],t.children[i]);}}}yr(qp,dr);class Yp{constructor(e){Object.assign(this,e);}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,i){const n=()=>Kp(e,t,i);this.emitter.listenTo(this.observable,"change:"+this.attribute,n);return ()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,n);}}}class Jp extends Yp{activateDomEventListener(e,t,i){const n=(e,i)=>{if(!t||i.target.matches(t)){if(typeof this.eventNameOrFunction=="function"){this.eventNameOrFunction(i);}else {this.observable.fire(this.eventNameOrFunction,i);}}};this.emitter.listenTo(i.node,e,n);return ()=>{this.emitter.stopListening(i.node,e,n);}}}class Gp extends Yp{getValue(e){const t=super.getValue(e);return hb(t)?false:this.valueIfTrue||true}}function Qp(e){if(!e){return false}if(e.value){e=e.value;}if(Array.isArray(e)){return e.some(Qp)}else if(e instanceof Yp){return true}return false}function Xp(e,t){return e.map(e=>{if(e instanceof Yp){return e.getValue(t)}return e})}function Kp(e,t,{node:i}){let n=Xp(e,i);if(e.length==1&&e[0]instanceof Gp){n=n[0];}else {n=n.reduce(lb,"");}if(hb(n)){t.remove();}else {t.set(n);}}function Zp(e){return {set(t){e.textContent=t;},remove(){e.textContent="";}}}function eb(e,t,i){return {set(n){e.setAttributeNS(i,t,n);},remove(){e.removeAttributeNS(i,t);}}}function tb(e,t){return {set(i){e.style[t]=i;},remove(){e.style[t]=null;}}}function ib(e){const t=qs(e,e=>{if(e&&(e instanceof Yp||mb(e)||fb(e)||gb(e))){return e}});return t}function nb(e){if(typeof e=="string"){e=rb(e);}else if(e.text){ab(e);}if(e.on){e.eventListeners=sb(e.on);delete e.on;}if(!e.text){if(e.attributes){ob(e.attributes);}const t=[];if(e.children){if(gb(e.children)){t.push(e.children);}else {for(const i of e.children){if(mb(i)||fb(i)||xd(i)){t.push(i);}else {t.push(new qp(i));}}}}e.children=t;}return e}function ob(e){for(const t in e){if(e[t].value){e[t].value=[].concat(e[t].value);}cb(e,t);}}function sb(e){for(const t in e){cb(e,t);}return e}function rb(e){return {text:[e]}}function ab(e){if(!Array.isArray(e.text)){e.text=[e.text];}}function cb(e,t){if(!Array.isArray(e[t])){e[t]=[e[t]];}}function lb(e,t){if(hb(t)){return e}else if(hb(e)){return t}else {return `${e} ${t}`}}function db(e,t){for(const i in t){if(e[i]){e[i].push(...t[i]);}else {e[i]=t[i];}}}function ub(e,t){if(t.attributes){if(!e.attributes){e.attributes={};}db(e.attributes,t.attributes);}if(t.eventListeners){if(!e.eventListeners){e.eventListeners={};}db(e.eventListeners,t.eventListeners);}if(t.text){e.text.push(...t.text);}if(t.children&&t.children.length){if(e.children.length!=t.children.length){throw new rr["b"]("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",e)}let i=0;for(const n of t.children){ub(e.children[i++],n);}}}function hb(e){return !e&&e!==0}function fb(e){return e instanceof _b}function mb(e){return e instanceof qp}function gb(e){return e instanceof Up}function pb(){return {children:[],bindings:[],attributes:{}}}function bb(e){return e=="class"||e=="style"}var wb=i(16);class _b{constructor(e){this.element=null;this.isRendered=false;this.locale=e;this.t=e&&e.t;this._viewCollections=new xr;this._unboundChildren=this.createCollection();this._viewCollections.on("add",(t,i)=>{i.locale=e;});this.decorate("render");}get bindTemplate(){if(this._bindTemplate){return this._bindTemplate}return this._bindTemplate=qp.bind(this,this)}createCollection(e){const t=new Up(e);this._viewCollections.add(t);return t}registerChild(e){if(!kr(e)){e=[e];}for(const t of e){this._unboundChildren.add(t);}}deregisterChild(e){if(!kr(e)){e=[e];}for(const t of e){this._unboundChildren.remove(t);}}setTemplate(e){this.template=new qp(e);}extendTemplate(e){qp.extend(this.template,e);}render(){if(this.isRendered){throw new rr["b"]("ui-view-render-already-rendered: This View has already been rendered.",this)}if(this.template){this.element=this.template.render();this.registerChild(this.template.getViews());}this.isRendered=true;}destroy(){this.stopListening();this._viewCollections.map(e=>e.destroy());if(this.template&&this.template._revertData){this.template.revert(this.element);}}}yr(_b,Wd);yr(_b,Qc);var vb="[object String]";function kb(e){return typeof e=="string"||!Gt(e)&&T(e)&&v(e)==vb}var yb=kb;function xb(e,t,i={},n=[]){const o=i&&i.xmlns;const s=o?e.createElementNS(o,t):e.createElement(t);for(const e in i){s.setAttribute(e,i[e]);}if(yb(n)||!kr(n)){n=[n];}for(let t of n){if(yb(t)){t=e.createTextNode(t);}s.appendChild(t);}return s}class Ab extends Up{constructor(e,t=[]){super(t);this.locale=e;}attachToDom(){this._bodyCollectionContainer=new qp({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");if(!e){e=xb(document,"div",{class:"ck-body-wrapper"});document.body.appendChild(e);}e.appendChild(this._bodyCollectionContainer);}detachFromDom(){super.destroy();if(this._bodyCollectionContainer){this._bodyCollectionContainer.remove();}const e=document.querySelector(".ck-body-wrapper");if(e&&e.childElementCount==0){e.remove();}}}var Cb=i(18);class Tb extends _b{constructor(e){super(e);this.body=new Ab(e);}render(){super.render();this.body.attachToDom();}destroy(){this.body.detachFromDom();return super.destroy()}}var Mb=i(20);class Eb extends _b{constructor(e){super(e);this.set("text");this.set("for");this.id=`ck-editor__label_${ir()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]});}}class Pb extends Tb{constructor(e){super(e);this.top=this.createCollection();this.main=this.createCollection();this._voiceLabelView=this._createVoiceLabel();this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]});}_createVoiceLabel(){const e=this.t;const t=new Eb;t.text=e("Rich Text Editor");t.extendTemplate({attributes:{class:"ck-voice-label"}});return t}}class Sb extends _b{constructor(e,t,i){super(e);this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}});this.name=null;this.set("isFocused",false);this._editableElement=i;this._hasExternalElement=!!this._editableElement;this._editingView=t;}render(){super.render();if(this._hasExternalElement){this.template.apply(this.element=this._editableElement);}else {this._editableElement=this.element;}this.on("change:isFocused",()=>this._updateIsFocusedClasses());this._updateIsFocusedClasses();}destroy(){if(this._hasExternalElement){this.template.revert(this._editableElement);}super.destroy();}_updateIsFocusedClasses(){const e=this._editingView;if(e.isRenderingInProgress){i(this);}else {t(this);}function t(t){e.change(i=>{const n=e.document.getRoot(t.name);i.addClass(t.isFocused?"ck-focused":"ck-blurred",n);i.removeClass(t.isFocused?"ck-blurred":"ck-focused",n);});}function i(n){e.once("change:isRenderingInProgress",(e,o,s)=>{if(!s){t(n);}else {i(n);}});}}}class Ib extends Sb{constructor(e,t,i){super(e,t,i);this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}});}render(){super.render();const e=this._editingView;const t=this.t;e.change(i=>{const n=e.document.getRoot(this.name);i.setAttribute("aria-label",t("Rich Text Editor, %0",[this.name]),n);});}}function Ob(e){return t=>t+e}var Nb=i(22);const Rb=Ob("px");class Lb extends _b{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",false);this.set("isSticky",false);this.set("limiterElement",null);this.set("limiterBottomOffset",50);this.set("viewportTopOffset",0);this.set("_marginLeft",null);this.set("_isStickyToTheLimiter",false);this.set("_hasViewportTopOffset",false);this.content=this.createCollection();this._contentPanelPlaceholder=new qp({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",e=>e?"block":"none"),height:t.to("isSticky",e=>e?Rb(this._panelRect.height):null)}}}).render();this._contentPanel=new qp({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",e=>e?Rb(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:t.to("_hasViewportTopOffset",e=>e?Rb(this.viewportTopOffset):null),bottom:t.to("_isStickyToTheLimiter",e=>e?Rb(this.limiterBottomOffset):null),marginLeft:t.to("_marginLeft")}},children:this.content}).render();this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]});}render(){super.render();this._checkIfShouldBeSticky();this.listenTo(Od.window,"scroll",()=>{this._checkIfShouldBeSticky();});this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky();});}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let t;if(!this.limiterElement){this.isSticky=false;}else {t=this._limiterRect=this.limiterElement.getBoundingClientRect();this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height;}if(this.isSticky){this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset;this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset;this._marginLeft=this._isStickyToTheLimiter?null:Rb(-Od.window.scrollX);}else {this._isStickyToTheLimiter=false;this._hasViewportTopOffset=false;this._marginLeft=null;}}}class Db{constructor(e){Object.assign(this,e);if(e.actions&&e.keystrokeHandler){for(const t in e.actions){let i=e.actions[t];if(typeof i=="string"){i=[i];}for(const n of i){e.keystrokeHandler.set(n,(e,i)=>{this[t]();i();});}}}}get first(){return this.focusables.find(jb)||null}get last(){return this.focusables.filter(jb).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;if(this.focusTracker.focusedElement===null){return null}this.focusables.find((t,i)=>{const n=t.element===this.focusTracker.focusedElement;if(n){e=i;}return n});return e}focusFirst(){this._focus(this.first);}focusLast(){this._focus(this.last);}focusNext(){this._focus(this.next);}focusPrevious(){this._focus(this.previous);}_focus(e){if(e){e.focus();}}_getFocusableItem(e){const t=this.current;const i=this.focusables.length;if(!i){return null}if(t===null){return this[e===1?"first":"last"]}let n=(t+i+e)%i;do{const t=this.focusables.get(n);if(jb(t)){return t}n=(n+i+e)%i;}while(n!==t);return null}}function jb(e){return !!(e.focus&&Od.window.getComputedStyle(e.element).display!="none")}class zb extends _b{constructor(e){super(e);this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}});}}const Bb=100;class Vb{constructor(e,t){if(!Vb._observerInstance){Vb._createObserver();}this._element=e;this._callback=t;Vb._addElementCallback(e,t);Vb._observerInstance.observe(e);}destroy(){Vb._deleteElementCallback(this._element,this._callback);}static _addElementCallback(e,t){if(!Vb._elementCallbacks){Vb._elementCallbacks=new Map;}let i=Vb._elementCallbacks.get(e);if(!i){i=new Set;Vb._elementCallbacks.set(e,i);}i.add(t);}static _deleteElementCallback(e,t){const i=Vb._getElementCallbacks(e);if(i){i.delete(t);if(!i.size){Vb._elementCallbacks.delete(e);Vb._observerInstance.unobserve(e);}}if(Vb._elementCallbacks&&!Vb._elementCallbacks.size){Vb._observerInstance=null;Vb._elementCallbacks=null;}}static _getElementCallbacks(e){if(!Vb._elementCallbacks){return null}return Vb._elementCallbacks.get(e)}static _createObserver(){let e;if(typeof Od.window.ResizeObserver==="function"){e=Od.window.ResizeObserver;}else {e=Fb;}Vb._observerInstance=new e(e=>{for(const t of e){if(!t.target.offsetParent){continue}const e=Vb._getElementCallbacks(t.target);if(e){for(const i of e){i(t);}}}});}}Vb._observerInstance=null;Vb._elementCallbacks=null;class Fb{constructor(e){this._callback=e;this._elements=new Set;this._previousRects=new Map;this._periodicCheckTimeout=null;}observe(e){this._elements.add(e);this._checkElementRectsAndExecuteCallback();if(this._elements.size===1){this._startPeriodicCheck();}}unobserve(e){this._elements.delete(e);this._previousRects.delete(e);if(!this._elements.size){this._stopPeriodicCheck();}}_startPeriodicCheck(){const e=()=>{this._checkElementRectsAndExecuteCallback();this._periodicCheckTimeout=setTimeout(e,Bb);};this.listenTo(Od.window,"resize",()=>{this._checkElementRectsAndExecuteCallback();});this._periodicCheckTimeout=setTimeout(e,Bb);}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout);this.stopListening();this._previousRects.clear();}_checkElementRectsAndExecuteCallback(){const e=[];for(const t of this._elements){if(this._hasRectChanged(t)){e.push({target:t,contentRect:this._previousRects.get(t)});}}if(e.length){this._callback(e);}}_hasRectChanged(e){if(!e.ownerDocument.body.contains(e)){return false}const t=new kh(e);const i=this._previousRects.get(e);const n=!i||!i.isEqual(t);this._previousRects.set(e,t);return n}}yr(Fb,Wd);function Hb(e){return e.bindTemplate.to(t=>{if(t.target===e.element){t.preventDefault();}})}class Ub extends _b{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",false);this.set("position","se");this.children=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",e=>`ck-dropdown__panel_${e}`),t.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:t.to(e=>e.preventDefault())}});}focus(){if(this.children.length){this.children.first.focus();}}focusLast(){if(this.children.length){const e=this.children.last;if(typeof e.focusLast==="function"){e.focusLast();}else {e.focus();}}}}var Wb=i(24);function $b(e){if(!e||!e.parentNode){return null}if(e.offsetParent===Od.document.body){return null}return e.offsetParent}function qb({element:e,target:t,positions:i,limiter:n,fitInViewport:o}){if(me(t)){t=t();}if(me(n)){n=n();}const s=$b(e);const r=new kh(e);const a=new kh(t);let c;let l;if(!n&&!o){[l,c]=Yb(i[0],a,r);}else {const e=n&&new kh(n).getVisible();const t=o&&new kh(Od.window);const s=Jb(i,{targetRect:a,elementRect:r,limiterRect:e,viewportRect:t});[l,c]=s||Yb(i[0],a,r);}let d=Kb(c);if(s){d=Xb(d,s);}return {left:d.left,top:d.top,name:l}}function Yb(e,t,i){const n=e(t,i);if(!n){return null}const{left:o,top:s,name:r}=n;return [r,i.clone().moveTo(o,s)]}function Jb(e,t){const{elementRect:i,viewportRect:n}=t;const o=i.getArea();const s=Gb(e,t);if(n){const e=s.filter(({viewportIntersectArea:e})=>e===o);const t=Qb(e,o);if(t){return t}}return Qb(s,o)}function Gb(e,{targetRect:t,elementRect:i,limiterRect:n,viewportRect:o}){const s=[];const r=i.getArea();for(const a of e){const e=Yb(a,t,i);if(!e){continue}const[c,l]=e;let d=0;let u=0;if(n){if(o){const e=n.getIntersection(o);if(e){d=e.getIntersectionArea(l);}}else {d=n.getIntersectionArea(l);}}if(o){u=o.getIntersectionArea(l);}const h={positionName:c,positionRect:l,limiterIntersectArea:d,viewportIntersectArea:u};if(d===r){return [h]}s.push(h);}return s}function Qb(e,t){let i=0;let n;let o;for(const{positionName:s,positionRect:r,limiterIntersectArea:a,viewportIntersectArea:c}of e){if(a===t){return [s,r]}const e=c**2+a**2;if(e>i){i=e;n=r;o=s;}}return n?[o,n]:null}function Xb({left:e,top:t},i){const n=Kb(new kh(i));const o=_h(i);e-=n.left;t-=n.top;e+=i.scrollLeft;t+=i.scrollTop;e-=o.left;t-=o.top;return {left:e,top:t}}function Kb({left:e,top:t}){const{scrollX:i,scrollY:n}=Od.window;return {left:e+i,top:t+n}}class Zb extends _b{constructor(e,t,i){super(e);const n=this.bindTemplate;this.buttonView=t;this.panelView=i;this.set("isOpen",false);this.set("isEnabled",true);this.set("class");this.set("id");this.set("panelPosition","auto");this.keystrokes=new mp;this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",n.to("class"),n.if("isEnabled","ck-disabled",e=>!e)],id:n.to("id"),"aria-describedby":n.to("ariaDescribedById")},children:[t,i]});t.extendTemplate({attributes:{class:["ck-dropdown__button"]}});}render(){super.render();this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen;});this.panelView.bind("isVisible").to(this,"isOpen");this.on("change:isOpen",()=>{if(!this.isOpen){return}if(this.panelPosition==="auto"){this.panelView.position=Zb._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:true,positions:this._panelPositions}).name;}else {this.panelView.position=this.panelPosition;}});this.keystrokes.listenTo(this.element);const e=(e,t)=>{if(this.isOpen){this.buttonView.focus();this.isOpen=false;t();}};this.keystrokes.set("arrowdown",(e,t)=>{if(this.buttonView.isEnabled&&!this.isOpen){this.isOpen=true;t();}});this.keystrokes.set("arrowright",(e,t)=>{if(this.isOpen){t();}});this.keystrokes.set("arrowleft",e);this.keystrokes.set("esc",e);}focus(){this.buttonView.focus();}get _panelPositions(){const{southEast:e,southWest:t,northEast:i,northWest:n}=Zb.defaultPanelPositions;if(this.locale.uiLanguageDirection==="ltr"){return [e,t,i,n]}else {return [t,e,n,i]}}}Zb.defaultPanelPositions={southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.bottom-t.height,left:e.left-t.width+e.width,name:"nw"})};Zb._getOptimalPosition=qb;var ew=i(26);class tw extends _b{constructor(){super();const e=this.bindTemplate;this.set("content","");this.set("viewBox","0 0 20 20");this.set("fillColor","");this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:e.to("viewBox")}});}render(){super.render();this._updateXMLContent();this._colorFillPaths();this.on("change:content",()=>{this._updateXMLContent();this._colorFillPaths();});this.on("change:fillColor",()=>{this._colorFillPaths();});}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml");const t=e.querySelector("svg");const i=t.getAttribute("viewBox");if(i){this.viewBox=i;}this.element.innerHTML="";while(t.childNodes.length>0){this.element.appendChild(t.childNodes[0]);}}}_colorFillPaths(){if(this.fillColor){this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor;});}}}var iw=i(28);class nw extends _b{constructor(e){super(e);this.set("text","");this.set("position","s");const t=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",t.to("position",e=>"ck-tooltip_"+e),t.if("text","ck-hidden",e=>!e.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:t.to("text")}]}]});}}var ow=i(30);class sw extends _b{constructor(e){super(e);const t=this.bindTemplate;const i=ir();this.set("class");this.set("labelStyle");this.set("icon");this.set("isEnabled",true);this.set("isOn",false);this.set("isVisible",true);this.set("isToggleable",false);this.set("keystroke");this.set("label");this.set("tabindex",-1);this.set("tooltip");this.set("tooltipPosition","s");this.set("type","button");this.set("withText",false);this.set("withKeystroke",false);this.children=this.createCollection();this.tooltipView=this._createTooltipView();this.labelView=this._createLabelView(i);this.iconView=new tw;this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}});this.keystrokeView=this._createKeystrokeView();this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",t.to("class"),t.if("isEnabled","ck-disabled",e=>!e),t.if("isVisible","ck-hidden",e=>!e),t.to("isOn",e=>e?"ck-on":"ck-off"),t.if("withText","ck-button_with-text"),t.if("withKeystroke","ck-button_with-keystroke")],type:t.to("type",e=>e?e:"button"),tabindex:t.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${i}`,"aria-disabled":t.if("isEnabled",true,e=>!e),"aria-pressed":t.to("isOn",e=>this.isToggleable?String(e):false)},children:this.children,on:{mousedown:t.to(e=>{e.preventDefault();}),click:t.to(e=>{if(this.isEnabled){this.fire("execute");}else {e.preventDefault();}})}});}render(){super.render();if(this.icon){this.iconView.bind("content").to(this,"icon");this.children.add(this.iconView);}this.children.add(this.tooltipView);this.children.add(this.labelView);if(this.withKeystroke){this.children.add(this.keystrokeView);}}focus(){this.element.focus();}_createTooltipView(){const e=new nw;e.bind("text").to(this,"_tooltipString");e.bind("position").to(this,"tooltipPosition");return e}_createLabelView(e){const t=new _b;const i=this.bindTemplate;t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:i.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:this.bindTemplate.to("label")}]});return t}_createKeystrokeView(){const e=new _b;e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",e=>jl(e))}]});return e}_getTooltipString(e,t,i){if(e){if(typeof e=="string"){return e}else {if(i){i=jl(i);}if(e instanceof Function){return e(t,i)}else {return `${t}${i?` (${i})`:""}`}}}return ""}}var rw='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class aw extends sw{constructor(e){super(e);this.arrowView=this._createArrowView();this.extendTemplate({attributes:{"aria-haspopup":true}});this.delegate("execute").to(this,"open");}render(){super.render();this.children.add(this.arrowView);}_createArrowView(){const e=new tw;e.content=rw;e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}});return e}}var cw=i(32);class lw extends _b{constructor(){super();this.items=this.createCollection();this.focusTracker=new Mp;this.keystrokes=new mp;this._focusCycler=new Db({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}});this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items});}render(){super.render();for(const e of this.items){this.focusTracker.add(e.element);}this.items.on("add",(e,t)=>{this.focusTracker.add(t.element);});this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element);});this.keystrokes.listenTo(this.element);}focus(){this._focusCycler.focusFirst();}focusLast(){this._focusCycler.focusLast();}}class dw extends _b{constructor(e){super(e);this.children=this.createCollection();this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children});}focus(){this.children.first.focus();}}class uw extends _b{constructor(e){super(e);this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}});}}var hw=i(34);class fw extends sw{constructor(e){super(e);this.isToggleable=true;this.toggleSwitchView=this._createToggleView();this.extendTemplate({attributes:{class:"ck-switchbutton"}});}render(){super.render();this.children.add(this.toggleSwitchView);}_createToggleView(){const e=new _b;e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]});return e}}function mw({emitter:e,activator:t,callback:i,contextElements:n}){e.listenTo(document,"mousedown",(e,{target:o})=>{if(!t()){return}for(const e of n){if(e.contains(o)){return}}i();});}var gw=i(36);var pw=i(38);function bw(e,t=aw){const i=new t(e);const n=new Ub(e);const o=new Zb(e,i,n);i.bind("isEnabled").to(o);if(i instanceof aw){i.bind("isOn").to(o,"isOpen");}else {i.arrowView.bind("isOn").to(o,"isOpen");}vw(o);return o}function ww(e,t){const i=e.locale;const n=i.t;const o=e.toolbarView=new Tw(i);o.set("ariaLabel",n("Dropdown toolbar"));e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}});t.map(e=>o.items.add(e));e.panelView.children.add(o);o.items.delegate("execute").to(e);}function _w(e,t){const i=e.locale;const n=e.listView=new lw(i);n.items.bindTo(t).using(({type:e,model:t})=>{if(e==="separator"){return new uw(i)}else if(e==="button"||e==="switchbutton"){const n=new dw(i);let o;if(e==="button"){o=new sw(i);}else {o=new fw(i);}o.bind(...Object.keys(t)).to(t);o.delegate("execute").to(n);n.children.add(o);return n}});e.panelView.children.add(n);n.items.delegate("execute").to(e);}function vw(e){kw(e);yw(e);xw(e);}function kw(e){e.on("render",()=>{mw({emitter:e,activator:()=>e.isOpen,callback:()=>{e.isOpen=false;},contextElements:[e.element]});});}function yw(e){e.on("execute",t=>{if(t.source instanceof fw){return}e.isOpen=false;});}function xw(e){e.keystrokes.set("arrowdown",(t,i)=>{if(e.isOpen){e.panelView.focus();i();}});e.keystrokes.set("arrowup",(t,i)=>{if(e.isOpen){e.panelView.focusLast();i();}});}var Aw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>';var Cw=i(40);class Tw extends _b{constructor(e,t){super(e);const i=this.bindTemplate;const n=this.t;this.options=t||{};this.set("ariaLabel",n("Editor toolbar"));this.set("maxWidth","auto");this.items=this.createCollection();this.focusTracker=new Mp;this.keystrokes=new mp;this.set("class");this.set("isCompact",false);this.itemsView=new Mw(e);this.children=this.createCollection();this.children.add(this.itemsView);this.focusables=this.createCollection();this._focusCycler=new Db({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}});this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")}},children:this.children,on:{mousedown:Hb(this)}});this._behavior=this.options.shouldGroupWhenFull?new Pw(this):new Ew(this);}render(){super.render();for(const e of this.items){this.focusTracker.add(e.element);}this.items.on("add",(e,t)=>{this.focusTracker.add(t.element);});this.items.on("remove",(e,t)=>{this.focusTracker.remove(t.element);});this.keystrokes.listenTo(this.element);this._behavior.render(this);}destroy(){this._behavior.destroy();return super.destroy()}focus(){this._focusCycler.focusFirst();}focusLast(){this._focusCycler.focusLast();}fillFromConfig(e,t){e.map(e=>{if(e=="|"){this.items.add(new zb);}else if(t.has(e)){this.items.add(t.create(e));}else {console.warn(Object(rr["a"])("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:e});}});}}class Mw extends _b{constructor(e){super(e);this.children=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children});}}class Ew{constructor(e){const t=e.bindTemplate;e.set("isVertical",false);e.itemsView.children.bindTo(e.items).using(e=>e);e.focusables.bindTo(e.items).using(e=>e);e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}});}render(){}destroy(){}}class Pw{constructor(e){this.viewChildren=e.children;this.viewFocusables=e.focusables;this.viewItemsView=e.itemsView;this.viewFocusTracker=e.focusTracker;this.viewLocale=e.locale;this.ungroupedItems=e.createCollection();this.groupedItems=e.createCollection();this.groupedItemsDropdown=this._createGroupedItemsDropdown();this.resizeObserver=null;this.cachedPadding=null;this.shouldUpdateGroupingOnNextResize=false;e.itemsView.children.bindTo(this.ungroupedItems).using(e=>e);this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this));this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this));e.children.on("add",this._updateFocusCycleableItems.bind(this));e.children.on("remove",this._updateFocusCycleableItems.bind(this));e.items.on("add",(e,t,i)=>{if(i>this.ungroupedItems.length){this.groupedItems.add(t,i-this.ungroupedItems.length);}else {this.ungroupedItems.add(t,i);}this._updateGrouping();});e.items.on("remove",(e,t,i)=>{if(i>this.ungroupedItems.length){this.groupedItems.remove(t);}else {this.ungroupedItems.remove(t);}this._updateGrouping();});e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}});}render(e){this.viewElement=e.element;this._enableGroupingOnResize();this._enableGroupingOnMaxWidthChange(e);}destroy(){this.groupedItemsDropdown.destroy();this.resizeObserver.destroy();}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement)){return}if(!this.viewElement.offsetParent){this.shouldUpdateGroupingOnNextResize=true;return}let e;while(this._areItemsOverflowing){this._groupLastItem();e=true;}if(!e&&this.groupedItems.length){while(this.groupedItems.length&&!this._areItemsOverflowing){this._ungroupFirstItem();}if(this._areItemsOverflowing){this._groupLastItem();}}}get _areItemsOverflowing(){if(!this.ungroupedItems.length){return false}const e=this.viewElement;const t=this.viewLocale.uiLanguageDirection;const i=new kh(e.lastChild);const n=new kh(e);if(!this.cachedPadding){const i=Od.window.getComputedStyle(e);const n=t==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(i[n]);}if(t==="ltr"){return i.right>n.right-this.cachedPadding}else {return i.left<n.left+this.cachedPadding}}_enableGroupingOnResize(){let e;this.resizeObserver=new Vb(this.viewElement,t=>{if(!e||e!==t.contentRect.width||this.shouldUpdateGroupingOnNextResize){this.shouldUpdateGroupingOnNextResize=false;this._updateGrouping();e=t.contentRect.width;}});this._updateGrouping();}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping();});}_groupLastItem(){if(!this.groupedItems.length){this.viewChildren.add(new zb);this.viewChildren.add(this.groupedItemsDropdown);this.viewFocusTracker.add(this.groupedItemsDropdown.element);}this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0);}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first));if(!this.groupedItems.length){this.viewChildren.remove(this.groupedItemsDropdown);this.viewChildren.remove(this.viewChildren.last);this.viewFocusTracker.remove(this.groupedItemsDropdown.element);}}_createGroupedItemsDropdown(){const e=this.viewLocale;const t=e.t;const i=bw(e);i.class="ck-toolbar__grouped-dropdown";i.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se";ww(i,[]);i.buttonView.set({label:t("Show more items"),tooltip:true,icon:Aw});i.toolbarView.items.bindTo(this.groupedItems).using(e=>e);return i}_updateFocusCycleableItems(){this.viewFocusables.clear();this.ungroupedItems.map(e=>{this.viewFocusables.add(e);});if(this.groupedItems.length){this.viewFocusables.add(this.groupedItemsDropdown);}}}var Sw=i(42);class Iw extends Pb{constructor(e,t,i={}){super(e);this.stickyPanel=new Lb(e);this.toolbar=new Tw(e,{shouldGroupWhenFull:i.shouldToolbarGroupWhenFull});this.editable=new Ib(e,t);}render(){super.render();this.stickyPanel.content.add(this.toolbar);this.top.add(this.stickyPanel);this.main.add(this.editable);}}function Ow(e){if(e instanceof HTMLTextAreaElement){return e.value}return e.innerHTML}class Nw extends pp{constructor(e,t){super(t);if(Js(e)){this.sourceElement=e;}this.data.processor=new Ap(this.data.viewDocument);this.model.document.createRoot();const i=!this.config.get("toolbar.shouldNotGroupWhenFull");const n=new Iw(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:i});this.ui=new Hp(this,n);yp(this);}destroy(){if(this.sourceElement){this.updateSourceElement();}this.ui.destroy();return super.destroy()}static create(e,t={}){return new Promise(i=>{const n=new this(e,t);i(n.initPlugins().then(()=>n.ui.init(Js(e)?e:null)).then(()=>{if(!Js(e)&&t.initialData){throw new rr["b"]("editor-create-initial-data: "+"The config.initialData option cannot be used together with initial data passed in Editor.create().",null)}const i=t.initialData||Rw(e);return n.data.init(i)}).then(()=>n.fire("ready")).then(()=>n));})}}yr(Nw,wp);yr(Nw,kp);function Rw(e){return Js(e)?Ow(e):e}class Lw{constructor(e){this.editor=e;this.set("isEnabled",true);this._disableStack=new Set;}forceDisabled(e){this._disableStack.add(e);if(this._disableStack.size==1){this.on("set:isEnabled",Dw,{priority:"highest"});this.isEnabled=false;}}clearForceDisabled(e){this._disableStack.delete(e);if(this._disableStack.size==0){this.off("set:isEnabled",Dw);this.isEnabled=true;}}destroy(){this.stopListening();}static get isContextPlugin(){return false}}yr(Lw,Qc);function Dw(e){e.return=false;e.stop();}class jw{constructor(e){this.editor=e;this.set("value",undefined);this.set("isEnabled",false);this._disableStack=new Set;this.decorate("execute");this.listenTo(this.editor.model.document,"change",()=>{this.refresh();});this.on("execute",e=>{if(!this.isEnabled){e.stop();}},{priority:"high"});this.listenTo(e,"change:isReadOnly",(e,t,i)=>{if(i){this.forceDisabled("readOnlyMode");}else {this.clearForceDisabled("readOnlyMode");}});}refresh(){this.isEnabled=true;}forceDisabled(e){this._disableStack.add(e);if(this._disableStack.size==1){this.on("set:isEnabled",zw,{priority:"highest"});this.isEnabled=false;}}clearForceDisabled(e){this._disableStack.delete(e);if(this._disableStack.size==0){this.off("set:isEnabled",zw);this.refresh();}}execute(){}destroy(){this.stopListening();}}yr(jw,Qc);function zw(e){e.return=false;e.stop();}function Bw(e){const t=e.next();if(t.done){return null}return t.value}const Vw=["left","right","center","justify"];function Fw(e){return Vw.includes(e)}function Hw(e,t){if(t.contentLanguageDirection=="rtl"){return e==="right"}else {return e==="left"}}const Uw="alignment";class Ww extends jw{refresh(){const e=this.editor;const t=e.locale;const i=Bw(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!i&&this._canBeAligned(i);if(this.isEnabled&&i.hasAttribute("alignment")){this.value=i.getAttribute("alignment");}else {this.value=t.contentLanguageDirection==="rtl"?"right":"left";}}execute(e={}){const t=this.editor;const i=t.locale;const n=t.model;const o=n.document;const s=e.value;n.change(e=>{const t=Array.from(o.selection.getSelectedBlocks()).filter(e=>this._canBeAligned(e));const n=t[0].getAttribute("alignment");const r=Hw(s,i)||n===s||!s;if(r){$w(t,e);}else {qw(t,e,s);}});}_canBeAligned(e){return this.editor.model.schema.checkAttribute(e,Uw)}}function $w(e,t){for(const i of e){t.removeAttribute(Uw,i);}}function qw(e,t,i){for(const n of e){t.setAttribute(Uw,i,n);}}class Yw extends Lw{static get pluginName(){return "AlignmentEditing"}constructor(e){super(e);e.config.define("alignment",{options:[...Vw]});}init(){const e=this.editor;const t=e.locale;const i=e.model.schema;const n=e.config.get("alignment.options").filter(Fw);i.extend("$block",{allowAttributes:"alignment"});e.model.schema.setAttributeProperties("alignment",{isFormatting:true});const o=Jw(n.filter(e=>!Hw(e,t)));e.conversion.attributeToAttribute(o);e.commands.add("alignment",new Ww(e));}}function Jw(e){const t={model:{key:"alignment",values:e.slice()},view:{}};for(const i of e){t.view[i]={key:"style",value:{"text-align":i}};}return t}var Gw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>';var Qw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>';var Xw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>';var Kw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>';const Zw=new Map([["left",Gw],["right",Qw],["center",Xw],["justify",Kw]]);class e_ extends Lw{get localizedOptionTitles(){const e=this.editor.t;return {left:e("Align left"),right:e("Align right"),center:e("Align center"),justify:e("Justify")}}static get pluginName(){return "AlignmentUI"}init(){const e=this.editor;const t=e.ui.componentFactory;const i=e.t;const n=e.config.get("alignment.options");n.filter(Fw).forEach(e=>this._addButton(e));t.add("alignment",e=>{const o=bw(e);const s=n.map(e=>t.create(`alignment:${e}`));ww(o,s);o.buttonView.set({label:i("Text alignment"),tooltip:true});o.toolbarView.isVertical=true;o.toolbarView.ariaLabel=i("Text alignment toolbar");o.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});const r=e.contentLanguageDirection==="rtl"?Qw:Gw;o.buttonView.bind("icon").toMany(s,"isOn",(...e)=>{const t=e.findIndex(e=>e);if(t<0){return r}return s[t].icon});o.bind("isEnabled").toMany(s,"isEnabled",(...e)=>e.some(e=>e));return o});}_addButton(e){const t=this.editor;t.ui.componentFactory.add(`alignment:${e}`,i=>{const n=t.commands.get("alignment");const o=new sw(i);o.set({label:this.localizedOptionTitles[e],icon:Zw.get(e),tooltip:true,isToggleable:true});o.bind("isEnabled").to(n);o.bind("isOn").to(n,"value",t=>t===e);this.listenTo(o,"execute",()=>{t.execute("alignment",{value:e});t.editing.view.focus();});return o});}}class t_ extends Lw{static get requires(){return [Yw,e_]}static get pluginName(){return "Alignment"}}class i_{static get pluginName(){return "BlockAutoformatEditing"}constructor(e,t,i){let n;let o=null;if(typeof i=="function"){n=i;}else {o=e.commands.get(i);n=()=>{e.execute(i);};}e.model.document.on("change",(i,s)=>{if(o&&!o.isEnabled){return}if(s.type=="transparent"){return}const r=Array.from(e.model.document.differ.getChanges());const a=r[0];if(r.length!=1||a.type!=="insert"||a.name!="$text"||a.length!=1){return}const c=a.position.parent;if(!c.is("paragraph")||c.childCount!==1){return}const l=t.exec(c.getChild(0).data);if(!l){return}e.model.enqueueChange(e=>{const t=e.createPositionAt(c,0);const i=e.createPositionAt(c,l[0].length);const o=new cf(t,i);const s=n({match:l});if(s!==false){e.remove(o);}o.detach();});});}}function n_(e,t){let i=e.start;const n=Array.from(e.getItems()).reduce((e,n)=>{if(!(n.is("text")||n.is("textProxy"))){i=t.createPositionAfter(n);return ""}return e+n.data},"");return {text:n,range:t.createRange(i,e.end)}}class o_{static get pluginName(){return "InlineAutoformatEditing"}constructor(e,t,i){let n;let o;let s;let r;if(t instanceof RegExp){n=t;}else {s=t;}if(typeof i=="string"){o=i;}else {r=i;}s=s||(e=>{let t;const i=[];const o=[];while((t=n.exec(e))!==null){if(t&&t.length<4){break}let{index:e,1:n,2:s,3:r}=t;const a=n+s+r;e+=t[0].length-a.length;const c=[e,e+n.length];const l=[e+n.length+s.length,e+n.length+s.length+r.length];i.push(c);i.push(l);o.push([e+n.length,e+n.length+s.length]);}return {remove:i,format:o}});r=r||((t,i)=>{const n=e.model.schema.getValidRanges(i,o);for(const e of n){t.setAttribute(o,true,e);}t.removeSelectionAttribute(o);});e.model.document.on("change",(t,i)=>{if(i.type=="transparent"){return}const n=e.model;const o=n.document.selection;if(!o.isCollapsed){return}const a=Array.from(n.document.differ.getChanges());const c=a[0];if(a.length!=1||c.type!=="insert"||c.name!="$text"||c.length!=1){return}const l=o.focus;const d=l.parent;const{text:u,range:h}=n_(n.createRange(n.createPositionAt(d,0),l),n);const f=s(u);const m=s_(h.start,f.format,n);const g=s_(h.start,f.remove,n);if(!(m.length&&g.length)){return}n.enqueueChange(e=>{const t=r(e,m);if(t===false){return}for(const t of g.reverse()){e.remove(t);}});});}}function s_(e,t,i){return t.filter(e=>e[0]!==undefined&&e[1]!==undefined).map(t=>i.createRange(e.getShiftedBy(t[0]),e.getShiftedBy(t[1])))}class r_ extends Lw{static get pluginName(){return "Autoformat"}afterInit(){this._addListAutoformats();this._addBasicStylesAutoformats();this._addHeadingAutoformats();this._addBlockQuoteAutoformats();this._addCodeBlockAutoformats();}_addListAutoformats(){const e=this.editor.commands;if(e.get("bulletedList")){new i_(this.editor,/^[*-]\s$/,"bulletedList");}if(e.get("numberedList")){new i_(this.editor,/^1[.|)]\s$/,"numberedList");}}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const e=a_(this.editor,"bold");new o_(this.editor,/(\*\*)([^*]+)(\*\*)$/g,e);new o_(this.editor,/(__)([^_]+)(__)$/g,e);}if(e.get("italic")){const e=a_(this.editor,"italic");new o_(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,e);new o_(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,e);}if(e.get("code")){const e=a_(this.editor,"code");new o_(this.editor,/(`)([^`]+)(`)$/g,e);}if(e.get("strikethrough")){const e=a_(this.editor,"strikethrough");new o_(this.editor,/(~~)([^~]+)(~~)$/g,e);}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");if(e){e.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(t=>{const i=t[7];const n=new RegExp(`^(#{${i}})\\s$`);new i_(this.editor,n,()=>{if(!e.isEnabled){return false}this.editor.execute("heading",{value:t});});});}}_addBlockQuoteAutoformats(){if(this.editor.commands.get("blockQuote")){new i_(this.editor,/^>\s$/,"blockQuote");}}_addCodeBlockAutoformats(){if(this.editor.commands.get("codeBlock")){new i_(this.editor,/^```$/,"codeBlock");}}}function a_(e,t){return (i,n)=>{const o=e.commands.get(t);if(!o.isEnabled){return false}const s=e.model.schema.getValidRanges(n,t);for(const e of s){i.setAttribute(t,true,e);}i.removeSelectionAttribute(t);}}class c_{constructor(e){this.context=e;}destroy(){this.stopListening();}static get isContextPlugin(){return true}}yr(c_,Qc);class l_ extends c_{static get pluginName(){return "PendingActions"}init(){this.set("hasAny",false);this._actions=new xr({idProperty:"_id"});this._actions.delegate("add","remove").to(this);}add(e){if(typeof e!=="string"){throw new rr["b"]("pendingactions-add-invalid-message: The message must be a string.",this)}const t=Object.create(Qc);t.set("message",e);this._actions.add(t);this.hasAny=true;return t}remove(e){this._actions.remove(e);this.hasAny=!!this._actions.length;}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class d_{constructor(){const e=new window.FileReader;this._reader=e;this._data=undefined;this.set("loaded",0);e.onprogress=e=>{this.loaded=e.loaded;};}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;this.total=e.size;return new Promise((i,n)=>{t.onload=()=>{const e=t.result;this._data=e;i(e);};t.onerror=()=>{n("error");};t.onabort=()=>{n("aborted");};this._reader.readAsDataURL(e);})}abort(){this._reader.abort();}}yr(d_,Qc);class u_ extends Lw{static get pluginName(){return "FileRepository"}static get requires(){return [l_]}init(){this.loaders=new xr;this.loaders.on("add",()=>this._updatePendingAction());this.loaders.on("remove",()=>this._updatePendingAction());this._loadersMap=new Map;this._pendingAction=null;this.set("uploaded",0);this.set("uploadTotal",null);this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0);}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter){console.warn(Object(rr["a"])("filerepository-no-upload-adapter: Upload adapter is not defined."));return null}const t=new h_(Promise.resolve(e),this.createUploadAdapter);this.loaders.add(t);this._loadersMap.set(e,t);if(e instanceof Promise){t.file.then(e=>{this._loadersMap.set(e,t);}).catch(()=>{});}t.on("change:uploaded",()=>{let e=0;for(const t of this.loaders){e+=t.uploaded;}this.uploaded=e;});t.on("change:uploadTotal",()=>{let e=0;for(const t of this.loaders){if(t.uploadTotal){e+=t.uploadTotal;}}this.uploadTotal=e;});return t}destroyLoader(e){const t=e instanceof h_?e:this.getLoader(e);t._destroy();this.loaders.remove(t);this._loadersMap.forEach((e,i)=>{if(e===t){this._loadersMap.delete(i);}});}_updatePendingAction(){const e=this.editor.plugins.get(l_);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t;const i=e=>`${t("Upload in progress")} ${parseInt(e)}%.`;this._pendingAction=e.add(i(this.uploadedPercent));this._pendingAction.bind("message").to(this,"uploadedPercent",i);}}else {e.remove(this._pendingAction);this._pendingAction=null;}}}yr(u_,Qc);class h_{constructor(e,t){this.id=ir();this._filePromiseWrapper=this._createFilePromiseWrapper(e);this._adapter=t(this);this._reader=new d_;this.set("status","idle");this.set("uploaded",0);this.set("uploadTotal",null);this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,t)=>t?e/t*100:0);this.set("uploadResponse",null);}get file(){if(!this._filePromiseWrapper){return Promise.resolve(null)}else {return this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null)}}get data(){return this._reader.data}read(){if(this.status!="idle"){throw new rr["b"]("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this)}this.status="reading";return this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading"){throw this.status}this.status="idle";return e}).catch(e=>{if(e==="aborted"){this.status="aborted";throw "aborted"}this.status="error";throw this._reader.error?this._reader.error:e})}upload(){if(this.status!="idle"){throw new rr["b"]("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this)}this.status="uploading";return this.file.then(()=>this._adapter.upload()).then(e=>{this.uploadResponse=e;this.status="idle";return e}).catch(e=>{if(this.status==="aborted"){throw "aborted"}this.status="error";throw e})}abort(){const e=this.status;this.status="aborted";if(!this._filePromiseWrapper.isFulfilled){this._filePromiseWrapper.promise.catch(()=>{});this._filePromiseWrapper.rejecter("aborted");}else if(e=="reading"){this._reader.abort();}else if(e=="uploading"&&this._adapter.abort){this._adapter.abort();}this._destroy();}_destroy(){this._filePromiseWrapper=undefined;this._reader=undefined;this._adapter=undefined;this.uploadResponse=undefined;}_createFilePromiseWrapper(e){const t={};t.promise=new Promise((i,n)=>{t.rejecter=n;t.isFulfilled=false;e.then(e=>{t.isFulfilled=true;i(e);}).catch(e=>{t.isFulfilled=true;n(e);});});return t}}yr(h_,Qc);class f_ extends Lw{static get requires(){return [u_]}static get pluginName(){return "Base64UploadAdapter"}init(){this.editor.plugins.get(u_).createUploadAdapter=e=>new m_(e);}}class m_{constructor(e){this.loader=e;}upload(){return new Promise((e,t)=>{const i=this.reader=new window.FileReader;i.addEventListener("load",()=>{e({default:i.result});});i.addEventListener("error",e=>{t(e);});i.addEventListener("abort",()=>{t();});this.loader.file.then(e=>{i.readAsDataURL(e);});})}abort(){this.reader.abort();}}class g_ extends jw{refresh(){this.value=this._getValue();this.isEnabled=this._checkEnabled();}execute(e={}){const t=this.editor.model;const i=t.schema;const n=t.document.selection;const o=Array.from(n.getSelectedBlocks());const s=e.forceValue===undefined?!this.value:e.forceValue;t.change(e=>{if(!s){this._removeQuote(e,o.filter(p_));}else {const t=o.filter(e=>p_(e)||w_(i,e));this._applyQuote(e,t);}});}_getValue(){const e=this.editor.model.document.selection;const t=Bw(e.getSelectedBlocks());return !!(t&&p_(t))}_checkEnabled(){if(this.value){return true}const e=this.editor.model.document.selection;const t=this.editor.model.schema;const i=Bw(e.getSelectedBlocks());if(!i){return false}return w_(t,i)}_removeQuote(e,t){b_(e,t).reverse().forEach(t=>{if(t.start.isAtStart&&t.end.isAtEnd){e.unwrap(t.start.parent);return}if(t.start.isAtStart){const i=e.createPositionBefore(t.start.parent);e.move(t,i);return}if(!t.end.isAtEnd){e.split(t.end);}const i=e.createPositionAfter(t.end.parent);e.move(t,i);});}_applyQuote(e,t){const i=[];b_(e,t).reverse().forEach(t=>{let n=p_(t.start);if(!n){n=e.createElement("blockQuote");e.wrap(t,n);}i.push(n);});i.reverse().reduce((t,i)=>{if(t.nextSibling==i){e.merge(e.createPositionAfter(t));return t}return i});}}function p_(e){return e.parent.name=="blockQuote"?e.parent:null}function b_(e,t){let i;let n=0;const o=[];while(n<t.length){const s=t[n];const r=t[n+1];if(!i){i=e.createPositionBefore(s);}if(!r||s.nextSibling!=r){o.push(e.createRange(i,e.createPositionAfter(s)));i=null;}n++;}return o}function w_(e,t){const i=e.checkChild(t.parent,"blockQuote");const n=e.checkChild(["$root","blockQuote"],t);return i&&n}class __ extends Lw{static get pluginName(){return "BlockQuoteEditing"}init(){const e=this.editor;const t=e.model.schema;e.commands.add("blockQuote",new g_(e));t.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"});t.addChildCheck((e,t)=>{if(e.endsWith("blockQuote")&&t.name=="blockQuote"){return false}});e.conversion.elementToElement({model:"blockQuote",view:"blockquote"});e.model.document.registerPostFixer(i=>{const n=e.model.document.differ.getChanges();for(const e of n){if(e.type=="insert"){const n=e.position.nodeAfter;if(!n){continue}if(n.is("blockQuote")&&n.isEmpty){i.remove(n);return true}else if(n.is("blockQuote")&&!t.checkChild(e.position,n)){i.unwrap(n);return true}else if(n.is("element")){const e=i.createRangeIn(n);for(const n of e.getItems()){if(n.is("blockQuote")&&!t.checkChild(i.createPositionBefore(n),n)){i.unwrap(n);return true}}}}else if(e.type=="remove"){const t=e.position.parent;if(t.is("blockQuote")&&t.isEmpty){i.remove(t);return true}}}return false});}afterInit(){const e=this.editor;const t=e.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(e,i)=>{const n=this.editor.model.document;const o=n.selection.getLastPosition().parent;if(n.selection.isCollapsed&&o.isEmpty&&t.value){this.editor.execute("blockQuote");this.editor.editing.view.scrollToTheSelection();i.preventDefault();e.stop();}});}}var v_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>';var k_=i(44);class y_ extends Lw{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add("blockQuote",i=>{const n=e.commands.get("blockQuote");const o=new sw(i);o.set({label:t("Block quote"),icon:v_,tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(n,"value","isEnabled");this.listenTo(o,"execute",()=>{e.execute("blockQuote");e.editing.view.focus();});return o});}}class x_ extends Lw{static get requires(){return [__,y_]}static get pluginName(){return "BlockQuote"}}class A_ extends jw{constructor(e,t){super(e);this.attributeKey=t;}refresh(){const e=this.editor.model;const t=e.document;this.value=this._getValueFromFirstAllowedNode();this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey);}execute(e={}){const t=this.editor.model;const i=t.document;const n=i.selection;const o=e.forceValue===undefined?!this.value:e.forceValue;t.change(e=>{if(n.isCollapsed){if(o){e.setSelectionAttribute(this.attributeKey,true);}else {e.removeSelectionAttribute(this.attributeKey);}}else {const i=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const t of i){if(o){e.setAttribute(this.attributeKey,o,t);}else {e.removeAttribute(this.attributeKey,t);}}}});}_getValueFromFirstAllowedNode(){const e=this.editor.model;const t=e.schema;const i=e.document.selection;if(i.isCollapsed){return i.hasAttribute(this.attributeKey)}for(const e of i.getRanges()){for(const i of e.getItems()){if(t.checkAttribute(i,this.attributeKey)){return i.hasAttribute(this.attributeKey)}}}return false}}const C_="bold";class T_ extends Lw{static get pluginName(){return "BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:C_});e.model.schema.setAttributeProperties(C_,{isFormatting:true,copyOnEnter:true});e.conversion.attributeToElement({model:C_,view:"strong",upcastAlso:["b",e=>{const t=e.getStyle("font-weight");if(!t){return null}if(t=="bold"||Number(t)>=600){return {name:true,styles:["font-weight"]}}}]});e.commands.add(C_,new A_(e,C_));e.keystrokes.set("CTRL+B",C_);}}var M_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>';const E_="bold";class P_ extends Lw{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(E_,i=>{const n=e.commands.get(E_);const o=new sw(i);o.set({label:t("Bold"),icon:M_,keystroke:"CTRL+B",tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(n,"value","isEnabled");this.listenTo(o,"execute",()=>{e.execute(E_);e.editing.view.focus();});return o});}}class S_ extends Lw{static get requires(){return [T_,P_]}static get pluginName(){return "Bold"}}class I_{constructor(e){this.files=O_(e);this._native=e;}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t);}}function O_(e){const t=e.files?Array.from(e.files):[];const i=e.items?Array.from(e.items):[];if(t.length){return t}return i.filter(e=>e.kind==="file").map(e=>e.getAsFile())}class N_ extends Gu{constructor(e){super(e);const t=this.document;this.domEventType=["paste","copy","cut","drop","dragover"];this.listenTo(t,"paste",i,{priority:"low"});this.listenTo(t,"drop",i,{priority:"low"});function i(e,i){i.preventDefault();const n=i.dropRange?[i.dropRange]:Array.from(t.selection.getRanges());const o=new er(t,"clipboardInput");t.fire(o,{dataTransfer:i.dataTransfer,targetRanges:n});if(o.stop.called){i.stopPropagation();}}}onDomEvent(e){const t={dataTransfer:new I_(e.clipboardData?e.clipboardData:e.dataTransfer)};if(e.type=="drop"){t.dropRange=R_(this.view,e);}this.fire(e.type,e,t);}}function R_(e,t){const i=t.target.ownerDocument;const n=t.clientX;const o=t.clientY;let s;if(i.caretRangeFromPoint&&i.caretRangeFromPoint(n,o)){s=i.caretRangeFromPoint(n,o);}else if(t.rangeParent){s=i.createRange();s.setStart(t.rangeParent,t.rangeOffset);s.collapse(true);}if(s){return e.domConverter.domRangeToView(s)}else {return e.document.selection.getFirstRange()}}function L_(e){e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;");if(e.indexOf("</p><p>")>-1){e=`<p>${e}</p>`;}return e}function D_(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>{if(t.length==1){return " "}return t})}const j_=["figcaption","li"];function z_(e){let t="";if(e.is("text")||e.is("textProxy")){t=e.data;}else if(e.is("img")&&e.hasAttribute("alt")){t=e.getAttribute("alt");}else {let i=null;for(const n of e.getChildren()){const e=z_(n);if(i&&(i.is("containerElement")||n.is("containerElement"))){if(j_.includes(i.name)||j_.includes(n.name)){t+="\n";}else {t+="\n\n";}}t+=e;i=n;}}return t}class B_ extends Lw{static get pluginName(){return "Clipboard"}init(){const e=this.editor;const t=e.model.document;const i=e.editing.view;const n=i.document;this._htmlDataProcessor=new Ap(n);i.addObserver(N_);this.listenTo(n,"clipboardInput",t=>{if(e.isReadOnly){t.stop();}},{priority:"highest"});this.listenTo(n,"clipboardInput",(e,t)=>{const n=t.dataTransfer;let o="";if(n.getData("text/html")){o=D_(n.getData("text/html"));}else if(n.getData("text/plain")){o=L_(n.getData("text/plain"));}o=this._htmlDataProcessor.toView(o);const s=new er(this,"inputTransformation");this.fire(s,{content:o,dataTransfer:n});if(s.stop.called){e.stop();}i.scrollToTheSelection();},{priority:"low"});this.listenTo(this,"inputTransformation",(e,t)=>{if(!t.content.isEmpty){const i=this.editor.data;const n=this.editor.model;const o=i.toModel(t.content,"$clipboardHolder");if(o.childCount==0){return}n.insertContent(o);e.stop();}},{priority:"low"});function o(i,o){const s=o.dataTransfer;o.preventDefault();const r=e.data.toView(e.model.getSelectedContent(t.selection));n.fire("clipboardOutput",{dataTransfer:s,content:r,method:i.name});}this.listenTo(n,"copy",o,{priority:"low"});this.listenTo(n,"cut",(t,i)=>{if(e.isReadOnly){i.preventDefault();}else {o(t,i);}},{priority:"low"});this.listenTo(n,"clipboardOutput",(i,n)=>{if(!n.content.isEmpty){n.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(n.content));n.dataTransfer.setData("text/plain",z_(n.content));}if(n.method=="cut"){e.model.deleteContent(t.selection);}},{priority:"low"});}}function*V_(e,t){for(const i of t){if(i&&e.getAttributeProperties(i[0]).copyOnEnter){yield i;}}}class F_ extends jw{execute(){const e=this.editor.model;const t=e.document;e.change(i=>{H_(this.editor.model,i,t.selection,e.schema);this.fire("afterExecute",{writer:i});});}}function H_(e,t,i,n){const o=i.isCollapsed;const s=i.getFirstRange();const r=s.start.parent;const a=s.end.parent;if(n.isLimit(r)||n.isLimit(a)){if(!o&&r==a){e.deleteContent(i);}return}if(o){const e=V_(t.model.schema,i.getAttributes());U_(t,s.start);t.setSelectionAttribute(e);}else {const n=!(s.start.isAtStart&&s.end.isAtEnd);const o=r==a;e.deleteContent(i,{leaveUnmerged:n});if(n){if(o){U_(t,i.focus);}else {t.setSelection(a,0);}}}}function U_(e,t){e.split(t);e.setSelection(t.parent.nextSibling,0);}class W_ extends Yd{constructor(e){super(e);const t=this.document;t.on("keydown",(e,i)=>{if(this.isEnabled&&i.keyCode==Rl.enter){let n;t.once("enter",e=>n=e,{priority:"highest"});t.fire("enter",new Ju(t,i.domEvent,{isSoft:i.shiftKey}));if(n&&n.stop.called){e.stop();}}});}observe(){}}class $_ extends Lw{static get pluginName(){return "Enter"}init(){const e=this.editor;const t=e.editing.view;const i=t.document;t.addObserver(W_);e.commands.add("enter",new F_(e));this.listenTo(i,"enter",(i,n)=>{n.preventDefault();if(n.isSoft){return}e.execute("enter");t.scrollToTheSelection();},{priority:"low"});}}class q_ extends jw{execute(){const e=this.editor.model;const t=e.document;e.change(i=>{J_(e,i,t.selection);this.fire("afterExecute",{writer:i});});}refresh(){const e=this.editor.model;const t=e.document;this.isEnabled=Y_(e.schema,t.selection);}}function Y_(e,t){if(t.rangeCount>1){return false}const i=t.anchor;if(!i||!e.checkChild(i,"softBreak")){return false}const n=t.getFirstRange();const o=n.start.parent;const s=n.end.parent;if((Q_(o,e)||Q_(s,e))&&o!==s){return false}return true}function J_(e,t,i){const n=i.isCollapsed;const o=i.getFirstRange();const s=o.start.parent;const r=o.end.parent;const a=s==r;if(n){const n=V_(e.schema,i.getAttributes());G_(e,t,o.end);t.removeSelectionAttribute(i.getAttributeKeys());t.setSelectionAttribute(n);}else {const n=!(o.start.isAtStart&&o.end.isAtEnd);e.deleteContent(i,{leaveUnmerged:n});if(a){G_(e,t,i.focus);}else {if(n){t.setSelection(r,0);}}}}function G_(e,t,i){const n=t.createElement("softBreak");e.insertContent(n,i);t.setSelection(n,"after");}function Q_(e,t){if(e.is("rootElement")){return false}return t.isLimit(e)||Q_(e.parent,t)}class X_ extends Lw{static get pluginName(){return "ShiftEnter"}init(){const e=this.editor;const t=e.model.schema;const i=e.conversion;const n=e.editing.view;const o=n.document;t.register("softBreak",{allowWhere:"$text",isInline:true});i.for("upcast").elementToElement({model:"softBreak",view:"br"});i.for("downcast").elementToElement({model:"softBreak",view:(e,t)=>t.createEmptyElement("br")});n.addObserver(W_);e.commands.add("shiftEnter",new q_(e));this.listenTo(o,"enter",(t,i)=>{i.preventDefault();if(!i.isSoft){return}e.execute("shiftEnter");n.scrollToTheSelection();},{priority:"low"});}}class K_ extends jw{execute(){const e=this.editor.model;const t=e.schema.getLimitElement(e.document.selection);e.change(e=>{e.setSelection(t,"in");});}}const Z_=Dl("Ctrl+A");class ev extends Lw{static get pluginName(){return "SelectAllEditing"}init(){const e=this.editor;const t=e.editing.view;const i=t.document;e.commands.add("selectAll",new K_(e));this.listenTo(i,"keydown",(t,i)=>{if(Ll(i)===Z_){e.execute("selectAll");i.preventDefault();}});}}var tv='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>';class iv extends Lw{static get pluginName(){return "SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",t=>{const i=e.commands.get("selectAll");const n=new sw(t);const o=t.t;n.set({label:o("Select all"),icon:tv,keystroke:"Ctrl+A",tooltip:true});n.bind("isOn","isEnabled").to(i,"value","isEnabled");this.listenTo(n,"execute",()=>{e.execute("selectAll");e.editing.view.focus();});return n});}}class nv extends Lw{static get requires(){return [ev,iv]}static get pluginName(){return "SelectAll"}}class ov{constructor(e,t=20){this.model=e;this.size=0;this.limit=t;this.isLocked=false;this._changeCallback=(e,t)=>{if(t.type!="transparent"&&t!==this._batch){this._reset(true);}};this._selectionChangeCallback=()=>{this._reset();};this.model.document.on("change",this._changeCallback);this.model.document.selection.on("change:range",this._selectionChangeCallback);this.model.document.selection.on("change:attribute",this._selectionChangeCallback);}get batch(){if(!this._batch){this._batch=this.model.createBatch();}return this._batch}input(e){this.size+=e;if(this.size>=this.limit){this._reset(true);}}lock(){this.isLocked=true;}unlock(){this.isLocked=false;}destroy(){this.model.document.off("change",this._changeCallback);this.model.document.selection.off("change:range",this._selectionChangeCallback);this.model.document.selection.off("change:attribute",this._selectionChangeCallback);}_reset(e){if(!this.isLocked||e){this._batch=null;this.size=0;}}}class sv extends jw{constructor(e,t){super(e);this._buffer=new ov(e.model,t);this._batches=new WeakSet;}get buffer(){return this._buffer}destroy(){super.destroy();this._buffer.destroy();}execute(e={}){const t=this.editor.model;const i=t.document;const n=e.text||"";const o=n.length;const s=e.range?t.createSelection(e.range):i.selection;const r=e.resultRange;t.enqueueChange(this._buffer.batch,e=>{this._buffer.lock();t.deleteContent(s);if(n){t.insertContent(e.createText(n,i.selection.getAttributes()),s);}if(r){e.setSelection(r);}else if(!s.is("documentSelection")){e.setSelection(s);}this._buffer.unlock();this._buffer.input(o);this._batches.add(this._buffer.batch);});}}function rv(e){let t=null;const i=e.model;const n=e.editing.view;const o=e.commands.get("input");if(Tl.isAndroid){n.document.on("beforeinput",(e,t)=>s(t),{priority:"lowest"});}else {n.document.on("keydown",(e,t)=>s(t),{priority:"lowest"});}n.document.on("compositionstart",r,{priority:"lowest"});n.document.on("compositionend",()=>{t=i.createSelection(i.document.selection);},{priority:"lowest"});function s(e){const s=i.document;const r=n.document.isComposing;const c=t&&t.isEqual(s.selection);t=null;if(!o.isEnabled){return}if(cv(e)||s.selection.isCollapsed){return}if(r&&e.keyCode===229){return}if(!r&&e.keyCode===229&&c){return}a();}function r(){const e=i.document;const t=e.selection.rangeCount===1?e.selection.getFirstRange().isFlat:true;if(e.selection.isCollapsed||t){return}a();}function a(){const e=o.buffer;e.lock();i.enqueueChange(e.batch,()=>{i.deleteContent(i.document.selection);});e.unlock();}}const av=[Ll("arrowUp"),Ll("arrowRight"),Ll("arrowDown"),Ll("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let e=112;e<=135;e++){av.push(e);}function cv(e){if(e.ctrlKey){return true}return av.includes(e.keyCode)}function lv(e,t){const i=[];let n=0;let o;e.forEach(e=>{if(e=="equal"){s();n++;}else if(e=="insert"){if(r("insert")){o.values.push(t[n]);}else {s();o={type:"insert",index:n,values:[t[n]]};}n++;}else {if(r("delete")){o.howMany++;}else {s();o={type:"delete",index:n,howMany:1};}}});s();return i;function s(){if(o){i.push(o);o=null;}}function r(e){return o&&o.type==e}}function dv(e){if(e.length==0){return false}for(const t of e){if(t.type==="children"&&!uv(t)){return true}}return false}function uv(e){if(e.newChildren.length-e.oldChildren.length!=1){return}const t=vd(e.oldChildren,e.newChildren,hv);const i=lv(t,e.newChildren);if(i.length>1){return}const n=i[0];if(!(!!n.values[0]&&n.values[0].is("text"))){return}return n}function hv(e,t){if(!!e&&e.is("text")&&!!t&&t.is("text")){return e.data===t.data}else {return e===t}}function fv(e){e.editing.view.document.on("mutations",(t,i,n)=>{new mv(e).handle(i,n);});}class mv{constructor(e){this.editor=e;this.editing=this.editor.editing;}handle(e,t){if(dv(e)){this._handleContainerChildrenMutations(e,t);}else {for(const i of e){this._handleTextMutation(i,t);this._handleTextNodeInsertion(i);}}}_handleContainerChildrenMutations(e,t){const i=gv(e);if(!i){return}const n=this.editor.editing.view.domConverter;const o=n.mapViewToDom(i);const s=new jd(this.editor.editing.view.document);const r=this.editor.data.toModel(s.domToView(o)).getChild(0);const a=this.editor.editing.mapper.toModelElement(i);if(!a){return}const c=Array.from(r.getChildren());const l=Array.from(a.getChildren());const d=c[c.length-1];const u=l[l.length-1];if(d&&d.is("softBreak")&&u&&!u.is("softBreak")){c.pop();}const h=this.editor.model.schema;if(!pv(c,h)||!pv(l,h)){return}const f=c.map(e=>e.is("text")?e.data:"@").join("").replace(/\u00A0/g," ");const m=l.map(e=>e.is("text")?e.data:"@").join("").replace(/\u00A0/g," ");if(m===f){return}const g=vd(m,f);const{firstChangeAt:p,insertions:b,deletions:w}=bv(g);let _=null;if(t){_=this.editing.mapper.toModelRange(t.getFirstRange());}const v=f.substr(p,b);const k=this.editor.model.createRange(this.editor.model.createPositionAt(a,p),this.editor.model.createPositionAt(a,p+w));this.editor.execute("input",{text:v,range:k,resultRange:_});}_handleTextMutation(e,t){if(e.type!="text"){return}const i=e.newText.replace(/\u00A0/g," ");const n=e.oldText.replace(/\u00A0/g," ");if(n===i){return}const o=vd(n,i);const{firstChangeAt:s,insertions:r,deletions:a}=bv(o);let c=null;if(t){c=this.editing.mapper.toModelRange(t.getFirstRange());}const l=this.editing.view.createPositionAt(e.node,s);const d=this.editing.mapper.toModelPosition(l);const u=this.editor.model.createRange(d,d.getShiftedBy(a));const h=i.substr(s,r);this.editor.execute("input",{text:h,range:u,resultRange:c});}_handleTextNodeInsertion(e){if(e.type!="children"){return}const t=uv(e);const i=this.editing.view.createPositionAt(e.node,t.index);const n=this.editing.mapper.toModelPosition(i);const o=t.values[0].data;this.editor.execute("input",{text:o.replace(/\u00A0/g," "),range:this.editor.model.createRange(n)});}}function gv(e){const t=e.map(e=>e.node).reduce((e,t)=>e.getCommonAncestor(t,{includeSelf:true}));if(!t){return}return t.getAncestors({includeSelf:true,parentFirst:true}).find(e=>e.is("containerElement")||e.is("rootElement"))}function pv(e,t){return e.every(e=>t.isInline(e))}function bv(e){let t=null;let i=null;for(let n=0;n<e.length;n++){const o=e[n];if(o!="equal"){t=t===null?n:t;i=n;}}let n=0;let o=0;for(let s=t;s<=i;s++){if(e[s]!="insert"){n++;}if(e[s]!="delete"){o++;}}return {insertions:o,deletions:n,firstChangeAt:t}}class wv extends Lw{static get pluginName(){return "Input"}init(){const e=this.editor;const t=new sv(e,e.config.get("typing.undoStep")||20);e.commands.add("input",t);rv(e);fv(e);}isInput(e){const t=this.editor.commands.get("input");return t._batches.has(e)}}class _v extends jw{constructor(e,t){super(e);this.direction=t;this._buffer=new ov(e.model,e.config.get("typing.undoStep"));}get buffer(){return this._buffer}execute(e={}){const t=this.editor.model;const i=t.document;t.enqueueChange(this._buffer.batch,n=>{this._buffer.lock();const o=n.createSelection(e.selection||i.selection);const s=o.isCollapsed;if(o.isCollapsed){t.modifySelection(o,{direction:this.direction,unit:e.unit});}if(this._shouldEntireContentBeReplacedWithParagraph(e.sequence||1)){this._replaceEntireContentWithParagraph(n);return}if(o.isCollapsed){return}let r=0;o.getFirstRange().getMinimalFlatRanges().forEach(e=>{r+=ml(e.getWalker({singleCharacters:true,ignoreElementEnd:true,shallow:true}));});t.deleteContent(o,{doNotResetEntireContent:s,direction:this.direction});this._buffer.input(r);n.setSelection(o);this._buffer.unlock();});}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1){return false}const t=this.editor.model;const i=t.document;const n=i.selection;const o=t.schema.getLimitElement(n);const s=n.isCollapsed&&n.containsEntireContent(o);if(!s){return false}if(!t.schema.checkChild(o,"paragraph")){return false}const r=o.getChild(0);if(r&&r.name==="paragraph"){return false}return true}_replaceEntireContentWithParagraph(e){const t=this.editor.model;const i=t.document;const n=i.selection;const o=t.schema.getLimitElement(n);const s=e.createElement("paragraph");e.remove(e.createRangeIn(o));e.insert(s,o);e.setSelection(s,0);}}class vv extends Yd{constructor(e){super(e);const t=e.document;let i=0;t.on("keyup",(e,t)=>{if(t.keyCode==Rl.delete||t.keyCode==Rl.backspace){i=0;}});t.on("keydown",(e,t)=>{const o={};if(t.keyCode==Rl.delete){o.direction="forward";o.unit="character";}else if(t.keyCode==Rl.backspace){o.direction="backward";o.unit="codePoint";}else {return}const s=Tl.isMac?t.altKey:t.ctrlKey;o.unit=s?"word":o.unit;o.sequence=++i;n(e,t.domEvent,o);});if(Tl.isAndroid){t.on("beforeinput",(t,i)=>{if(i.domEvent.inputType!="deleteContentBackward"){return}const o={unit:"codepoint",direction:"backward",sequence:1};const s=i.domTarget.ownerDocument.defaultView.getSelection();if(s.anchorNode==s.focusNode&&s.anchorOffset+1!=s.focusOffset){o.selectionToRemove=e.domConverter.domSelectionToView(s);}n(t,i.domEvent,o);});}function n(e,i,n){let o;t.once("delete",e=>o=e,{priority:Number.POSITIVE_INFINITY});t.fire("delete",new Ju(t,i,n));if(o&&o.stop.called){e.stop();}}}observe(){}}class kv extends Lw{static get pluginName(){return "Delete"}init(){const e=this.editor;const t=e.editing.view;const i=t.document;t.addObserver(vv);e.commands.add("forwardDelete",new _v(e,"forward"));e.commands.add("delete",new _v(e,"backward"));this.listenTo(i,"delete",(i,n)=>{const o={unit:n.unit,sequence:n.sequence};if(n.selectionToRemove){const t=e.model.createSelection();const i=[];for(const t of n.selectionToRemove.getRanges()){i.push(e.editing.mapper.toModelRange(t));}t.setTo(i);o.selection=t;}e.execute(n.direction=="forward"?"forwardDelete":"delete",o);n.preventDefault();t.scrollToTheSelection();});if(Tl.isAndroid){let e=null;this.listenTo(i,"delete",(t,i)=>{const n=i.domTarget.ownerDocument.defaultView.getSelection();e={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset};},{priority:"lowest"});this.listenTo(i,"keyup",(t,i)=>{if(e){const t=i.domTarget.ownerDocument.defaultView.getSelection();t.collapse(e.anchorNode,e.anchorOffset);t.extend(e.focusNode,e.focusOffset);e=null;}});}}}class yv extends Lw{static get requires(){return [wv,kv]}static get pluginName(){return "Typing"}}const xv=new Map;function Av(e,t,i){let n=xv.get(e);if(!n){n=new Map;xv.set(e,n);}n.set(t,i);}function Cv(e,t){const i=xv.get(e);if(i&&i.has(t)){return i.get(t)}return Tv}function Tv(e){return [e]}function Mv(e,t,i={}){const n=Cv(e.constructor,t.constructor);try{e=e.clone();return n(e,t,i)}catch(e){throw e}}function Ev(e,t,i){e=e.slice();t=t.slice();const n=new Pv(i.document,i.useRelations,i.forceWeakRemove);n.setOriginalOperations(e);n.setOriginalOperations(t);const o=n.originalOperations;if(e.length==0||t.length==0){return {operationsA:e,operationsB:t,originalOperations:o}}const s=new WeakMap;for(const t of e){s.set(t,0);}const r={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length};let a=0;while(a<e.length){const i=e[a];const o=s.get(i);if(o==t.length){a++;continue}const r=t[o];const c=Mv(i,r,n.getContext(i,r,true));const l=Mv(r,i,n.getContext(r,i,false));n.updateRelation(i,r);n.setOriginalOperations(c,i);n.setOriginalOperations(l,r);for(const e of c){s.set(e,o+l.length);}e.splice(a,1,...c);t.splice(o,1,...l);}if(i.padWithNoOps){const i=e.length-r.originalOperationsACount;const n=t.length-r.originalOperationsBCount;Iv(e,n-i);Iv(t,i-n);}Sv(e,r.nextBaseVersionB);Sv(t,r.nextBaseVersionA);return {operationsA:e,operationsB:t,originalOperations:o}}class Pv{constructor(e,t,i=false){this.originalOperations=new Map;this._history=e.history;this._useRelations=t;this._forceWeakRemove=!!i;this._relations=new Map;}setOriginalOperations(e,t=null){const i=t?this.originalOperations.get(t):null;for(const t of e){this.originalOperations.set(t,i||t);}}updateRelation(e,t){switch(e.constructor){case ng:{switch(t.constructor){case cg:{if(e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)){this._setRelation(e,t,"insertAtSource");}else if(e.targetPosition.isEqual(t.deletionPosition)){this._setRelation(e,t,"insertBetween");}else if(e.targetPosition.isAfter(t.sourcePosition)){this._setRelation(e,t,"moveTargetAfter");}break}case ng:{if(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)){this._setRelation(e,t,"insertBefore");}else {this._setRelation(e,t,"insertAfter");}break}}break}case lg:{switch(t.constructor){case cg:{if(e.splitPosition.isBefore(t.sourcePosition)){this._setRelation(e,t,"splitBefore");}break}case ng:{if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition)){this._setRelation(e,t,"splitBefore");}break}}break}case cg:{switch(t.constructor){case cg:{if(!e.targetPosition.isEqual(t.sourcePosition)){this._setRelation(e,t,"mergeTargetNotMoved");}if(e.sourcePosition.isEqual(t.targetPosition)){this._setRelation(e,t,"mergeSourceNotMoved");}if(e.sourcePosition.isEqual(t.sourcePosition)){this._setRelation(e,t,"mergeSameElement");}break}case lg:{if(e.sourcePosition.isEqual(t.splitPosition)){this._setRelation(e,t,"splitAtSource");}}}break}case sg:{const i=e.newRange;if(!i){return}switch(t.constructor){case ng:{const n=Gh._createFromPositionAndShift(t.sourcePosition,t.howMany);const o=n.containsPosition(i.start)||n.start.isEqual(i.start);const s=n.containsPosition(i.end)||n.end.isEqual(i.end);if((o||s)&&!n.containsRange(i)){this._setRelation(e,t,{side:o?"left":"right",path:o?i.start.path.slice():i.end.path.slice()});}break}case cg:{const n=i.start.isEqual(t.targetPosition);const o=i.start.isEqual(t.deletionPosition);const s=i.end.isEqual(t.deletionPosition);const r=i.end.isEqual(t.sourcePosition);if(n||o||s||r){this._setRelation(e,t,{wasInLeftElement:n,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:s,wasInRightElement:r});}break}}break}}}getContext(e,t,i){return {aIsStrong:i,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const i=this.originalOperations.get(t);const n=this._history.getUndoneOperation(i);if(!n){return null}const o=this.originalOperations.get(e);const s=this._relations.get(o);if(s){return s.get(n)||null}return null}_setRelation(e,t,i){const n=this.originalOperations.get(e);const o=this.originalOperations.get(t);let s=this._relations.get(n);if(!s){s=new Map;this._relations.set(n,s);}s.set(o,i);}}function Sv(e,t){for(const i of e){i.baseVersion=t++;}}function Iv(e,t){for(let i=0;i<t;i++){e.push(new Og(0));}}Av(tg,tg,(e,t,i)=>{if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){const n=e.range.getDifference(t.range).map(t=>new tg(t,e.key,e.oldValue,e.newValue,0));const o=e.range.getIntersection(t.range);if(o){if(i.aIsStrong){n.push(new tg(o,t.key,t.newValue,e.newValue,0));}}if(n.length==0){return [new Og(0)]}return n}else {return [e]}});Av(tg,og,(e,t)=>{if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){const i=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes);const n=i.map(t=>new tg(t,e.key,e.oldValue,e.newValue,e.baseVersion));if(t.shouldReceiveAttributes){const i=Ov(t,e.key,e.oldValue);if(i){n.unshift(i);}}return n}e.range=e.range._getTransformedByInsertion(t.position,t.howMany,false)[0];return [e]});function Ov(e,t,i){const n=e.nodes;const o=n.getNode(0).getAttribute(t);if(o==i){return null}const s=new Gh(e.position,e.position.getShiftedBy(e.howMany));return new tg(s,t,o,i,0)}Av(tg,cg,(e,t)=>{const i=[];if(e.range.start.hasSameParentAs(t.deletionPosition)){if(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition)){i.push(Gh._createFromPositionAndShift(t.graveyardPosition,1));}}const n=e.range._getTransformedByMergeOperation(t);if(!n.isCollapsed){i.push(n);}return i.map(t=>new tg(t,e.key,e.oldValue,e.newValue,e.baseVersion))});Av(tg,ng,(e,t)=>{const i=Nv(e.range,t);return i.map(t=>new tg(t,e.key,e.oldValue,e.newValue,e.baseVersion))});function Nv(e,t){const i=Gh._createFromPositionAndShift(t.sourcePosition,t.howMany);let n=null;let o=[];if(i.containsRange(e,true)){n=e;}else if(e.start.hasSameParentAs(i.start)){o=e.getDifference(i);n=e.getIntersection(i);}else {o=[e];}const s=[];for(let e of o){e=e._getTransformedByDeletion(t.sourcePosition,t.howMany);const i=t.getMovedRangeStart();const n=e.start.hasSameParentAs(i);e=e._getTransformedByInsertion(i,t.howMany,n);s.push(...e);}if(n){s.push(n._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,false)[0]);}return s}Av(tg,lg,(e,t)=>{if(e.range.end.isEqual(t.insertionPosition)){if(!t.graveyardPosition){e.range.end.offset++;}return [e]}if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){const i=e.clone();i.range=new Gh(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition));e.range.end=t.splitPosition.clone();e.range.end.stickiness="toPrevious";return [e,i]}e.range=e.range._getTransformedBySplitOperation(t);return [e]});Av(og,tg,(e,t)=>{const i=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){const n=Ov(e,t.key,t.newValue);if(n){i.push(n);}}return i});Av(og,og,(e,t,i)=>{if(e.position.isEqual(t.position)&&i.aIsStrong){return [e]}e.position=e.position._getTransformedByInsertOperation(t);return [e]});Av(og,ng,(e,t)=>{e.position=e.position._getTransformedByMoveOperation(t);return [e]});Av(og,lg,(e,t)=>{e.position=e.position._getTransformedBySplitOperation(t);return [e]});Av(og,cg,(e,t)=>{e.position=e.position._getTransformedByMergeOperation(t);return [e]});Av(sg,og,(e,t)=>{if(e.oldRange){e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0];}if(e.newRange){e.newRange=e.newRange._getTransformedByInsertOperation(t)[0];}return [e]});Av(sg,sg,(e,t,i)=>{if(e.name==t.name){if(i.aIsStrong){e.oldRange=t.newRange?t.newRange.clone():null;}else {return [new Og(0)]}}return [e]});Av(sg,cg,(e,t)=>{if(e.oldRange){e.oldRange=e.oldRange._getTransformedByMergeOperation(t);}if(e.newRange){e.newRange=e.newRange._getTransformedByMergeOperation(t);}return [e]});Av(sg,ng,(e,t,i)=>{if(e.oldRange){e.oldRange=Gh._createFromRanges(e.oldRange._getTransformedByMoveOperation(t));}if(e.newRange){if(i.abRelation){const n=Gh._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if(i.abRelation.side=="left"&&t.targetPosition.isEqual(e.newRange.start)){e.newRange.start.path=i.abRelation.path;e.newRange.end=n.end;return [e]}else if(i.abRelation.side=="right"&&t.targetPosition.isEqual(e.newRange.end)){e.newRange.start=n.start;e.newRange.end.path=i.abRelation.path;return [e]}}e.newRange=Gh._createFromRanges(e.newRange._getTransformedByMoveOperation(t));}return [e]});Av(sg,lg,(e,t,i)=>{if(e.oldRange){e.oldRange=e.oldRange._getTransformedBySplitOperation(t);}if(e.newRange){if(i.abRelation){const n=e.newRange._getTransformedBySplitOperation(t);if(e.newRange.start.isEqual(t.splitPosition)&&i.abRelation.wasStartBeforeMergedElement){e.newRange.start=$h._createAt(t.insertionPosition);}else if(e.newRange.start.isEqual(t.splitPosition)&&!i.abRelation.wasInLeftElement){e.newRange.start=$h._createAt(t.moveTargetPosition);}if(e.newRange.end.isEqual(t.splitPosition)&&i.abRelation.wasInRightElement){e.newRange.end=$h._createAt(t.moveTargetPosition);}else if(e.newRange.end.isEqual(t.splitPosition)&&i.abRelation.wasEndBeforeMergedElement){e.newRange.end=$h._createAt(t.insertionPosition);}else {e.newRange.end=n.end;}return [e]}e.newRange=e.newRange._getTransformedBySplitOperation(t);}return [e]});Av(cg,og,(e,t)=>{if(e.sourcePosition.hasSameParentAs(t.position)){e.howMany+=t.howMany;}e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t);e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t);return [e]});Av(cg,cg,(e,t,i)=>{if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(!i.bWasUndone){return [new Og(0)]}else {const i=t.graveyardPosition.path.slice();i.push(0);e.sourcePosition=new $h(t.graveyardPosition.root,i);e.howMany=0;return [e]}}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const n=e.targetPosition.root.rootName=="$graveyard";const o=t.targetPosition.root.rootName=="$graveyard";const s=n&&!o;const r=o&&!n;const a=r||!s&&i.aIsStrong;if(a){const i=t.targetPosition._getTransformedByMergeOperation(t);const n=e.targetPosition._getTransformedByMergeOperation(t);return [new ng(i,e.howMany,n,0)]}else {return [new Og(0)]}}if(e.sourcePosition.hasSameParentAs(t.targetPosition)){e.howMany+=t.howMany;}e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t);e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t);if(!e.graveyardPosition.isEqual(t.graveyardPosition)||!i.aIsStrong){e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t);}return [e]});Av(cg,ng,(e,t,i)=>{const n=Gh._createFromPositionAndShift(t.sourcePosition,t.howMany);if(t.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove){if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.sourcePosition)){return [new Og(0)]}}if(e.sourcePosition.hasSameParentAs(t.targetPosition)){e.howMany+=t.howMany;}if(e.sourcePosition.hasSameParentAs(t.sourcePosition)){e.howMany-=t.howMany;}e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t);e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t);if(!e.graveyardPosition.isEqual(t.targetPosition)){e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t);}return [e]});Av(cg,lg,(e,t,i)=>{if(t.graveyardPosition){e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1);if(e.deletionPosition.isEqual(t.graveyardPosition)){e.howMany=t.howMany;}}if(e.targetPosition.isEqual(t.splitPosition)){const n=t.howMany!=0;const o=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(n||o||i.abRelation=="mergeTargetNotMoved"){e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t);return [e]}}if(e.sourcePosition.isEqual(t.splitPosition)){if(i.abRelation=="mergeSourceNotMoved"){e.howMany=0;e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t);return [e]}if(i.abRelation=="mergeSameElement"||e.sourcePosition.offset>0){e.sourcePosition=t.moveTargetPosition.clone();e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t);return [e]}}if(e.sourcePosition.hasSameParentAs(t.splitPosition)){e.howMany=t.splitPosition.offset;}e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t);e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t);return [e]});Av(ng,og,(e,t)=>{const i=Gh._createFromPositionAndShift(e.sourcePosition,e.howMany);const n=i._getTransformedByInsertOperation(t,false)[0];e.sourcePosition=n.start;e.howMany=n.end.offset-n.start.offset;if(!e.targetPosition.isEqual(t.position)){e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t);}return [e]});Av(ng,ng,(e,t,i)=>{const n=Gh._createFromPositionAndShift(e.sourcePosition,e.howMany);const o=Gh._createFromPositionAndShift(t.sourcePosition,t.howMany);let s=i.aIsStrong;let r=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"){r=true;}else if(i.abRelation=="insertAfter"||i.baRelation=="insertBefore"){r=false;}let a;if(e.targetPosition.isEqual(t.targetPosition)&&r){a=e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany);}else {a=e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);}if(Rv(e,t)&&Rv(t,e)){return [t.getReversed()]}const c=n.containsPosition(t.targetPosition);if(c&&n.containsRange(o,true)){n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);return Lv([n],a)}const l=o.containsPosition(e.targetPosition);if(l&&o.containsRange(n,true)){n.start=n.start._getCombined(t.sourcePosition,t.getMovedRangeStart());n.end=n.end._getCombined(t.sourcePosition,t.getMovedRangeStart());return Lv([n],a)}const d=Lr(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if(d=="prefix"||d=="extension"){n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);return Lv([n],a)}if(e.type=="remove"&&t.type!="remove"&&!i.aWasUndone&&!i.forceWeakRemove){s=true;}else if(e.type!="remove"&&t.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove){s=false;}const u=[];const h=n.getDifference(o);for(const e of h){e.start=e.start._getTransformedByDeletion(t.sourcePosition,t.howMany);e.end=e.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const i=Lr(e.start.getParentPath(),t.getMovedRangeStart().getParentPath())=="same";const n=e._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,i);u.push(...n);}const f=n.getIntersection(o);if(f!==null&&s){f.start=f.start._getCombined(t.sourcePosition,t.getMovedRangeStart());f.end=f.end._getCombined(t.sourcePosition,t.getMovedRangeStart());if(u.length===0){u.push(f);}else if(u.length==1){if(o.start.isBefore(n.start)||o.start.isEqual(n.start)){u.unshift(f);}else {u.push(f);}}else {u.splice(1,0,f);}}if(u.length===0){return [new Og(e.baseVersion)]}return Lv(u,a)});Av(ng,lg,(e,t,i)=>{let n=e.targetPosition.clone();if(!e.targetPosition.isEqual(t.insertionPosition)||!t.graveyardPosition||i.abRelation=="moveTargetAfter"){n=e.targetPosition._getTransformedBySplitOperation(t);}const o=Gh._createFromPositionAndShift(e.sourcePosition,e.howMany);if(o.end.isEqual(t.insertionPosition)){if(!t.graveyardPosition){e.howMany++;}e.targetPosition=n;return [e]}if(o.start.hasSameParentAs(t.splitPosition)&&o.containsPosition(t.splitPosition)){let e=new Gh(t.splitPosition,o.end);e=e._getTransformedBySplitOperation(t);const i=[new Gh(o.start,t.splitPosition),e];return Lv(i,n)}if(e.targetPosition.isEqual(t.splitPosition)&&i.abRelation=="insertAtSource"){n=t.moveTargetPosition;}if(e.targetPosition.isEqual(t.insertionPosition)&&i.abRelation=="insertBetween"){n=e.targetPosition;}const s=o._getTransformedBySplitOperation(t);const r=[s];if(t.graveyardPosition){const n=o.start.isEqual(t.graveyardPosition)||o.containsPosition(t.graveyardPosition);if(e.howMany>1&&n&&!i.aWasUndone){r.push(Gh._createFromPositionAndShift(t.insertionPosition,1));}}return Lv(r,n)});Av(ng,cg,(e,t,i)=>{const n=Gh._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.sourcePosition)){if(e.type=="remove"&&!i.forceWeakRemove){if(!i.aWasUndone){const i=[];let n=t.graveyardPosition.clone();let o=t.targetPosition._getTransformedByMergeOperation(t);if(e.howMany>1){i.push(new ng(e.sourcePosition,e.howMany-1,e.targetPosition,0));n=n._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1);o=o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1);}const s=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition);const r=new ng(n,1,s,0);const a=r.getMovedRangeStart().path.slice();a.push(0);const c=new $h(r.targetPosition.root,a);o=o._getTransformedByMove(n,s,1);const l=new ng(o,t.howMany,c,0);i.push(r);i.push(l);return i}}else {if(e.howMany==1){if(!i.bWasUndone){return [new Og(0)]}else {e.sourcePosition=t.graveyardPosition.clone();e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t);return [e]}}}}const o=Gh._createFromPositionAndShift(e.sourcePosition,e.howMany);const s=o._getTransformedByMergeOperation(t);e.sourcePosition=s.start;e.howMany=s.end.offset-s.start.offset;e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t);return [e]});Av(rg,og,(e,t)=>{e.position=e.position._getTransformedByInsertOperation(t);return [e]});Av(rg,cg,(e,t)=>{if(e.position.isEqual(t.deletionPosition)){e.position=t.graveyardPosition.clone();e.position.stickiness="toNext";return [e]}e.position=e.position._getTransformedByMergeOperation(t);return [e]});Av(rg,ng,(e,t)=>{e.position=e.position._getTransformedByMoveOperation(t);return [e]});Av(rg,rg,(e,t,i)=>{if(e.position.isEqual(t.position)){if(i.aIsStrong){e.oldName=t.newName;}else {return [new Og(0)]}}return [e]});Av(rg,lg,(e,t)=>{const i=e.position.path;const n=t.splitPosition.getParentPath();if(Lr(i,n)=="same"&&!t.graveyardPosition){const t=new rg(e.position.getShiftedBy(1),e.oldName,e.newName,0);return [e,t]}e.position=e.position._getTransformedBySplitOperation(t);return [e]});Av(ag,ag,(e,t,i)=>{if(e.root===t.root&&e.key===t.key){if(!i.aIsStrong||e.newValue===t.newValue){return [new Og(0)]}else {e.oldValue=t.newValue;}}return [e]});Av(lg,og,(e,t)=>{if(e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset){e.howMany+=t.howMany;}e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t);e.insertionPosition=lg.getInsertionPosition(e.splitPosition);return [e]});Av(lg,cg,(e,t,i)=>{if(!e.graveyardPosition&&!i.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){const i=t.graveyardPosition.path.slice();i.push(0);const n=new $h(t.graveyardPosition.root,i);const o=lg.getInsertionPosition(new $h(t.graveyardPosition.root,i));const s=new lg(n,0,null,0);s.insertionPosition=o;e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t);e.insertionPosition=lg.getInsertionPosition(e.splitPosition);e.graveyardPosition=s.insertionPosition.clone();e.graveyardPosition.stickiness="toNext";return [s,e]}if(e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)){e.howMany--;}if(e.splitPosition.hasSameParentAs(t.targetPosition)){e.howMany+=t.howMany;}e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t);e.insertionPosition=lg.getInsertionPosition(e.splitPosition);if(e.graveyardPosition){e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t);}return [e]});Av(lg,ng,(e,t,i)=>{const n=Gh._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){const o=n.start.isEqual(e.graveyardPosition)||n.containsPosition(e.graveyardPosition);if(!i.bWasUndone&&o){const i=e.splitPosition._getTransformedByMoveOperation(t);const n=e.graveyardPosition._getTransformedByMoveOperation(t);const o=n.path.slice();o.push(0);const s=new $h(n.root,o);const r=new ng(i,e.howMany,s,0);return [r]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t);}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const i=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);e.howMany-=i;if(e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset){e.howMany+=t.howMany;}e.splitPosition=t.sourcePosition.clone();e.insertionPosition=lg.getInsertionPosition(e.splitPosition);return [e]}const o=e.splitPosition.isEqual(t.targetPosition);if(o&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore")){e.howMany+=t.howMany;e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany);e.insertionPosition=lg.getInsertionPosition(e.splitPosition);return [e]}if(!t.sourcePosition.isEqual(t.targetPosition)){if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset){e.howMany-=t.howMany;}if(e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset){e.howMany+=t.howMany;}}e.splitPosition.stickiness="toNone";e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t);e.splitPosition.stickiness="toNext";if(e.graveyardPosition){e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t);}else {e.insertionPosition=lg.getInsertionPosition(e.splitPosition);}return [e]});Av(lg,lg,(e,t,i)=>{if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition){return [new Og(0)]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){return [new Og(0)]}if(i.abRelation=="splitBefore"){e.howMany=0;e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t);return [e]}}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){const n=e.splitPosition.root.rootName=="$graveyard";const o=t.splitPosition.root.rootName=="$graveyard";const s=n&&!o;const r=o&&!n;const a=r||!s&&i.aIsStrong;if(a){const i=[];if(t.howMany){i.push(new ng(t.moveTargetPosition,t.howMany,t.splitPosition,0));}if(e.howMany){i.push(new ng(e.splitPosition,e.howMany,e.moveTargetPosition,0));}return i}else {return [new Og(0)]}}if(e.graveyardPosition){e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t);}if(e.splitPosition.isEqual(t.insertionPosition)&&i.abRelation=="splitBefore"){e.howMany++;return [e]}if(t.splitPosition.isEqual(e.insertionPosition)&&i.baRelation=="splitBefore"){const i=t.insertionPosition.path.slice();i.push(0);const n=new $h(t.insertionPosition.root,i);const o=new ng(e.insertionPosition,1,n,0);return [e,o]}if(e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset){e.howMany-=t.howMany;}e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t);e.insertionPosition=lg.getInsertionPosition(e.splitPosition);return [e]});function Rv(e,t){return e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)===null}function Lv(e,t){const i=[];for(let n=0;n<e.length;n++){const o=e[n];const s=new ng(o.start,o.end.offset-o.start.offset,t,0);i.push(s);for(let t=n+1;t<e.length;t++){e[t]=e[t]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];}t=t._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany);}return i}class Dv extends jw{constructor(e){super(e);this._stack=[];this._createdBatches=new WeakSet;this.refresh();}refresh(){this.isEnabled=this._stack.length>0;}addBatch(e){const t=this.editor.model.document.selection;const i={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:i});this.refresh();}clearStack(){this._stack=[];this.refresh();}_restoreSelection(e,t,i){const n=this.editor.model;const o=n.document;const s=[];for(const t of e){const e=jv(t,i);const n=e.find(e=>e.start.root!=o.graveyard);if(n){s.push(n);}}if(s.length){n.change(e=>{e.setSelection(s,{backward:t});});}}_undo(e,t){const i=this.editor.model;const n=i.document;this._createdBatches.add(t);const o=e.operations.slice().filter(e=>e.isDocumentOperation);o.reverse();for(const e of o){const o=e.baseVersion+1;const s=Array.from(n.history.getOperations(o));const r=Ev([e.getReversed()],s,{useRelations:true,document:this.editor.model.document,padWithNoOps:false,forceWeakRemove:true});const a=r.operationsA;for(const o of a){t.addOperation(o);i.applyOperation(o);n.history.setOperationAsUndone(e,o);}}}}function jv(e,t){const i=e.getTransformedByOperations(t);i.sort((e,t)=>e.start.isBefore(t.start)?-1:1);for(let e=1;e<i.length;e++){const t=i[e-1];const n=i[e];if(t.end.isTouching(n.start)){t.end=n.end;i.splice(e,1);e--;}}return i}class zv extends Dv{execute(e=null){const t=e?this._stack.findIndex(t=>t.batch==e):this._stack.length-1;const i=this._stack.splice(t,1)[0];const n=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(n,()=>{this._undo(i.batch,n);const e=this.editor.model.document.history.getOperations(i.batch.baseVersion);this._restoreSelection(i.selection.ranges,i.selection.isBackward,e);this.fire("revert",i.batch,n);});this.refresh();}}class Bv extends Dv{execute(){const e=this._stack.pop();const t=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(t,()=>{const i=e.batch.operations[e.batch.operations.length-1];const n=i.baseVersion+1;const o=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,o);this._undo(e.batch,t);});this.refresh();}}class Vv extends Lw{static get pluginName(){return "UndoEditing"}constructor(e){super(e);this._batchRegistry=new WeakSet;}init(){const e=this.editor;this._undoCommand=new zv(e);this._redoCommand=new Bv(e);e.commands.add("undo",this._undoCommand);e.commands.add("redo",this._redoCommand);this.listenTo(e.model,"applyOperation",(e,t)=>{const i=t[0];if(!i.isDocumentOperation){return}const n=i.batch;const o=this._redoCommand._createdBatches.has(n);const s=this._undoCommand._createdBatches.has(n);const r=this._batchRegistry.has(n);if(r||n.type=="transparent"&&!o&&!s){return}else {if(o){this._undoCommand.addBatch(n);}else if(!s){this._undoCommand.addBatch(n);this._redoCommand.clearStack();}}this._batchRegistry.add(n);},{priority:"highest"});this.listenTo(this._undoCommand,"revert",(e,t,i)=>{this._redoCommand.addBatch(i);});e.keystrokes.set("CTRL+Z","undo");e.keystrokes.set("CTRL+Y","redo");e.keystrokes.set("CTRL+SHIFT+Z","redo");}}var Fv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>';var Hv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Uv extends Lw{init(){const e=this.editor;const t=e.locale;const i=e.t;const n=t.uiLanguageDirection=="ltr"?Fv:Hv;const o=t.uiLanguageDirection=="ltr"?Hv:Fv;this._addButton("undo",i("Undo"),"CTRL+Z",n);this._addButton("redo",i("Redo"),"CTRL+Y",o);}_addButton(e,t,i,n){const o=this.editor;o.ui.componentFactory.add(e,s=>{const r=o.commands.get(e);const a=new sw(s);a.set({label:t,icon:n,keystroke:i,tooltip:true});a.bind("isEnabled").to(r,"isEnabled");this.listenTo(a,"execute",()=>{o.execute(e);o.editing.view.focus();});return a});}}class Wv extends Lw{static get requires(){return [Vv,Uv]}static get pluginName(){return "Undo"}}class $v extends Lw{static get requires(){return [B_,$_,nv,X_,yv,Wv]}static get pluginName(){return "Essentials"}}class qv extends jw{refresh(){const e=this.editor.model;const t=e.document;const i=Bw(t.selection.getSelectedBlocks());this.value=!!i&&i.is("paragraph");this.isEnabled=!!i&&Yv(i,e.schema);}execute(e={}){const t=this.editor.model;const i=t.document;t.change(n=>{const o=(e.selection||i.selection).getSelectedBlocks();for(const e of o){if(!e.is("paragraph")&&Yv(e,t.schema)){n.rename(e,"paragraph");}}});}}function Yv(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}class Jv extends jw{execute(e){const t=this.editor.model;if(!t.schema.checkChild(e.position,"paragraph")){return}t.change(i=>{const n=i.createElement("paragraph");t.insertContent(n,e.position);i.setSelection(n,"in");});}}class Gv extends Lw{static get pluginName(){return "Paragraph"}init(){const e=this.editor;const t=e.model;const i=e.data;e.commands.add("paragraph",new qv(e));e.commands.add("insertParagraph",new Jv(e));t.schema.register("paragraph",{inheritAllFrom:"$block"});e.conversion.elementToElement({model:"paragraph",view:"p"});e.conversion.for("upcast").elementToElement({model:(e,t)=>{if(!Gv.paragraphLikeElements.has(e.name)){return null}if(e.isEmpty){return null}return t.createElement("paragraph")},converterPriority:"low"});i.upcastDispatcher.on("element",(e,t,i)=>{if(!i.consumable.test(t.viewItem,{name:t.viewItem.name})){return}if(Xv(t.viewItem,t.modelCursor,i.schema)){Object.assign(t,Qv(t.viewItem,t.modelCursor,i));}},{priority:"low"});i.upcastDispatcher.on("text",(e,t,i)=>{if(t.modelRange){return}if(Xv(t.viewItem,t.modelCursor,i.schema)){Object.assign(t,Qv(t.viewItem,t.modelCursor,i));}},{priority:"lowest"});t.document.registerPostFixer(e=>this._autoparagraphEmptyRoots(e));e.data.on("ready",()=>{t.enqueueChange("transparent",e=>this._autoparagraphEmptyRoots(e));},{priority:"lowest"});}_autoparagraphEmptyRoots(e){const t=this.editor.model;for(const i of t.document.getRootNames()){const n=t.document.getRoot(i);if(n.isEmpty&&n.rootName!="$graveyard"){if(t.schema.checkChild(n,"paragraph")){e.insertElement("paragraph",n);return true}}}}}Gv.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);function Qv(e,t,i){const n=i.writer.createElement("paragraph");i.writer.insert(n,t);return i.convertItem(e,i.writer.createPositionAt(n,0))}function Xv(e,t,i){const n=i.createContext(t);if(!i.checkChild(n,"paragraph")){return false}if(!i.checkChild(n.push("paragraph"),e)){return false}return true}class Kv extends jw{constructor(e,t){super(e);this.modelElements=t;}refresh(){const e=Bw(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name;this.isEnabled=!!e&&this.modelElements.some(t=>Zv(e,t,this.editor.model.schema));}execute(e){const t=this.editor.model;const i=t.document;const n=e.value;t.change(e=>{const o=Array.from(i.selection.getSelectedBlocks()).filter(e=>Zv(e,n,t.schema));for(const t of o){if(!t.is(n)){e.rename(t,n);}}});}}function Zv(e,t,i){return i.checkChild(e.parent,t)&&!i.isObject(e)}const ek="paragraph";class tk extends Lw{static get pluginName(){return "HeadingEditing"}constructor(e){super(e);e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]});}static get requires(){return [Gv]}init(){const e=this.editor;const t=e.config.get("heading.options");const i=[];for(const n of t){if(n.model!==ek){e.model.schema.register(n.model,{inheritAllFrom:"$block"});e.conversion.elementToElement(n);i.push(n.model);}}this._addDefaultH1Conversion(e);e.commands.add("heading",new Kv(e,i));}afterInit(){const e=this.editor;const t=e.commands.get("enter");const i=e.config.get("heading.options");if(t){this.listenTo(t,"afterExecute",(t,n)=>{const o=e.model.document.selection.getFirstPosition().parent;const s=i.some(e=>o.is(e.model));if(s&&!o.is(ek)&&o.childCount===0){n.writer.rename(o,ek);}});}}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:or.get("low")+1});}}class ik{constructor(e,t){if(t){$c(this,t);}if(e){this.set(e);}}}yr(ik,Qc);function nk(e){const t=e.t;const i={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map(e=>{const t=i[e.title];if(t&&t!=e.title){e.title=t;}return e})}var ok=i(11);class sk extends Lw{init(){const e=this.editor;const t=e.t;const i=nk(e);const n=t("Choose heading");const o=t("Heading");e.ui.componentFactory.add("heading",t=>{const s={};const r=new xr;const a=e.commands.get("heading");const c=e.commands.get("paragraph");const l=[a];for(const e of i){const t={type:"button",model:new ik({label:e.title,class:e.class,withText:true})};if(e.model==="paragraph"){t.model.bind("isOn").to(c,"value");t.model.set("commandName","paragraph");l.push(c);}else {t.model.bind("isOn").to(a,"value",t=>t===e.model);t.model.set({commandName:"heading",commandValue:e.model});}r.add(t);s[e.model]=e.title;}const d=bw(t);_w(d,r);d.buttonView.set({isOn:false,withText:true,tooltip:o});d.extendTemplate({attributes:{class:["ck-heading-dropdown"]}});d.bind("isEnabled").toMany(l,"isEnabled",(...e)=>e.some(e=>e));d.buttonView.bind("label").to(a,"value",c,"value",(e,t)=>{const i=e||t&&"paragraph";return s[i]?s[i]:n});this.listenTo(d,"execute",t=>{e.execute(t.source.commandName,t.source.commandValue?{value:t.source.commandValue}:undefined);e.editing.view.focus();});return d});}}class rk extends Lw{static get requires(){return [tk,sk]}static get pluginName(){return "Heading"}}class ak extends Yd{observe(e){this.listenTo(e,"load",(e,t)=>{const i=t.target;if(i.tagName=="IMG"){this._fireEvents(t);}},{useCapture:true});}_fireEvents(e){if(this.isEnabled){this.document.fire("layoutChanged");this.document.fire("imageLoaded",e);}}}class ck{constructor(){this._stack=[];}add(e,t){const i=this._stack;const n=i[0];this._insertDescriptor(e);const o=i[0];if(n!==o&&!lk(n,o)){this.fire("change:top",{oldDescriptor:n,newDescriptor:o,writer:t});}}remove(e,t){const i=this._stack;const n=i[0];this._removeDescriptor(e);const o=i[0];if(n!==o&&!lk(n,o)){this.fire("change:top",{oldDescriptor:n,newDescriptor:o,writer:t});}}_insertDescriptor(e){const t=this._stack;const i=t.findIndex(t=>t.id===e.id);if(lk(e,t[i])){return}if(i>-1){t.splice(i,1);}let n=0;while(t[n]&&dk(t[n],e)){n++;}t.splice(n,0,e);}_removeDescriptor(e){const t=this._stack;const i=t.findIndex(t=>t.id===e);if(i>-1){t.splice(i,1);}}}yr(ck,dr);function lk(e,t){return e&&t&&e.priority==t.priority&&uk(e.classes)==uk(t.classes)}function dk(e,t){if(e.priority>t.priority){return true}else if(e.priority<t.priority){return false}return uk(e.classes)>uk(t.classes)}function uk(e){return Array.isArray(e)?e.sort().join(","):e}var hk=i(47);const fk=Ob("px");const mk=Od.document.body;class gk extends _b{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0);this.set("left",0);this.set("position","arrow_nw");this.set("isVisible",false);this.set("withArrow",true);this.set("class");this.content=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",e=>`ck-balloon-panel_${e}`),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",fk),left:t.to("left",fk)}},children:this.content});}show(){this.isVisible=true;}hide(){this.isVisible=false;}attachTo(e){this.show();const t=gk.defaultPositions;const i=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast],limiter:mk,fitInViewport:true},e);const n=gk._getOptimalPosition(i);const o=parseInt(n.left);const s=parseInt(n.top);const r=n.name;Object.assign(this,{top:s,left:o,position:r});}pin(e){this.unpin();this._pinWhenIsVisibleCallback=()=>{if(this.isVisible){this._startPinning(e);}else {this._stopPinning();}};this._startPinning(e);this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback);}unpin(){if(this._pinWhenIsVisibleCallback){this._stopPinning();this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback);this._pinWhenIsVisibleCallback=null;this.hide();}}_startPinning(e){this.attachTo(e);const t=pk(e.target);const i=e.limiter?pk(e.limiter):mk;this.listenTo(Od.document,"scroll",(n,o)=>{const s=o.target;const r=t&&s.contains(t);const a=i&&s.contains(i);if(r||a||!t||!i){this.attachTo(e);}},{useCapture:true});this.listenTo(Od.window,"resize",()=>{this.attachTo(e);});}_stopPinning(){this.stopListening(Od.document,"scroll");this.stopListening(Od.window,"resize");}}function pk(e){if(Js(e)){return e}if(wh(e)){return e.commonAncestorContainer}if(typeof e=="function"){return pk(e())}return null}gk.arrowHorizontalOffset=25;gk.arrowVerticalOffset=10;gk._getOptimalPosition=qb;gk.defaultPositions={northWestArrowSouthWest:(e,t)=>({top:bk(e,t),left:e.left-gk.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthMiddleWest:(e,t)=>({top:bk(e,t),left:e.left-t.width*.25-gk.arrowHorizontalOffset,name:"arrow_smw"}),northWestArrowSouth:(e,t)=>({top:bk(e,t),left:e.left-t.width/2,name:"arrow_s"}),northWestArrowSouthMiddleEast:(e,t)=>({top:bk(e,t),left:e.left-t.width*.75+gk.arrowHorizontalOffset,name:"arrow_sme"}),northWestArrowSouthEast:(e,t)=>({top:bk(e,t),left:e.left-t.width+gk.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(e,t)=>({top:bk(e,t),left:e.left+e.width/2-gk.arrowHorizontalOffset,name:"arrow_sw"}),northArrowSouthMiddleWest:(e,t)=>({top:bk(e,t),left:e.left+e.width/2-t.width*.25-gk.arrowHorizontalOffset,name:"arrow_smw"}),northArrowSouth:(e,t)=>({top:bk(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s"}),northArrowSouthMiddleEast:(e,t)=>({top:bk(e,t),left:e.left+e.width/2-t.width*.75+gk.arrowHorizontalOffset,name:"arrow_sme"}),northArrowSouthEast:(e,t)=>({top:bk(e,t),left:e.left+e.width/2-t.width+gk.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(e,t)=>({top:bk(e,t),left:e.right-gk.arrowHorizontalOffset,name:"arrow_sw"}),northEastArrowSouthMiddleWest:(e,t)=>({top:bk(e,t),left:e.right-t.width*.25-gk.arrowHorizontalOffset,name:"arrow_smw"}),northEastArrowSouth:(e,t)=>({top:bk(e,t),left:e.right-t.width/2,name:"arrow_s"}),northEastArrowSouthMiddleEast:(e,t)=>({top:bk(e,t),left:e.right-t.width*.75+gk.arrowHorizontalOffset,name:"arrow_sme"}),northEastArrowSouthEast:(e,t)=>({top:bk(e,t),left:e.right-t.width+gk.arrowHorizontalOffset,name:"arrow_se"}),southWestArrowNorthWest:(e,t)=>({top:wk(e),left:e.left-gk.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthMiddleWest:(e,t)=>({top:wk(e),left:e.left-t.width*.25-gk.arrowHorizontalOffset,name:"arrow_nmw"}),southWestArrowNorth:(e,t)=>({top:wk(e),left:e.left-t.width/2,name:"arrow_n"}),southWestArrowNorthMiddleEast:(e,t)=>({top:wk(e),left:e.left-t.width*.75+gk.arrowHorizontalOffset,name:"arrow_nme"}),southWestArrowNorthEast:(e,t)=>({top:wk(e),left:e.left-t.width+gk.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(e,t)=>({top:wk(e),left:e.left+e.width/2-gk.arrowHorizontalOffset,name:"arrow_nw"}),southArrowNorthMiddleWest:(e,t)=>({top:wk(e),left:e.left+e.width/2-t.width*.25-gk.arrowHorizontalOffset,name:"arrow_nmw"}),southArrowNorth:(e,t)=>({top:wk(e),left:e.left+e.width/2-t.width/2,name:"arrow_n"}),southArrowNorthMiddleEast:(e,t)=>({top:wk(e),left:e.left+e.width/2-t.width*.75+gk.arrowHorizontalOffset,name:"arrow_nme"}),southArrowNorthEast:(e,t)=>({top:wk(e),left:e.left+e.width/2-t.width+gk.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(e,t)=>({top:wk(e),left:e.right-gk.arrowHorizontalOffset,name:"arrow_nw"}),southEastArrowNorthMiddleWest:(e,t)=>({top:wk(e),left:e.right-t.width*.25-gk.arrowHorizontalOffset,name:"arrow_nmw"}),southEastArrowNorth:(e,t)=>({top:wk(e),left:e.right-t.width/2,name:"arrow_n"}),southEastArrowNorthMiddleEast:(e,t)=>({top:wk(e),left:e.right-t.width*.75+gk.arrowHorizontalOffset,name:"arrow_nme"}),southEastArrowNorthEast:(e,t)=>({top:wk(e),left:e.right-t.width+gk.arrowHorizontalOffset,name:"arrow_ne"})};function bk(e,t){return e.top-t.height-gk.arrowVerticalOffset}function wk(e){return e.bottom+gk.arrowVerticalOffset}var _k='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>';const vk="ck-widget";const kk="ck-widget_selected";function yk(e){if(!e.is("element")){return false}return !!e.getCustomProperty("widget")}function xk(e,t,i={}){t.setAttribute("contenteditable","false",e);t.addClass(vk,e);t.setCustomProperty("widget",true,e);e.getFillerOffset=Ik;if(i.label){Ck(e,i.label,t);}if(i.hasSelectionHandle){Ok(e,t);}Ak(e,t,(e,t,i)=>i.addClass(n(t.classes),e),(e,t,i)=>i.removeClass(n(t.classes),e));return e;function n(e){return Array.isArray(e)?e:[e]}}function Ak(e,t,i,n){const o=new ck;o.on("change:top",(t,o)=>{if(o.oldDescriptor){n(e,o.oldDescriptor,o.writer);}if(o.newDescriptor){i(e,o.newDescriptor,o.writer);}});t.setCustomProperty("addHighlight",(e,t,i)=>o.add(t,i),e);t.setCustomProperty("removeHighlight",(e,t,i)=>o.remove(t,i),e);}function Ck(e,t,i){i.setCustomProperty("widgetLabel",t,e);}function Tk(e){const t=e.getCustomProperty("widgetLabel");if(!t){return ""}return typeof t=="function"?t():t}function Mk(e,t){t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e);t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e);e.on("change:isReadOnly",(i,n,o)=>{t.setAttribute("contenteditable",o?"false":"true",e);});e.on("change:isFocused",(i,n,o)=>{if(o){t.addClass("ck-editor__nested-editable_focused",e);}else {t.removeClass("ck-editor__nested-editable_focused",e);}});return e}function Ek(e,t){const i=e.getSelectedElement();if(i&&t.schema.isBlock(i)){return t.createPositionAfter(i)}const n=e.getSelectedBlocks().next().value;if(n){if(n.isEmpty){return t.createPositionAt(n,0)}const i=t.createPositionAfter(n);if(e.focus.isTouching(i)){return i}return t.createPositionBefore(n)}return e.focus}function Sk(e,t){const i=new kh(Od.window);const n=i.getIntersection(e);const o=t.height+gk.arrowVerticalOffset;if(e.top-o>i.top||e.bottom+o<i.bottom){return null}const s=n||e;const r=s.left+s.width/2-t.width/2;return {top:Math.max(e.top,0)+gk.arrowVerticalOffset,left:r,name:"arrow_n"}}function Ik(){return null}function Ok(e,t){const i=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){const t=this.toDomElement(e);const i=new tw;i.set("content",_k);i.render();t.appendChild(i.element);return t}));t.insert(t.createPositionAt(e,0),i);t.addClass(["ck-widget_with-selection-handle"],e);}function Nk(e,t,i){t.setCustomProperty("image",true,e);return xk(e,t,{label:n});function n(){const t=Bk(e);const n=t.getAttribute("alt");return n?`${n} ${i}`:i}}function Rk(e){return !!e.getCustomProperty("image")&&yk(e)}function Lk(e){const t=e.getSelectedElement();if(t&&Rk(t)){return t}return null}function Dk(e){return !!e&&e.is("image")}function jk(e,t,i={}){const n=e.createElement("image",i);const o=Ek(t.document.selection,t);t.insertContent(n,o);if(n.parent){e.setSelection(n,"on");}}function zk(e){const t=e.schema;const i=e.document.selection;return Vk(i,t,e)&&!Fk(i,t)&&Hk(i)}function Bk(e){return Array.from(e.getChildren()).find(e=>e.is("img"))}function Vk(e,t,i){const n=Uk(e,i);return t.checkChild(n,"image")}function Fk(e,t){const i=e.getSelectedElement();return i&&t.isObject(i)}function Hk(e){return [...e.focus.getAncestors()].every(e=>!e.is("image"))}function Uk(e,t){const i=Ek(e,t);const n=i.parent;if(n.isEmpty&&!n.is("$root")){return n.parent}return n}function Wk(){return t=>{t.on("element:figure",e);};function e(e,t,i){if(!i.consumable.test(t.viewItem,{name:true,classes:"image"})){return}const n=Bk(t.viewItem);if(!n||!n.hasAttribute("src")||!i.consumable.test(n,{name:true})){return}const o=i.convertItem(n,t.modelCursor);const s=Bw(o.modelRange.getItems());if(!s){return}i.convertChildren(t.viewItem,i.writer.createPositionAt(s,0));t.modelRange=o.modelRange;t.modelCursor=o.modelCursor;}}function $k(){return t=>{t.on("attribute:srcset:image",e);};function e(e,t,i){if(!i.consumable.consume(t.item,e.name)){return}const n=i.writer;const o=i.mapper.toViewElement(t.item);const s=Bk(o);if(t.attributeNewValue===null){const e=t.attributeOldValue;if(e.data){n.removeAttribute("srcset",s);n.removeAttribute("sizes",s);if(e.width){n.removeAttribute("width",s);}}}else {const e=t.attributeNewValue;if(e.data){n.setAttribute("srcset",e.data,s);n.setAttribute("sizes","100vw",s);if(e.width){n.setAttribute("width",e.width,s);}}}}}function qk(e){return i=>{i.on(`attribute:${e}:image`,t);};function t(e,t,i){if(!i.consumable.consume(t.item,e.name)){return}const n=i.writer;const o=i.mapper.toViewElement(t.item);const s=Bk(o);if(t.attributeNewValue!==null){n.setAttribute(t.attributeKey,t.attributeNewValue,s);}else {n.removeAttribute(t.attributeKey,s);}}}class Yk extends jw{refresh(){this.isEnabled=zk(this.editor.model);}execute(e){const t=this.editor.model;t.change(i=>{const n=Array.isArray(e.source)?e.source:[e.source];for(const e of n){jk(i,t,{src:e});}});}}class Jk extends Lw{static get pluginName(){return "ImageEditing"}init(){const e=this.editor;const t=e.model.schema;const i=e.t;const n=e.conversion;e.editing.view.addObserver(ak);t.register("image",{isObject:true,isBlock:true,allowWhere:"$block",allowAttributes:["alt","src","srcset"]});n.for("dataDowncast").elementToElement({model:"image",view:(e,t)=>Gk(t)});n.for("editingDowncast").elementToElement({model:"image",view:(e,t)=>Nk(Gk(t),t,i("image widget"))});n.for("downcast").add(qk("src")).add(qk("alt")).add($k());n.for("upcast").elementToElement({view:{name:"img",attributes:{src:true}},model:(e,t)=>t.createElement("image",{src:e.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:e=>{const t={data:e.getAttribute("srcset")};if(e.hasAttribute("width")){t.width=e.getAttribute("width");}return t}}}).add(Wk());e.commands.add("imageInsert",new Yk(e));}}function Gk(e){const t=e.createEmptyElement("img");const i=e.createContainerElement("figure",{class:"image"});e.insert(e.createPositionAt(i,0),t);return i}class Qk extends Gu{constructor(e){super(e);this.domEventType="mousedown";}onDomEvent(e){this.fire(e.type,e);}}function Xk(e,t,i){return e&&yk(e)&&!i.isInline(t)}function Kk(e){return e.closest(".ck-widget__type-around__button")}function Zk(e){return e.classList.contains("ck-widget__type-around__button_before")?"before":"after"}function ey(e,t){const i=e.closest(".ck-widget");return t.mapDomToView(i)}function ty(e){const t=[];if(iy(e)||oy(e)){t.push("before");}if(ny(e)||sy(e)){t.push("after");}return t}function iy(e){return !e.previousSibling}function ny(e){return !e.nextSibling}function oy(e){return e.previousSibling&&yk(e.previousSibling)}function sy(e){return e.nextSibling&&yk(e.nextSibling)}var ry='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><polyline points="8.05541992 0.263427734 8.05541992 4.23461914 1.28417969 4.23461914" transform="translate(1,0)"></polyline><line x1="0" y1="4.21581031" x2="2" y2="2.17810059" transform="translate(1, 0)"></line><line x1="0" y1="6.21581031" x2="2" y2="4.17810059" transform="translate(2, 5.196955) scale(1, -1) translate(-1, -5.196955)"></line></svg>\n';var ay=i(49);const cy=["before","after"];const ly=(new DOMParser).parseFromString(ry,"image/svg+xml").firstChild;class dy extends Lw{static get requires(){return [Gv]}static get pluginName(){return "WidgetTypeAround"}constructor(e){super(e);this._widgetsWithTypeAroundUI=new Set;}destroy(){this._widgetsWithTypeAroundUI.clear();}init(){this._enableTypeAroundUIInjection();this._enableDetectionOfTypeAroundWidgets();this._enableInsertingParagraphsOnButtonClick();}_insertParagraph(e,t){const i=this.editor;const n=i.editing.view;const o=i.editing.mapper.toModelElement(e);let s;if(t==="before"){s=i.model.createPositionBefore(o);}else {s=i.model.createPositionAfter(o);}i.execute("insertParagraph",{position:s});n.focus();n.scrollToTheSelection();}_enableTypeAroundUIInjection(){const e=this.editor;const t=e.model.schema;const i=e.locale.t;const n={before:i("Insert paragraph before block"),after:i("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(e,i,o)=>{const s=o.mapper.toViewElement(i.item);if(Xk(s,i.item,t)){uy(o.writer,n,s);this._widgetsWithTypeAroundUI.add(s);}},{priority:"low"});}_enableDetectionOfTypeAroundWidgets(){const e=this.editor;const t=e.editing.view;function i(e){return `ck-widget_can-type-around_${e}`}t.document.registerPostFixer(e=>{for(const t of this._widgetsWithTypeAroundUI){if(!t.isAttached()){this._widgetsWithTypeAroundUI.delete(t);}else {const n=ty(t);e.removeClass(cy.map(i),t);e.addClass(n.map(i),t);}}});}_enableInsertingParagraphsOnButtonClick(){const e=this.editor;const t=e.editing.view;t.document.on("mousedown",(e,i)=>{const n=Kk(i.domTarget);if(!n){return}const o=Zk(n);const s=ey(n,t.domConverter);this._insertParagraph(s,o);i.preventDefault();e.stop();});}}function uy(e,t,i){const n=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(e){const i=this.toDomElement(e);hy(i,t);return i}));e.insert(e.createPositionAt(i,"end"),n);}function hy(e,t){for(const i of cy){const n=new qp({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${i}`],title:t[i]},children:[e.ownerDocument.importNode(ly,true)]});e.appendChild(n.render());}}var fy=i(51);class my extends Lw{static get pluginName(){return "Widget"}static get requires(){return [dy]}init(){const e=this.editor.editing.view;const t=e.document;this._previouslySelected=new Set;this.editor.editing.downcastDispatcher.on("selection",(e,t,i)=>{this._clearPreviouslySelectedWidgets(i.writer);const n=i.writer;const o=n.document.selection;const s=o.getSelectedElement();let r=null;for(const e of o.getRanges()){for(const t of e){const e=t.item;if(yk(e)&&!by(e,r)){n.addClass(kk,e);this._previouslySelected.add(e);r=e;if(e==s){n.setSelection(o.getRanges(),{fake:true,label:Tk(s)});}}}}},{priority:"low"});e.addObserver(Qk);this.listenTo(t,"mousedown",(...e)=>this._onMousedown(...e));this.listenTo(t,"keydown",(...e)=>this._onKeydown(...e),{priority:"high"});this.listenTo(t,"delete",(e,t)=>{if(this._handleDelete(t.direction=="forward")){t.preventDefault();e.stop();}},{priority:"high"});}_onMousedown(e,t){const i=this.editor;const n=i.editing.view;const o=n.document;let s=t.target;if(py(s)){if(Tl.isSafari&&t.domEvent.detail>=3){const e=i.editing.mapper;const n=e.toModelElement(s);this.editor.model.change(e=>{t.preventDefault();e.setSelection(n,"in");});}return}if(!yk(s)){s=s.findAncestor(yk);if(!s){return}}t.preventDefault();if(!o.isFocused){n.focus();}const r=i.editing.mapper.toModelElement(s);this._setSelectionOverElement(r);}_onKeydown(e,t){const i=t.keyCode;const n=this.editor.locale.contentLanguageDirection==="ltr";const o=i==Rl.arrowdown||i==Rl[n?"arrowright":"arrowleft"];let s=false;if(gy(i)){s=this._handleArrowKeys(o);}else if(i===Rl.enter){s=this._handleEnterKey(t.shiftKey);}if(s){t.preventDefault();e.stop();}}_handleDelete(e){if(this.editor.isReadOnly){return}const t=this.editor.model.document;const i=t.selection;if(!i.isCollapsed){return}const n=this._getObjectElementNextToSelection(e);if(n){this.editor.model.change(e=>{let t=i.anchor.parent;while(t.isEmpty){const i=t;t=i.parent;e.remove(i);}this._setSelectionOverElement(n);});return true}}_handleArrowKeys(e){const t=this.editor.model;const i=t.schema;const n=t.document;const o=n.selection;const s=o.getSelectedElement();if(s&&i.isObject(s)){const n=e?o.getLastPosition():o.getFirstPosition();const s=i.getNearestSelectionRange(n,e?"forward":"backward");if(s){t.change(e=>{e.setSelection(s);});}return true}if(!o.isCollapsed){return}const r=this._getObjectElementNextToSelection(e);if(!!r&&i.isObject(r)){this._setSelectionOverElement(r);return true}}_handleEnterKey(e){const t=this.editor.model;const i=t.document.selection;const n=i.getSelectedElement();if(wy(n,t.schema)){t.change(i=>{let o=i.createPositionAt(n,e?"before":"after");const s=i.createElement("paragraph");if(t.schema.isBlock(n.parent)){const e=t.schema.findAllowedParent(o,s);o=i.split(o,e).position;}i.insert(s,o);i.setSelection(s,"in");});return true}}_setSelectionOverElement(e){this.editor.model.change(t=>{t.setSelection(t.createRangeOn(e));});}_getObjectElementNextToSelection(e){const t=this.editor.model;const i=t.schema;const n=t.document.selection;const o=t.createSelection(n);t.modifySelection(o,{direction:e?"forward":"backward"});const s=e?o.focus.nodeBefore:o.focus.nodeAfter;if(!!s&&i.isObject(s)){return s}return null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected){e.removeClass(kk,t);}this._previouslySelected.clear();}}function gy(e){return e==Rl.arrowright||e==Rl.arrowleft||e==Rl.arrowup||e==Rl.arrowdown}function py(e){while(e){if(e.is("editableElement")&&!e.is("rootElement")){return true}if(yk(e)){return false}e=e.parent;}return false}function by(e,t){if(!t){return false}return Array.from(e.getAncestors()).includes(t)}function wy(e,t){return e&&t.isObject(e)&&!t.isInline(e)}class _y extends jw{refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Dk(e);if(Dk(e)&&e.hasAttribute("alt")){this.value=e.getAttribute("alt");}else {this.value=false;}}execute(e){const t=this.editor.model;const i=t.document.selection.getSelectedElement();t.change(t=>{t.setAttribute("alt",e.newValue,i);});}}class vy extends Lw{static get pluginName(){return "ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new _y(this.editor));}}var ky=i(53);class yy extends _b{constructor(e,t){super(e);const i=`ck-labeled-field-view-${ir()}`;const n=`ck-labeled-field-view-status-${ir()}`;this.fieldView=t(this,i,n);this.set("label");this.set("isEnabled",true);this.set("errorText",null);this.set("infoText",null);this.set("class");this.labelView=this._createLabelView(i);this.statusView=this._createStatusView(n);this.bind("_statusText").to(this,"errorText",this,"infoText",(e,t)=>e||t);const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",o.to("class"),o.if("isEnabled","ck-disabled",e=>!e)]},children:[this.labelView,this.fieldView,this.statusView]});}_createLabelView(e){const t=new Eb(this.locale);t.for=e;t.bind("text").to(this,"label");return t}_createStatusView(e){const t=new _b(this.locale);const i=this.bindTemplate;t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",i.if("errorText","ck-labeled-field-view__status_error"),i.if("_statusText","ck-hidden",e=>!e)],id:e,role:i.if("errorText","alert")},children:[{text:i.to("_statusText")}]});return t}focus(){this.fieldView.focus();}}var xy=i(55);class Ay extends _b{constructor(e){super(e);this.set("value");this.set("id");this.set("placeholder");this.set("isReadOnly",false);this.set("hasError",false);this.set("ariaDescribedById");const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",t.if("hasError","ck-error")],id:t.to("id"),placeholder:t.to("placeholder"),readonly:t.to("isReadOnly"),"aria-invalid":t.if("hasError",true),"aria-describedby":t.to("ariaDescribedById")},on:{input:t.to("input")}});}render(){super.render();const e=e=>{this.element.value=!e&&e!==0?"":e;};e(this.value);this.on("change:value",(t,i,n)=>{e(n);});}select(){this.element.select();}focus(){this.element.focus();}}function Cy(e,t,i){const n=new Ay(e.locale);n.set({id:t,ariaDescribedById:i});n.bind("isReadOnly").to(e,"isEnabled",e=>!e);n.bind("hasError").to(e,"errorText",e=>!!e);n.on("input",()=>{e.errorText=null;});return n}function My({view:e}){e.listenTo(e.element,"submit",(t,i)=>{i.preventDefault();e.fire("submit");},{useCapture:true});}var Ey='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>';var Py='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';var Sy=i(57);class Iy extends _b{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new Mp;this.keystrokes=new mp;this.labeledInput=this._createLabeledInputView();this.saveButtonView=this._createButton(t("Save"),Ey,"ck-button-save");this.saveButtonView.type="submit";this.cancelButtonView=this._createButton(t("Cancel"),Py,"ck-button-cancel","cancel");this._focusables=new Up;this._focusCycler=new Db({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]});}render(){super.render();this.keystrokes.listenTo(this.element);My({view:this});[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e);this.focusTracker.add(e.element);});}_createButton(e,t,i,n){const o=new sw(this.locale);o.set({label:e,icon:t,tooltip:true});o.extendTemplate({attributes:{class:i}});if(n){o.delegate("execute").to(this,n);}return o}_createLabeledInputView(){const e=this.locale.t;const t=new yy(this.locale,Cy);t.label=e("Text alternative");t.fieldView.placeholder=e("Text alternative");return t}}var Oy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>';var Ny='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>';var Ry=i(59);var Ly=i(61);const Dy=Ob("px");class jy extends Lw{static get pluginName(){return "ContextualBalloon"}constructor(e){super(e);this.positionLimiter=()=>{const e=this.editor.editing.view;const t=e.document;const i=t.selection.editableElement;if(i){return e.domConverter.mapViewToDom(i.root)}return null};this.set("visibleView",null);this.view=new gk(e.locale);e.ui.view.body.add(this.view);e.ui.focusTracker.add(this.view.element);this._viewToStack=new Map;this._idToStack=new Map;this.set("_numberOfStacks",0);this.set("_singleViewMode",false);this._rotatorView=this._createRotatorView();this._fakePanelsView=this._createFakePanelsView();}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this.hasView(e.view)){throw new rr["b"]("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,e])}const t=e.stackId||"main";if(!this._idToStack.has(t)){this._idToStack.set(t,new Map([[e.view,e]]));this._viewToStack.set(e.view,this._idToStack.get(t));this._numberOfStacks=this._idToStack.size;if(!this._visibleStack||e.singleViewMode){this.showStack(t);}return}const i=this._idToStack.get(t);if(e.singleViewMode){this.showStack(t);}i.set(e.view,e);this._viewToStack.set(e.view,i);if(i===this._visibleStack){this._showView(e);}}remove(e){if(!this.hasView(e)){throw new rr["b"]("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,e])}const t=this._viewToStack.get(e);if(this._singleViewMode&&this.visibleView===e){this._singleViewMode=false;}if(this.visibleView===e){if(t.size===1){if(this._idToStack.size>1){this._showNextStack();}else {this.view.hide();this.visibleView=null;this._rotatorView.hideView();}}else {this._showView(Array.from(t.values())[t.size-2]);}}if(t.size===1){this._idToStack.delete(this._getStackId(t));this._numberOfStacks=this._idToStack.size;}else {t.delete(e);}this._viewToStack.delete(e);}updatePosition(e){if(e){this._visibleStack.get(this.visibleView).position=e;}this.view.pin(this._getBalloonPosition());this._fakePanelsView.updatePosition();}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t){throw new rr["b"]("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this)}if(this._visibleStack===t){return}this._showView(Array.from(t.values()).pop());}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){const t=Array.from(this._idToStack.entries()).find(t=>t[1]===e);return t[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;if(!e[t]){t=0;}this.showStack(this._getStackId(e[t]));}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;if(!e[t]){t=e.length-1;}this.showStack(this._getStackId(e[t]));}_createRotatorView(){const e=new zy(this.editor.locale);const t=this.editor.locale.t;this.view.content.add(e);e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(e,t)=>!t&&e>1);e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"});e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(e,i)=>{if(i<2){return ""}const n=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[n,i])});e.buttonNextView.on("execute",()=>{if(e.focusTracker.isFocused){this.editor.editing.view.focus();}this._showNextStack();});e.buttonPrevView.on("execute",()=>{if(e.focusTracker.isFocused){this.editor.editing.view.focus();}this._showPrevStack();});return e}_createFakePanelsView(){const e=new By(this.editor.locale,this.view);e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(e,t)=>{const i=!t&&e>=2;return i?Math.min(e-1,2):0});e.listenTo(this.view,"change:top",()=>e.updatePosition());e.listenTo(this.view,"change:left",()=>e.updatePosition());this.editor.ui.view.body.add(e);return e}_showView({view:e,balloonClassName:t="",withArrow:i=true,singleViewMode:n=false}){this.view.class=t;this.view.withArrow=i;this._rotatorView.showView(e);this.visibleView=e;this.view.pin(this._getBalloonPosition());this._fakePanelsView.updatePosition();if(n){this._singleViewMode=true;}}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;if(e&&!e.limiter){e=Object.assign({},e,{limiter:this.positionLimiter});}return e}}class zy extends _b{constructor(e){super(e);const t=e.t;const i=this.bindTemplate;this.set("isNavigationVisible",true);this.focusTracker=new Mp;this.buttonPrevView=this._createButtonView(t("Previous"),Oy);this.buttonNextView=this._createButtonView(t("Next"),Ny);this.content=this.createCollection();this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",e=>e?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]});}render(){super.render();this.focusTracker.add(this.element);}showView(e){this.hideView();this.content.add(e);}hideView(){this.content.clear();}_createButtonView(e,t){const i=new sw(this.locale);i.set({label:e,icon:t,tooltip:true});return i}}class By extends _b{constructor(e,t){super(e);const i=this.bindTemplate;this.set("top",0);this.set("left",0);this.set("height",0);this.set("width",0);this.set("numberOfPanels",0);this.content=this.createCollection();this._balloonPanelView=t;this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",e=>e?"":"ck-hidden")],style:{top:i.to("top",Dy),left:i.to("left",Dy),width:i.to("width",Dy),height:i.to("height",Dy)}},children:this.content});this.on("change:numberOfPanels",(e,t,i,n)=>{if(i>n){this._addPanels(i-n);}else {this._removePanels(n-i);}this.updatePosition();});}_addPanels(e){while(e--){const e=new _b;e.setTemplate({tag:"div"});this.content.add(e);this.registerChild(e);}}_removePanels(e){while(e--){const e=this.content.last;this.content.remove(e);this.deregisterChild(e);e.destroy();}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView;const{width:i,height:n}=new kh(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:i,height:n});}}}var Vy='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>';function Fy(e){const t=e.plugins.get("ContextualBalloon");if(Lk(e.editing.view.document.selection)){const i=Hy(e);t.updatePosition(i);}}function Hy(e){const t=e.editing.view;const i=gk.defaultPositions;return {target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast]}}class Uy extends Lw{static get requires(){return [jy]}static get pluginName(){return "ImageTextAlternativeUI"}init(){this._createButton();this._createForm();}destroy(){super.destroy();this._form.destroy();}_createButton(){const e=this.editor;const t=e.t;e.ui.componentFactory.add("imageTextAlternative",i=>{const n=e.commands.get("imageTextAlternative");const o=new sw(i);o.set({label:t("Change image text alternative"),icon:Vy,tooltip:true});o.bind("isEnabled").to(n,"isEnabled");this.listenTo(o,"execute",()=>{this._showForm();});return o});}_createForm(){const e=this.editor;const t=e.editing.view;const i=t.document;this._balloon=this.editor.plugins.get("ContextualBalloon");this._form=new Iy(e.locale);this._form.render();this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value});this._hideForm(true);});this.listenTo(this._form,"cancel",()=>{this._hideForm(true);});this._form.keystrokes.set("Esc",(e,t)=>{this._hideForm(true);t();});this.listenTo(e.ui,"update",()=>{if(!Lk(i.selection)){this._hideForm(true);}else if(this._isVisible){Fy(e);}});mw({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()});}_showForm(){if(this._isVisible){return}const e=this.editor;const t=e.commands.get("imageTextAlternative");const i=this._form.labeledInput;if(!this._isInBalloon){this._balloon.add({view:this._form,position:Hy(e)});}i.fieldView.value=i.fieldView.element.value=t.value||"";this._form.labeledInput.fieldView.select();}_hideForm(e){if(!this._isInBalloon){return}if(this._form.focusTracker.isFocused){this._form.saveButtonView.focus();}this._balloon.remove(this._form);if(e){this.editor.editing.view.focus();}}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class Wy extends Lw{static get requires(){return [vy,Uy]}static get pluginName(){return "ImageTextAlternative"}}var $y=i(63);class qy extends Lw{static get requires(){return [Jk,my,Wy]}static get pluginName(){return "Image"}}function Yy(e,t){return i=>{const n=i.createEditableElement("figcaption");i.setCustomProperty("imageCaption",true,n);Np({view:e,element:n,text:t});return Mk(n,i)}}function Gy(e){for(const t of e.getChildren()){if(!!t&&t.is("caption")){return t}}return null}function Qy(e){const t=e.parent;if(e.name=="figcaption"&&t&&t.name=="figure"&&t.hasClass("image")){return {name:true}}return null}class Xy extends Lw{static get pluginName(){return "ImageCaptionEditing"}init(){const e=this.editor;const t=e.editing.view;const i=e.model.schema;const n=e.data;const o=e.editing;const s=e.t;i.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:true});e.model.document.registerPostFixer(e=>this._insertMissingModelCaptionElement(e));e.conversion.for("upcast").elementToElement({view:Qy,model:"caption"});const r=e=>e.createContainerElement("figcaption");n.downcastDispatcher.on("insert:caption",Ky(r,false));const a=Yy(t,s("Enter image caption"));o.downcastDispatcher.on("insert:caption",Ky(a));o.downcastDispatcher.on("insert",this._fixCaptionVisibility(e=>e.item),{priority:"high"});o.downcastDispatcher.on("remove",this._fixCaptionVisibility(e=>e.position.parent),{priority:"high"});t.document.registerPostFixer(e=>this._updateCaptionVisibility(e));}_updateCaptionVisibility(e){const t=this.editor.editing.mapper;const i=this._lastSelectedCaption;let n;const o=this.editor.model.document.selection;const s=o.getSelectedElement();if(s&&s.is("image")){const e=Gy(s);n=t.toViewElement(e);}const r=o.getFirstPosition();const a=ex(r.parent);if(a){n=t.toViewElement(a);}if(n){if(i){if(i===n){return ix(n,e)}else {tx(i,e);this._lastSelectedCaption=n;return ix(n,e)}}else {this._lastSelectedCaption=n;return ix(n,e)}}else {if(i){const t=tx(i,e);this._lastSelectedCaption=null;return t}else {return false}}}_fixCaptionVisibility(e){return (t,i,n)=>{const o=e(i);const s=ex(o);const r=this.editor.editing.mapper;const a=n.writer;if(s){const e=r.toViewElement(s);if(e){if(s.childCount){a.removeClass("ck-hidden",e);}else {a.addClass("ck-hidden",e);}}}}}_insertMissingModelCaptionElement(e){const t=this.editor.model;const i=t.document.differ.getChanges();const n=[];for(const e of i){if(e.type=="insert"&&e.name!="$text"){const i=e.position.nodeAfter;if(i.is("image")&&!Gy(i)){n.push(i);}if(!i.is("image")&&i.childCount){for(const e of t.createRangeIn(i).getItems()){if(e.is("image")&&!Gy(e)){n.push(e);}}}}}for(const t of n){e.appendElement("caption",t);}return !!n.length}}function Ky(e,t=true){return (i,n,o)=>{const s=n.item;if(!s.childCount&&!t){return}if(Dk(s.parent)){if(!o.consumable.consume(n.item,"insert")){return}const t=o.mapper.toViewElement(n.range.start.parent);const i=e(o.writer);const r=o.writer;if(!s.childCount){r.addClass("ck-hidden",i);}Zy(i,n.item,t,o);}}}function Zy(e,t,i,n){const o=n.writer.createPositionAt(i,"end");n.writer.insert(o,e);n.mapper.bindElements(t,e);}function ex(e){const t=e.getAncestors({includeSelf:true});const i=t.find(e=>e.name=="caption");if(i&&i.parent&&i.parent.name=="image"){return i}return null}function tx(e,t){if(!e.childCount&&!e.hasClass("ck-hidden")){t.addClass("ck-hidden",e);return true}return false}function ix(e,t){if(e.hasClass("ck-hidden")){t.removeClass("ck-hidden",e);return true}return false}var nx=i(65);class ox extends Lw{static get requires(){return [Xy]}static get pluginName(){return "ImageCaption"}}class sx{constructor(e){this.set("activeHandlePosition",null);this.set("proposedWidthPercents",null);this.set("proposedWidth",null);this.set("proposedHeight",null);this.set("proposedHandleHostWidth",null);this.set("proposedHandleHostHeight",null);this._options=e;this._referenceCoordinates=null;}begin(e,t,i){const n=new kh(t);this.activeHandlePosition=lx(e);this._referenceCoordinates=ax(t,dx(this.activeHandlePosition));this.originalWidth=n.width;this.originalHeight=n.height;this.aspectRatio=n.width/n.height;const o=i.style.width;if(o&&o.match(/^\d+\.?\d*%$/)){this.originalWidthPercents=parseFloat(o);}else {this.originalWidthPercents=rx(i,n);}}update(e){this.proposedWidth=e.width;this.proposedHeight=e.height;this.proposedWidthPercents=e.widthPercents;this.proposedHandleHostWidth=e.handleHostWidth;this.proposedHandleHostHeight=e.handleHostHeight;}}yr(sx,Qc);function rx(e,t){const i=e.parentElement;const n=parseFloat(i.ownerDocument.defaultView.getComputedStyle(i).width);return t.width/n*100}function ax(e,t){const i=new kh(e);const n=t.split("-");const o={x:n[1]=="right"?i.right:i.left,y:n[0]=="bottom"?i.bottom:i.top};o.x+=e.ownerDocument.defaultView.scrollX;o.y+=e.ownerDocument.defaultView.scrollY;return o}function cx(e){return `ck-widget__resizer__handle-${e}`}function lx(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const i of t){if(e.classList.contains(cx(i))){return i}}}function dx(e){const t=e.split("-");const i={top:"bottom",bottom:"top",left:"right",right:"left"};return `${i[t[0]]}-${i[t[1]]}`}class ux{constructor(e){this._options=e;this._domResizerWrapper=null;this._viewResizerWrapper=null;this.set("isEnabled",true);this.decorate("begin");this.decorate("cancel");this.decorate("commit");this.decorate("updateSize");this.on("commit",e=>{if(!this.state.proposedWidth&&!this.state.proposedWidthPercents){this._cleanup();e.stop();}},{priority:"high"});}attach(){const e=this;const t=this._options.viewElement;const i=this._options.editor.editing.view;i.change(i=>{const n=i.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},(function(t){const i=this.toDomElement(t);e._appendHandles(i);e._appendSizeUI(i);e._domResizerWrapper=i;e.on("change:isEnabled",(e,t,n)=>{i.style.display=n?"":"none";});i.style.display=e.isEnabled?"":"none";return i}));i.insert(i.createPositionAt(t,"end"),n);i.addClass("ck-widget_with-resizer",t);this._viewResizerWrapper=n;});}begin(e){this.state=new sx(this._options);this._sizeUI.bindToState(this._options,this.state);this._initialViewWidth=this._options.viewElement.getStyle("width");this.state.begin(e,this._getHandleHost(),this._getResizeHost());}updateSize(e){const t=this._proposeNewSize(e);const i=this._options.editor.editing.view;i.change(e=>{const i=this._options.unit||"%";const n=(i==="%"?t.widthPercents:t.width)+i;e.setStyle("width",n,this._options.viewElement);});const n=this._getHandleHost();const o=new kh(n);t.handleHostWidth=Math.round(o.width);t.handleHostHeight=Math.round(o.height);const s=new kh(n);t.width=Math.round(s.width);t.height=Math.round(s.height);this.redraw(o);this.state.update(t);}commit(){const e=this._options.unit||"%";const t=(e==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(()=>{this._cleanup();this._options.onCommit(t);});}cancel(){this._cleanup();}destroy(){this.cancel();}redraw(e){const t=this._domResizerWrapper;if(i(t)){this._options.editor.editing.view.change(i=>{const n=t.parentElement;const o=this._getHandleHost();const s=e||new kh(o);i.setStyle("width",s.width+"px",this._viewResizerWrapper);i.setStyle("height",s.height+"px",this._viewResizerWrapper);const r={left:o.offsetLeft,top:o.offsetTop,height:o.offsetHeight,width:o.offsetWidth};if(!n.isSameNode(o)){i.setStyle("left",r.left+"px",this._viewResizerWrapper);i.setStyle("top",r.top+"px",this._viewResizerWrapper);i.setStyle("height",r.height+"px",this._viewResizerWrapper);i.setStyle("width",r.width+"px",this._viewResizerWrapper);}});}function i(e){return e&&e.ownerDocument&&e.ownerDocument.contains(e)}}containsHandle(e){return this._domResizerWrapper.contains(e)}static isResizeHandle(e){return e.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeUI.dismiss();this._sizeUI.isVisible=false;const e=this._options.editor.editing.view;e.change(e=>{e.setStyle("width",this._initialViewWidth,this._options.viewElement);});}_proposeNewSize(e){const t=this.state;const i=mx(e);const n=this._options.isCentered?this._options.isCentered(this):true;const o={x:t._referenceCoordinates.x-(i.x+t.originalWidth),y:i.y-t.originalHeight-t._referenceCoordinates.y};if(n&&t.activeHandlePosition.endsWith("-right")){o.x=i.x-(t._referenceCoordinates.x+t.originalWidth);}if(n){o.x*=2;}const s={width:Math.abs(t.originalWidth+o.x),height:Math.abs(t.originalHeight+o.y)};s.dominant=s.width/t.aspectRatio>s.height?"width":"height";s.max=s[s.dominant];const r={width:s.width,height:s.height};if(s.dominant=="width"){r.height=r.width/t.aspectRatio;}else {r.width=r.height*t.aspectRatio;}return {width:Math.round(r.width),height:Math.round(r.height),widthPercents:Math.min(Math.round(t.originalWidthPercents/t.originalWidth*r.width*100)/100,100)}}_getResizeHost(){const e=this._domResizerWrapper.parentElement;return this._options.getResizeHost(e)}_getHandleHost(){const e=this._domResizerWrapper.parentElement;return this._options.getHandleHost(e)}_appendHandles(e){const t=["top-left","top-right","bottom-right","bottom-left"];for(const i of t){e.appendChild(new qp({tag:"div",attributes:{class:`ck-widget__resizer__handle ${fx(i)}`}}).render());}}_appendSizeUI(e){const t=new hx;t.render();this._sizeUI=t;e.appendChild(t.element);}}yr(ux,Qc);class hx extends _b{constructor(){super();const e=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("activeHandlePosition",e=>e?`ck-orientation-${e}`:"")],style:{display:e.if("isVisible","none",e=>!e)}},children:[{text:e.to("label")}]});}bindToState(e,t){this.bind("isVisible").to(t,"proposedWidth",t,"proposedHeight",(e,t)=>e!==null&&t!==null);this.bind("label").to(t,"proposedHandleHostWidth",t,"proposedHandleHostHeight",t,"proposedWidthPercents",(t,i,n)=>{if(e.unit==="px"){return `${t}×${i}`}else {return `${n}%`}});this.bind("activeHandlePosition").to(t);}dismiss(){this.unbind();this.isVisible=false;}}function fx(e){return `ck-widget__resizer__handle-${e}`}function mx(e){return {x:e.pageX,y:e.pageY}}var gx="Expected a function";function px(e,t,i){var n=true,o=true;if(typeof e!="function"){throw new TypeError(gx)}if(ce(i)){n="leading"in i?!!i.leading:n;o="trailing"in i?!!i.trailing:o;}return uh(e,t,{leading:n,maxWait:t,trailing:o})}var bx=px;var wx=i(67);class _x extends Lw{static get pluginName(){return "WidgetResize"}init(){this.set("_visibleResizer",null);this.set("_activeResizer",null);this._resizers=new Map;const e=Od.window.document;this.editor.model.schema.setAttributeProperties("width",{isFormatting:true});this._observer=Object.create(Wd);this._observer.listenTo(e,"mousedown",this._mouseDownListener.bind(this));this._observer.listenTo(e,"mousemove",this._mouseMoveListener.bind(this));this._observer.listenTo(e,"mouseup",this._mouseUpListener.bind(this));const t=()=>{if(this._visibleResizer){this._visibleResizer.redraw();}};const i=bx(t,200);this.on("change:_visibleResizer",t);this.editor.ui.on("update",i);this._observer.listenTo(Od.window,"resize",i);const n=this.editor.editing.view.document.selection;n.on("change",()=>{const e=n.getSelectedElement();this._visibleResizer=this._getResizerByViewElement(e)||null;});}destroy(){this._observer.stopListening();for(const e of this._resizers.values()){e.destroy();}}attachTo(e){const t=new ux(e);const i=this.editor.plugins;t.attach();if(i.has("WidgetToolbarRepository")){const e=i.get("WidgetToolbarRepository");t.on("begin",()=>{e.forceDisabled("resize");},{priority:"lowest"});t.on("cancel",()=>{e.clearForceDisabled("resize");},{priority:"highest"});t.on("commit",()=>{e.clearForceDisabled("resize");},{priority:"highest"});}this._resizers.set(e.viewElement,t);return t}_getResizerByHandle(e){for(const t of this._resizers.values()){if(t.containsHandle(e)){return t}}}_getResizerByViewElement(e){return this._resizers.get(e)}_mouseDownListener(e,t){if(!ux.isResizeHandle(t.target)){return}const i=t.target;this._activeResizer=this._getResizerByHandle(i);if(this._activeResizer){this._activeResizer.begin(i);}}_mouseMoveListener(e,t){if(this._activeResizer){this._activeResizer.updateSize(t);}}_mouseUpListener(){if(this._activeResizer){this._activeResizer.commit();this._activeResizer=null;}}}yr(_x,Qc);class vx extends jw{refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Dk(e);if(!e||!e.hasAttribute("width")){this.value=null;}else {this.value={width:e.getAttribute("width"),height:null};}}execute(e){const t=this.editor.model;const i=t.document.selection.getSelectedElement();t.change(t=>{t.setAttribute("width",e.width,i);});}}var kx=i(69);class yx extends Lw{static get requires(){return [_x]}static get pluginName(){return "ImageResize"}init(){const e=this.editor;const t=new vx(e);this._registerSchema();this._registerConverters();e.commands.add("imageResize",t);e.editing.downcastDispatcher.on("insert:image",(i,n,o)=>{const s=o.mapper.toViewElement(n.item);const r=e.plugins.get(_x).attachTo({unit:e.config.get("image.resizeUnit")||"%",modelElement:n.item,viewElement:s,editor:e,getHandleHost(e){return e.querySelector("img")},getResizeHost(e){return e},isCentered(){const e=n.item.getAttribute("imageStyle");return !e||e=="full"||e=="alignCenter"},onCommit(t){e.execute("imageResize",{width:t});}});r.on("updateSize",()=>{if(!s.hasClass("image_resized")){e.editing.view.change(e=>{e.addClass("image_resized",s);});}});r.bind("isEnabled").to(t);},{priority:"low"});}_registerSchema(){this.editor.model.schema.extend("image",{allowAttributes:"width"});}_registerConverters(){const e=this.editor;e.conversion.for("downcast").add(e=>e.on("attribute:width:image",(e,t,i)=>{if(!i.consumable.consume(t.item,e.name)){return}const n=i.writer;const o=i.mapper.toViewElement(t.item);if(t.attributeNewValue!==null){n.setStyle("width",t.attributeNewValue,o);n.addClass("image_resized",o);}else {n.removeStyle("width",o);n.removeClass("image_resized",o);}}));e.conversion.for("upcast").attributeToAttribute({view:{name:"figure",styles:{width:/.+/}},model:{key:"width",value:e=>e.getStyle("width")}});}}class xx extends jw{constructor(e,t){super(e);this.defaultStyle=false;this.styles=t.reduce((e,t)=>{e[t.name]=t;if(t.isDefault){this.defaultStyle=t.name;}return e},{});}refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Dk(e);if(!e){this.value=false;}else if(e.hasAttribute("imageStyle")){const t=e.getAttribute("imageStyle");this.value=this.styles[t]?t:false;}else {this.value=this.defaultStyle;}}execute(e){const t=e.value;const i=this.editor.model;const n=i.document.selection.getSelectedElement();i.change(e=>{if(this.styles[t].isDefault){e.removeAttribute("imageStyle",n);}else {e.setAttribute("imageStyle",t,n);}});}}function Ax(e){return (t,i,n)=>{if(!n.consumable.consume(i.item,t.name)){return}const o=Tx(i.attributeNewValue,e);const s=Tx(i.attributeOldValue,e);const r=n.mapper.toViewElement(i.item);const a=n.writer;if(s){a.removeClass(s.className,r);}if(o){a.addClass(o.className,r);}}}function Cx(e){const t=e.filter(e=>!e.isDefault);return (e,i,n)=>{if(!i.modelRange){return}const o=i.viewItem;const s=Bw(i.modelRange.getItems());if(!n.schema.checkAttribute(s,"imageStyle")){return}for(const e of t){if(n.consumable.consume(o,{classes:e.className})){n.writer.setAttribute("imageStyle",e.name,s);}}}}function Tx(e,t){for(const i of t){if(i.name===e){return i}}}var Mx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>';var Ex='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>';var Px='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>';var Sx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>';const Ix={full:{name:"full",title:"Full size image",icon:Mx,isDefault:true},side:{name:"side",title:"Side image",icon:Sx,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Ex,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:Px,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:Sx,className:"image-style-align-right"}};const Ox={full:Mx,left:Ex,right:Sx,center:Px};function Nx(e=[]){return e.map(Rx)}function Rx(e){if(typeof e=="string"){const t=e;if(Ix[t]){e=Object.assign({},Ix[t]);}else {console.warn(Object(rr["a"])("image-style-not-found: There is no such image style of given name."),{name:t});e={name:t};}}else if(Ix[e.name]){const t=Ix[e.name];const i=Object.assign({},e);for(const n in t){if(!e.hasOwnProperty(n)){i[n]=t[n];}}e=i;}if(typeof e.icon=="string"&&Ox[e.icon]){e.icon=Ox[e.icon];}return e}class Lx extends Lw{static get pluginName(){return "ImageStyleEditing"}init(){const e=this.editor;const t=e.model.schema;const i=e.data;const n=e.editing;e.config.define("image.styles",["full","side"]);const o=Nx(e.config.get("image.styles"));t.extend("image",{allowAttributes:"imageStyle"});const s=Ax(o);n.downcastDispatcher.on("attribute:imageStyle:image",s);i.downcastDispatcher.on("attribute:imageStyle:image",s);i.upcastDispatcher.on("element:figure",Cx(o),{priority:"low"});e.commands.add("imageStyle",new xx(e,o));}}var Dx=i(71);class jx extends Lw{static get pluginName(){return "ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return {"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor;const t=e.config.get("image.styles");const i=zx(Nx(t),this.localizedDefaultStylesTitles);for(const e of i){this._createButton(e);}}_createButton(e){const t=this.editor;const i=`imageStyle:${e.name}`;t.ui.componentFactory.add(i,i=>{const n=t.commands.get("imageStyle");const o=new sw(i);o.set({label:e.title,icon:e.icon,tooltip:true,isToggleable:true});o.bind("isEnabled").to(n,"isEnabled");o.bind("isOn").to(n,"value",t=>t===e.name);this.listenTo(o,"execute",()=>{t.execute("imageStyle",{value:e.name});t.editing.view.focus();});return o});}}function zx(e,t){for(const i of e){if(t[i.title]){i.title=t[i.title];}}return e}class Bx extends Lw{static get requires(){return [Lx,jx]}static get pluginName(){return "ImageStyle"}}class Vx extends Lw{static get requires(){return [jy]}static get pluginName(){return "WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",t=>{if(Ux(e.editing.view.document.selection)){t.stop();}},{priority:"high"});}this._toolbarDefinitions=new Map;this._balloon=this.editor.plugins.get("ContextualBalloon");this.on("change:isEnabled",()=>{this._updateToolbarsVisibility();});this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility();});this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility();},{priority:"low"});}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values()){e.view.destroy();}}register(e,{ariaLabel:t,items:i,getRelatedElement:n,balloonClassName:o="ck-toolbar-container"}){const s=this.editor;const r=s.t;const a=new Tw(s.locale);a.ariaLabel=t||r("Widget toolbar");if(this._toolbarDefinitions.has(e)){throw new rr["b"]("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:e})}a.fillFromConfig(i,s.ui.componentFactory);this._toolbarDefinitions.set(e,{view:a,getRelatedElement:n,balloonClassName:o});}_updateToolbarsVisibility(){let e=0;let t=null;let i=null;for(const n of this._toolbarDefinitions.values()){const o=n.getRelatedElement(this.editor.editing.view.document.selection);if(!this.isEnabled||!o){if(this._isToolbarInBalloon(n)){this._hideToolbar(n);}}else if(!this.editor.ui.focusTracker.isFocused){if(this._isToolbarVisible(n)){this._hideToolbar(n);}}else {const s=o.getAncestors().length;if(s>e){e=s;t=o;i=n;}}}if(i){this._showToolbar(i,t);}}_hideToolbar(e){this._balloon.remove(e.view);this.stopListening(this._balloon,"change:visibleView");}_showToolbar(e,t){if(this._isToolbarVisible(e)){Fx(this.editor,t);}else if(!this._isToolbarInBalloon(e)){this._balloon.add({view:e.view,position:Hx(this.editor,t),balloonClassName:e.balloonClassName});this.listenTo(this._balloon,"change:visibleView",()=>{for(const e of this._toolbarDefinitions.values()){if(this._isToolbarVisible(e)){const t=e.getRelatedElement(this.editor.editing.view.document.selection);Fx(this.editor,t);}}});}}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function Fx(e,t){const i=e.plugins.get("ContextualBalloon");const n=Hx(e,t);i.updatePosition(n);}function Hx(e,t){const i=e.editing.view;const n=gk.defaultPositions;return {target:i.domConverter.mapViewToDom(t),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,Sk]}}function Ux(e){const t=e.getSelectedElement();return !!(t&&yk(t))}class Wx extends Lw{static get requires(){return [Vx]}static get pluginName(){return "ImageToolbar"}afterInit(){const e=this.editor;const t=e.t;const i=e.plugins.get(Vx);i.register("image",{ariaLabel:t("Image toolbar"),items:e.config.get("image.toolbar")||[],getRelatedElement:Lk});}}class $x extends _b{constructor(e){super(e);this.buttonView=new sw(e);this._fileInputView=new qx(e);this._fileInputView.bind("acceptedType").to(this);this._fileInputView.bind("allowMultipleFiles").to(this);this._fileInputView.delegate("done").to(this);this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]});this.buttonView.on("execute",()=>{this._fileInputView.open();});}focus(){this.buttonView.focus();}}class qx extends _b{constructor(e){super(e);this.set("acceptedType");this.set("allowMultipleFiles",false);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to(()=>{if(this.element&&this.element.files&&this.element.files.length){this.fire("done",this.element.files);}this.element.value="";})}});}open(){this.element.click();}}var Yx='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>';function Jx(e){const t=e.map(e=>e.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function Gx(e){return new Promise((t,i)=>{const n=e.getAttribute("src");fetch(n).then(e=>e.blob()).then(e=>{const i=Xx(e,n);const o=i.replace("image/","");const s=`image.${o}`;const r=new File([e],s,{type:i});t(r);}).catch(i);})}function Qx(e){if(!e.is("element","img")||!e.getAttribute("src")){return false}return e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||e.getAttribute("src").match(/^blob:/g)}function Xx(e,t){if(e.type){return e.type}else if(t.match(/data:(image\/\w+);base64/)){return t.match(/data:(image\/\w+);base64/)[1].toLowerCase()}else {return "image/jpeg"}}class Kx extends Lw{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add("imageUpload",i=>{const n=new $x(i);const o=e.commands.get("imageUpload");const s=e.config.get("image.upload.types");const r=Jx(s);n.set({acceptedType:s.map(e=>`image/${e}`).join(","),allowMultipleFiles:true});n.buttonView.set({label:t("Insert image"),icon:Yx,tooltip:true});n.buttonView.bind("isEnabled").to(o);n.on("done",(t,i)=>{const n=Array.from(i).filter(e=>r.test(e.type));if(n.length){e.execute("imageUpload",{file:n});}});return n});}}var Zx='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>';var eA=i(73);var tA=i(75);var iA=i(77);class nA extends Lw{constructor(e){super(e);this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent(Zx);}init(){const e=this.editor;e.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...e)=>this.uploadStatusChange(...e));}uploadStatusChange(e,t,i){const n=this.editor;const o=t.item;const s=o.getAttribute("uploadId");if(!i.consumable.consume(t.item,e.name)){return}const r=n.plugins.get(u_);const a=s?t.attributeNewValue:null;const c=this.placeholder;const l=n.editing.mapper.toViewElement(o);const d=i.writer;if(a=="reading"){oA(l,d);rA(c,l,d);return}if(a=="uploading"){const e=r.loaders.get(s);oA(l,d);if(!e){rA(c,l,d);}else {aA(l,d);cA(l,d,e,n.editing.view);gA(l,d,e);}return}if(a=="complete"&&r.loaders.get(s)){dA(l,d,n.editing.view);}lA(l,d);aA(l,d);sA(l,d);}}function oA(e,t){if(!e.hasClass("ck-appear")){t.addClass("ck-appear",e);}}function sA(e,t){t.removeClass("ck-appear",e);}function rA(e,t,i){if(!t.hasClass("ck-image-upload-placeholder")){i.addClass("ck-image-upload-placeholder",t);}const n=Bk(t);if(n.getAttribute("src")!==e){i.setAttribute("src",e,n);}if(!fA(t,"placeholder")){i.insert(i.createPositionAfter(n),hA(i));}}function aA(e,t){if(e.hasClass("ck-image-upload-placeholder")){t.removeClass("ck-image-upload-placeholder",e);}mA(e,t,"placeholder");}function cA(e,t,i,n){const o=uA(t);t.insert(t.createPositionAt(e,"end"),o);i.on("change:uploadedPercent",(e,t,i)=>{n.change(e=>{e.setStyle("width",i+"%",o);});});}function lA(e,t){mA(e,t,"progressBar");}function dA(e,t,i){const n=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(e,"end"),n);setTimeout(()=>{i.change(e=>e.remove(e.createRangeOn(n)));},3e3);}function uA(e){const t=e.createUIElement("div",{class:"ck-progress-bar"});e.setCustomProperty("progressBar",true,t);return t}function hA(e){const t=e.createUIElement("div",{class:"ck-upload-placeholder-loader"});e.setCustomProperty("placeholder",true,t);return t}function fA(e,t){for(const i of e.getChildren()){if(i.getCustomProperty(t)){return i}}}function mA(e,t,i){const n=fA(e,i);if(n){t.remove(t.createRangeOn(n));}}function gA(e,t,i){if(i.data){const n=Bk(e);t.setAttribute("src",i.data,n);}}class pA extends c_{static get pluginName(){return "Notification"}init(){this.on("show:warning",(e,t)=>{window.alert(t.message);},{priority:"lowest"});}showSuccess(e,t={}){this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title});}showInfo(e,t={}){this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title});}showWarning(e,t={}){this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title});}_showNotification(e){const t=`show:${e.type}`+(e.namespace?`:${e.namespace}`:"");this.fire(t,{message:e.message,type:e.type,title:e.title||""});}}class bA{constructor(e){this.document=e;}createDocumentFragment(e){return new Wl(this.document,e)}createElement(e,t,i){return new zc(this.document,e,t,i)}createText(e){return new Vr(this.document,e)}clone(e,t=false){return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,i){return i._insertChild(e,t)}removeChildren(e,t,i){return i._removeChildren(e,t)}remove(e){const t=e.parent;if(t){return this.removeChildren(t.getChildIndex(e),1,t)}return []}replace(e,t){const i=e.parent;if(i){const n=i.getChildIndex(e);this.removeChildren(n,1,i);this.insertChild(n,t,i);return true}return false}unwrapElement(e){const t=e.parent;if(t){const i=t.getChildIndex(e);this.remove(e);this.insertChild(i,e.getChildren(),t);}}rename(e,t){const i=new zc(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,i)?i:null}setAttribute(e,t,i){i._setAttribute(e,t);}removeAttribute(e,t){t._removeAttribute(e);}addClass(e,t){t._addClass(e);}removeClass(e,t){t._removeClass(e);}setStyle(e,t,i){if(R(e)&&i===undefined){i=t;}i._setStyle(e,t);}removeStyle(e,t){t._removeStyle(e);}setCustomProperty(e,t,i){i._setCustomProperty(e,t);}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return ul._createAt(e,t)}createPositionAfter(e){return ul._createAfter(e)}createPositionBefore(e){return ul._createBefore(e)}createRange(e,t){return new hl(e,t)}createRangeOn(e){return hl._createOn(e)}createRangeIn(e){return hl._createIn(e)}createSelection(e,t,i){return new gl(e,t,i)}}class wA extends jw{refresh(){this.isEnabled=zk(this.editor.model);}execute(e){const t=this.editor;const i=t.model;const n=t.plugins.get(u_);i.change(t=>{const o=Array.isArray(e.file)?e.file:[e.file];for(const e of o){_A(t,i,n,e);}});}}function _A(e,t,i,n){const o=i.createLoader(n);if(!o){return}jk(e,t,{uploadId:o.id});}class vA extends Lw{static get requires(){return [u_,pA,B_]}static get pluginName(){return "ImageUploadEditing"}constructor(e){super(e);e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}});}init(){const e=this.editor;const t=e.model.document;const i=e.model.schema;const n=e.conversion;const o=e.plugins.get(u_);const s=Jx(e.config.get("image.upload.types"));i.extend("image",{allowAttributes:["uploadId","uploadStatus"]});e.commands.add("imageUpload",new wA(e));n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"});this.listenTo(e.editing.view.document,"clipboardInput",(t,i)=>{if(kA(i.dataTransfer)){return}const n=Array.from(i.dataTransfer.files).filter(e=>{if(!e){return false}return s.test(e.type)});const o=i.targetRanges.map(t=>e.editing.mapper.toModelRange(t));e.model.change(i=>{i.setSelection(o);if(n.length){t.stop();e.model.enqueueChange("default",()=>{e.execute("imageUpload",{file:n});});}});});this.listenTo(e.plugins.get(B_),"inputTransformation",(t,i)=>{const n=Array.from(e.editing.view.createRangeIn(i.content)).filter(e=>Qx(e.item)&&!e.item.getAttribute("uploadProcessed")).map(e=>({promise:Gx(e.item),imageElement:e.item}));if(!n.length){return}const s=new bA(e.editing.view.document);for(const e of n){s.setAttribute("uploadProcessed",true,e.imageElement);const t=o.createLoader(e.promise);if(t){s.setAttribute("src","",e.imageElement);s.setAttribute("uploadId",t.id,e.imageElement);}}});e.editing.view.document.on("dragover",(e,t)=>{t.preventDefault();});t.on("change",()=>{const i=t.differ.getChanges({includeChangesInGraveyard:true});for(const t of i){if(t.type=="insert"&&t.name!="$text"){const i=t.position.nodeAfter;const n=t.position.root.rootName=="$graveyard";for(const t of yA(e,i)){const e=t.getAttribute("uploadId");if(!e){continue}const i=o.loaders.get(e);if(!i){continue}if(n){i.abort();}else if(i.status=="idle"){this._readAndUpload(i,t);}}}}});}_readAndUpload(e,t){const i=this.editor;const n=i.model;const o=i.locale.t;const s=i.plugins.get(u_);const r=i.plugins.get(pA);n.enqueueChange("transparent",e=>{e.setAttribute("uploadStatus","reading",t);});return e.read().then(()=>{const o=e.upload();if(Tl.isSafari){const e=i.editing.mapper.toViewElement(t);const n=Bk(e);i.editing.view.once("render",()=>{if(!n.parent){return}const e=i.editing.view.domConverter.mapViewToDom(n.parent);if(!e){return}const t=e.style.display;e.style.display="none";e._ckHack=e.offsetHeight;e.style.display=t;});}n.enqueueChange("transparent",e=>{e.setAttribute("uploadStatus","uploading",t);});return o}).then(e=>{n.enqueueChange("transparent",i=>{i.setAttributes({uploadStatus:"complete",src:e.default},t);this._parseAndSetSrcsetAttributeOnImage(e,t,i);});a();}).catch(i=>{if(e.status!=="error"&&e.status!=="aborted"){throw i}if(e.status=="error"&&i){r.showWarning(i,{title:o("Upload failed"),namespace:"upload"});}a();n.enqueueChange("transparent",e=>{e.remove(t);});});function a(){n.enqueueChange("transparent",e=>{e.removeAttribute("uploadId",t);e.removeAttribute("uploadStatus",t);});s.destroyLoader(e);}}_parseAndSetSrcsetAttributeOnImage(e,t,i){let n=0;const o=Object.keys(e).filter(e=>{const t=parseInt(e,10);if(!isNaN(t)){n=Math.max(n,t);return true}}).map(t=>`${e[t]} ${t}w`).join(", ");if(o!=""){i.setAttribute("srcset",{data:o,width:n},t);}}}function kA(e){return Array.from(e.types).includes("text/html")&&e.getData("text/html")!==""}function yA(e,t){return Array.from(e.model.createRangeOn(t)).filter(e=>e.item.is("image")).map(e=>e.item)}class xA extends Lw{static get pluginName(){return "ImageUpload"}static get requires(){return [vA,Kx,nA]}}class AA extends jw{constructor(e){super(e);this._childCommands=[];}refresh(){}execute(...e){const t=this._getFirstEnabledCommand();t.execute(e);}registerChildCommand(e){this._childCommands.push(e);e.on("change:isEnabled",()=>this._checkEnabled());this._checkEnabled();}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand();}_getFirstEnabledCommand(){return this._childCommands.find(e=>e.isEnabled)}}class CA extends Lw{static get pluginName(){return "IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new AA(e));e.commands.add("outdent",new AA(e));}}var TA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>';var MA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class EA extends Lw{static get pluginName(){return "IndentUI"}init(){const e=this.editor;const t=e.locale;const i=e.t;const n=t.uiLanguageDirection=="ltr"?TA:MA;const o=t.uiLanguageDirection=="ltr"?MA:TA;this._defineButton("indent",i("Increase indent"),n);this._defineButton("outdent",i("Decrease indent"),o);}_defineButton(e,t,i){const n=this.editor;n.ui.componentFactory.add(e,o=>{const s=n.commands.get(e);const r=new sw(o);r.set({label:t,icon:i,tooltip:true});r.bind("isOn","isEnabled").to(s,"value","isEnabled");this.listenTo(r,"execute",()=>{n.execute(e);n.editing.view.focus();});return r});}}class PA extends Lw{static get pluginName(){return "Indent"}static get requires(){return [CA,EA]}}const SA="italic";class IA extends Lw{static get pluginName(){return "ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:SA});e.model.schema.setAttributeProperties(SA,{isFormatting:true,copyOnEnter:true});e.conversion.attributeToElement({model:SA,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]});e.commands.add(SA,new A_(e,SA));e.keystrokes.set("CTRL+I",SA);}}var OA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>';const NA="italic";class RA extends Lw{init(){const e=this.editor;const t=e.t;e.ui.componentFactory.add(NA,i=>{const n=e.commands.get(NA);const o=new sw(i);o.set({label:t("Italic"),icon:OA,keystroke:"CTRL+I",tooltip:true,isToggleable:true});o.bind("isOn","isEnabled").to(n,"value","isEnabled");this.listenTo(o,"execute",()=>{e.execute(NA);e.editing.view.focus();});return o});}}class LA extends Lw{static get requires(){return [IA,RA]}static get pluginName(){return "Italic"}}function DA(e,t,i){return i.createRange(jA(e,t,true,i),jA(e,t,false,i))}function jA(e,t,i,n){let o=e.textNode||(i?e.nodeBefore:e.nodeAfter);let s=null;while(o&&o.getAttribute("linkHref")==t){s=o;o=i?o.previousSibling:o.nextSibling;}return s?n.createPositionAt(s,i?"before":"after"):e}class zA extends jw{constructor(e){super(e);this.manualDecorators=new xr;}restoreManualDecoratorStates(){for(const e of this.manualDecorators){e.value=this._getDecoratorStateFromModel(e.id);}}refresh(){const e=this.editor.model;const t=e.document;this.value=t.selection.getAttribute("linkHref");for(const e of this.manualDecorators){e.value=this._getDecoratorStateFromModel(e.id);}this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref");}execute(e,t={}){const i=this.editor.model;const n=i.document.selection;const o=[];const s=[];for(const e in t){if(t[e]){o.push(e);}else {s.push(e);}}i.change(t=>{if(n.isCollapsed){const r=n.getFirstPosition();if(n.hasAttribute("linkHref")){const a=DA(r,n.getAttribute("linkHref"),i);t.setAttribute("linkHref",e,a);o.forEach(e=>{t.setAttribute(e,true,a);});s.forEach(e=>{t.removeAttribute(e,a);});t.setSelection(a);}else if(e!==""){const s=Ur(n.getAttributes());s.set("linkHref",e);o.forEach(e=>{s.set(e,true);});const a=t.createText(e,s);i.insertContent(a,r);t.setSelection(t.createRangeOn(a));}}else {const r=i.schema.getValidRanges(n.getRanges(),"linkHref");for(const i of r){t.setAttribute("linkHref",e,i);o.forEach(e=>{t.setAttribute(e,true,i);});s.forEach(e=>{t.removeAttribute(e,i);});}}});}_getDecoratorStateFromModel(e){const t=this.editor.model.document;return t.selection.getAttribute(e)}}class BA extends jw{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref");}execute(){const e=this.editor;const t=this.editor.model;const i=t.document.selection;const n=e.commands.get("link");t.change(e=>{const o=i.isCollapsed?[DA(i.getFirstPosition(),i.getAttribute("linkHref"),t)]:i.getRanges();for(const t of o){e.removeAttribute("linkHref",t);if(n){for(const i of n.manualDecorators){e.removeAttribute(i.id,t);}}}});}}function VA(e,t,i){var n=e.length;i=i===undefined?n:i;return !t&&i>=n?e:Oa(e,t,i)}var FA=VA;var HA="\\ud800-\\udfff",UA="\\u0300-\\u036f",WA="\\ufe20-\\ufe2f",$A="\\u20d0-\\u20ff",qA=UA+WA+$A,YA="\\ufe0e\\ufe0f";var JA="\\u200d";var GA=RegExp("["+JA+HA+qA+YA+"]");function QA(e){return GA.test(e)}var XA=QA;function KA(e){return e.split("")}var ZA=KA;var eC="\\ud800-\\udfff",tC="\\u0300-\\u036f",iC="\\ufe20-\\ufe2f",nC="\\u20d0-\\u20ff",oC=tC+iC+nC,sC="\\ufe0e\\ufe0f";var rC="["+eC+"]",aC="["+oC+"]",cC="\\ud83c[\\udffb-\\udfff]",lC="(?:"+aC+"|"+cC+")",dC="[^"+eC+"]",uC="(?:\\ud83c[\\udde6-\\uddff]){2}",hC="[\\ud800-\\udbff][\\udc00-\\udfff]",fC="\\u200d";var mC=lC+"?",gC="["+sC+"]?",pC="(?:"+fC+"(?:"+[dC,uC,hC].join("|")+")"+gC+mC+")*",bC=gC+mC+pC,wC="(?:"+[dC+aC+"?",aC,uC,hC,rC].join("|")+")";var _C=RegExp(cC+"(?="+cC+")|"+wC+bC,"g");function vC(e){return e.match(_C)||[]}var kC=vC;function yC(e){return XA(e)?kC(e):ZA(e)}var xC=yC;function AC(e){return function(t){t=ka(t);var i=XA(t)?xC(t):undefined;var n=i?i[0]:t.charAt(0);var o=i?FA(i,1).join(""):t.slice(1);return n[e]()+o}}var CC=AC;var TC=CC("toUpperCase");var MC=TC;const EC=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g;const PC=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function SC(e){return e.is("attributeElement")&&!!e.getCustomProperty("link")}function IC(e,t){const i=t.createAttributeElement("a",{href:e},{priority:5});t.setCustomProperty("link",true,i);return i}function OC(e){e=String(e);return NC(e)?e:"#"}function NC(e){const t=e.replace(EC,"");return t.match(PC)}function RC(e,t){const i={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};t.forEach(e=>{if(e.label&&i[e.label]){e.label=i[e.label];}return e});return t}function LC(e){const t=[];if(e){for(const[i,n]of Object.entries(e)){const e=Object.assign({},n,{id:`link${MC(i)}`});t.push(e);}}return t}class DC{constructor(){this._definitions=new Set;}get length(){return this._definitions.size}add(e){if(Array.isArray(e)){e.forEach(e=>this._definitions.add(e));}else {this._definitions.add(e);}}getDispatcher(){return e=>{e.on("attribute:linkHref",(e,t,i)=>{if(!i.consumable.test(t.item,"attribute:linkHref")){return}const n=i.writer;const o=n.document.selection;for(const e of this._definitions){const s=n.createAttributeElement("a",e.attributes,{priority:5});n.setCustomProperty("link",true,s);if(e.callback(t.attributeNewValue)){if(t.item.is("selection")){n.wrap(o.getFirstRange(),s);}else {n.wrap(i.mapper.toViewRange(t.range),s);}}else {n.unwrap(i.mapper.toViewRange(t.range),s);}}},{priority:"high"});}}}class jC{constructor({id:e,label:t,attributes:i,defaultValue:n}){this.id=e;this.set("value");this.defaultValue=n;this.label=t;this.attributes=i;}}yr(jC,Qc);function zC({view:e,model:t,emitter:i,attribute:n,locale:o}){const s=new BC(t,i,n);const r=t.document.selection;i.listenTo(e.document,"keydown",(e,t)=>{if(!r.isCollapsed){return}if(t.shiftKey||t.altKey||t.ctrlKey){return}const i=t.keyCode==Rl.arrowright;const n=t.keyCode==Rl.arrowleft;if(!i&&!n){return}const a=r.getFirstPosition();const c=o.contentLanguageDirection;let l;if(c==="ltr"&&i||c==="rtl"&&n){l=s.handleForwardMovement(a,t);}else {l=s.handleBackwardMovement(a,t);}if(l){e.stop();}},{priority:or.get("high")+1});}class BC{constructor(e,t,i){this.model=e;this.attribute=i;this._modelSelection=e.document.selection;this._overrideUid=null;this._isNextGravityRestorationSkipped=false;t.listenTo(this._modelSelection,"change:range",(e,t)=>{if(this._isNextGravityRestorationSkipped){this._isNextGravityRestorationSkipped=false;return}if(!this._isGravityOverridden){return}if(!t.directChange&&VC(this._modelSelection.getFirstPosition(),i)){return}this._restoreGravity();});}handleForwardMovement(e,t){const i=this.attribute;if(this._isGravityOverridden){return}if(e.isAtStart&&this._hasSelectionAttribute){return}if(UC(e,i)&&this._hasSelectionAttribute){this._preventCaretMovement(t);this._removeSelectionAttribute();return true}if(FC(e,i)){this._preventCaretMovement(t);this._overrideGravity();return true}if(HC(e,i)&&this._hasSelectionAttribute){this._preventCaretMovement(t);this._overrideGravity();return true}}handleBackwardMovement(e,t){const i=this.attribute;if(this._isGravityOverridden){if(UC(e,i)&&this._hasSelectionAttribute){this._preventCaretMovement(t);this._restoreGravity();this._removeSelectionAttribute();return true}else {this._preventCaretMovement(t);this._restoreGravity();if(e.isAtStart){this._removeSelectionAttribute();}return true}}else {if(UC(e,i)&&!this._hasSelectionAttribute){this._preventCaretMovement(t);this._setSelectionAttributeFromTheNodeBefore(e);return true}if(e.isAtEnd&&HC(e,i)){if(this._hasSelectionAttribute){if(WC(e,i)){this._skipNextAutomaticGravityRestoration();this._overrideGravity();}return}else {this._preventCaretMovement(t);this._setSelectionAttributeFromTheNodeBefore(e);return true}}if(e.isAtStart){if(this._hasSelectionAttribute){this._removeSelectionAttribute();this._preventCaretMovement(t);return true}return}if(WC(e,i)){this._skipNextAutomaticGravityRestoration();this._overrideGravity();}}}get _isGravityOverridden(){return !!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change(e=>e.overrideSelectionGravity());}_restoreGravity(){this.model.change(e=>{e.restoreSelectionGravity(this._overrideUid);this._overrideUid=null;});}_preventCaretMovement(e){e.preventDefault();}_removeSelectionAttribute(){this.model.change(e=>{e.removeSelectionAttribute(this.attribute);});}_setSelectionAttributeFromTheNodeBefore(e){const t=this.attribute;this.model.change(i=>{i.setSelectionAttribute(this.attribute,e.nodeBefore.getAttribute(t));});}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=true;}}function VC(e,t){return FC(e,t)||HC(e,t)}function FC(e,t){const{nodeBefore:i,nodeAfter:n}=e;const o=i?i.hasAttribute(t):false;const s=n?n.hasAttribute(t):false;return s&&(!o||i.getAttribute(t)!==n.getAttribute(t))}function HC(e,t){const{nodeBefore:i,nodeAfter:n}=e;const o=i?i.hasAttribute(t):false;const s=n?n.hasAttribute(t):false;return o&&(!s||i.getAttribute(t)!==n.getAttribute(t))}function UC(e,t){const{nodeBefore:i,nodeAfter:n}=e;const o=i?i.hasAttribute(t):false;const s=n?n.hasAttribute(t):false;if(!s||!o){return}return n.getAttribute(t)!==i.getAttribute(t)}function WC(e,t){return VC(e.getShiftedBy(-1),t)}var $C=i(79);const qC="ck-link_selected";const YC="automatic";const JC="manual";const GC=/^(https?:)?\/\//;class QC extends Lw{static get pluginName(){return "LinkEditing"}constructor(e){super(e);e.config.define("link",{addTargetToExternalLinks:false});}init(){const e=this.editor;const t=e.locale;e.model.schema.extend("$text",{allowAttributes:"linkHref"});e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:IC});e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(e,t)=>IC(OC(e),t)});e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:true}},model:{key:"linkHref",value:e=>e.getAttribute("href")}});e.commands.add("link",new zA(e));e.commands.add("unlink",new BA(e));const i=RC(e.t,LC(e.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(e=>e.mode===YC));this._enableManualDecorators(i.filter(e=>e.mode===JC));zC({view:e.editing.view,model:e.model,emitter:this,attribute:"linkHref",locale:t});this._setupLinkHighlight();this._enableInsertContentSelectionAttributesFixer();}_enableAutomaticDecorators(e){const t=this.editor;const i=new DC;if(t.config.get("link.addTargetToExternalLinks")){i.add({id:"linkIsExternal",mode:YC,callback:e=>GC.test(e),attributes:{target:"_blank",rel:"noopener noreferrer"}});}i.add(e);if(i.length){t.conversion.for("downcast").add(i.getDispatcher());}}_enableManualDecorators(e){if(!e.length){return}const t=this.editor;const i=t.commands.get("link");const n=i.manualDecorators;e.forEach(e=>{t.model.schema.extend("$text",{allowAttributes:e.id});n.add(new jC(e));t.conversion.for("downcast").attributeToElement({model:e.id,view:(t,i)=>{if(t){const t=n.get(e.id).attributes;const o=i.createAttributeElement("a",t,{priority:5});i.setCustomProperty("link",true,o);return o}}});t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:n.get(e.id).attributes},model:{key:e.id}});});}_setupLinkHighlight(){const e=this.editor;const t=e.editing.view;const i=new Set;t.document.registerPostFixer(t=>{const n=e.model.document.selection;let o=false;if(n.hasAttribute("linkHref")){const s=DA(n.getFirstPosition(),n.getAttribute("linkHref"),e.model);const r=e.editing.mapper.toViewRange(s);for(const e of r.getItems()){if(e.is("a")&&!e.hasClass(qC)){t.addClass(qC,e);i.add(e);o=true;}}}return o});e.conversion.for("editingDowncast").add(e=>{e.on("insert",n,{priority:"highest"});e.on("remove",n,{priority:"highest"});e.on("attribute",n,{priority:"highest"});e.on("selection",n,{priority:"highest"});function n(){t.change(e=>{for(const t of i.values()){e.removeClass(qC,t);i.delete(t);}});}});}_enableInsertContentSelectionAttributesFixer(){const e=this.editor;const t=e.model;const i=t.document.selection;t.on("insertContent",()=>{const e=i.anchor.nodeBefore;const n=i.anchor.nodeAfter;if(!i.hasAttribute("linkHref")){return}if(!e){return}if(!e.hasAttribute("linkHref")){return}if(n&&n.hasAttribute("linkHref")){return}t.change(e=>{[...t.document.selection.getAttributeKeys()].filter(e=>e.startsWith("link")).forEach(t=>e.removeSelectionAttribute(t));});},{priority:"low"});}}class XC extends Gu{constructor(e){super(e);this.domEventType="click";}onDomEvent(e){this.fire(e.type,e);}}var KC=i(81);class ZC extends _b{constructor(e,t){super(e);const i=e.t;this.focusTracker=new Mp;this.keystrokes=new mp;this.urlInputView=this._createUrlInput();this.saveButtonView=this._createButton(i("Save"),Ey,"ck-button-save");this.saveButtonView.type="submit";this.cancelButtonView=this._createButton(i("Cancel"),Py,"ck-button-cancel","cancel");this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t);this.children=this._createFormChildren(t.manualDecorators);this._focusables=new Up;this._focusCycler=new Db({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const n=["ck","ck-link-form"];if(t.manualDecorators.length){n.push("ck-link-form_layout-vertical");}this.setTemplate({tag:"form",attributes:{class:n,tabindex:"-1"},children:this.children});}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,t)=>{e[t.name]=t.isOn;return e},{})}render(){super.render();My({view:this});const e=[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView];e.forEach(e=>{this._focusables.add(e);this.focusTracker.add(e.element);});this.keystrokes.listenTo(this.element);}focus(){this._focusCycler.focusFirst();}_createUrlInput(){const e=this.locale.t;const t=new yy(this.locale,Cy);t.label=e("Link URL");t.fieldView.placeholder="https://example.com";return t}_createButton(e,t,i,n){const o=new sw(this.locale);o.set({label:e,icon:t,tooltip:true});o.extendTemplate({attributes:{class:i}});if(n){o.delegate("execute").to(this,n);}return o}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const i of e.manualDecorators){const n=new fw(this.locale);n.set({name:i.id,label:i.label,withText:true});n.bind("isOn").toMany([i,e],"value",(e,t)=>t===undefined&&e===undefined?i.defaultValue:e);n.on("execute",()=>{i.set("value",!n.isOn);});t.add(n);}return t}_createFormChildren(e){const t=this.createCollection();t.add(this.urlInputView);if(e.length){const e=new _b;e.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(e=>({tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}});t.add(e);}t.add(this.saveButtonView);t.add(this.cancelButtonView);return t}}var eT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>';var tT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>';var iT=i(83);class nT extends _b{constructor(e){super(e);const t=e.t;this.focusTracker=new Mp;this.keystrokes=new mp;this.previewButtonView=this._createPreviewButton();this.unlinkButtonView=this._createButton(t("Unlink"),eT,"unlink");this.editButtonView=this._createButton(t("Edit link"),tT,"edit");this.set("href");this._focusables=new Up;this._focusCycler=new Db({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]});}render(){super.render();const e=[this.previewButtonView,this.editButtonView,this.unlinkButtonView];e.forEach(e=>{this._focusables.add(e);this.focusTracker.add(e.element);});this.keystrokes.listenTo(this.element);}focus(){this._focusCycler.focusFirst();}_createButton(e,t,i){const n=new sw(this.locale);n.set({label:e,icon:t,tooltip:true});n.delegate("execute").to(this,i);return n}_createPreviewButton(){const e=new sw(this.locale);const t=this.bindTemplate;const i=this.t;e.set({withText:true,tooltip:i("Open link in new tab")});e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",e=>e&&OC(e)),target:"_blank",rel:"noopener noreferrer"}});e.bind("label").to(this,"href",e=>e||i("This link has no URL"));e.bind("isEnabled").to(this,"href",e=>!!e);e.template.tag="a";e.template.eventListeners={};return e}}var oT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>';const sT="Ctrl+K";class rT extends Lw{static get requires(){return [jy]}static get pluginName(){return "LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(XC);this.actionsView=this._createActionsView();this.formView=this._createFormView();this._balloon=e.plugins.get(jy);this._createToolbarLinkButton();this._enableUserBalloonInteractions();}destroy(){super.destroy();this.formView.destroy();}_createActionsView(){const e=this.editor;const t=new nT(e.locale);const i=e.commands.get("link");const n=e.commands.get("unlink");t.bind("href").to(i,"value");t.editButtonView.bind("isEnabled").to(i);t.unlinkButtonView.bind("isEnabled").to(n);this.listenTo(t,"edit",()=>{this._addFormView();});this.listenTo(t,"unlink",()=>{e.execute("unlink");this._hideUI();});t.keystrokes.set("Esc",(e,t)=>{this._hideUI();t();});t.keystrokes.set(sT,(e,t)=>{this._addFormView();t();});return t}_createFormView(){const e=this.editor;const t=e.commands.get("link");const i=new ZC(e.locale,t);i.urlInputView.fieldView.bind("value").to(t,"value");i.urlInputView.bind("isReadOnly").to(t,"isEnabled",e=>!e);i.saveButtonView.bind("isEnabled").to(t);this.listenTo(i,"submit",()=>{e.execute("link",i.urlInputView.fieldView.element.value,i.getDecoratorSwitchesState());this._closeFormView();});this.listenTo(i,"cancel",()=>{this._closeFormView();});i.keystrokes.set("Esc",(e,t)=>{this._closeFormView();t();});return i}_createToolbarLinkButton(){const e=this.editor;const t=e.commands.get("link");const i=e.t;e.keystrokes.set(sT,(e,t)=>{t();this._showUI(true);});e.ui.componentFactory.add("link",e=>{const n=new sw(e);n.isEnabled=true;n.label=i("Link");n.icon=oT;n.keystroke=sT;n.tooltip=true;n.isToggleable=true;n.bind("isEnabled").to(t,"isEnabled");n.bind("isOn").to(t,"value",e=>!!e);this.listenTo(n,"execute",()=>this._showUI(true));return n});}_enableUserBalloonInteractions(){const e=this.editor.editing.view.document;this.listenTo(e,"click",()=>{const e=this._getSelectedLinkElement();if(e){this._showUI();}});this.editor.keystrokes.set("Tab",(e,t)=>{if(this._areActionsVisible&&!this.actionsView.focusTracker.isFocused){this.actionsView.focus();t();}},{priority:"high"});this.editor.keystrokes.set("Esc",(e,t)=>{if(this._isUIVisible){this._hideUI();t();}});mw({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()});}_addActionsView(){if(this._areActionsInPanel){return}this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()});}_addFormView(){if(this._isFormInPanel){return}const e=this.editor;const t=e.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()});if(this._balloon.visibleView===this.formView){this.formView.urlInputView.fieldView.select();}this.formView.urlInputView.fieldView.element.value=t.value||"";}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates();if(e.value!==undefined){this._removeFormView();}else {this._hideUI();}}_removeFormView(){if(this._isFormInPanel){this.formView.saveButtonView.focus();this._balloon.remove(this.formView);this.editor.editing.view.focus();}}_showUI(e=false){if(!this._getSelectedLinkElement()){this._addActionsView();if(e){this._balloon.showStack("main");}this._addFormView();}else {if(this._areActionsVisible){this._addFormView();}else {this._addActionsView();}if(e){this._balloon.showStack("main");}}this._startUpdatingUI();}_hideUI(){if(!this._isUIInPanel){return}const e=this.editor;this.stopListening(e.ui,"update");this.stopListening(this._balloon,"change:visibleView");e.editing.view.focus();this._removeFormView();this._balloon.remove(this.actionsView);}_startUpdatingUI(){const e=this.editor;const t=e.editing.view.document;let i=this._getSelectedLinkElement();let n=s();const o=()=>{const e=this._getSelectedLinkElement();const t=s();if(i&&!e||!i&&t!==n){this._hideUI();}else if(this._isUIVisible){this._balloon.updatePosition(this._getBalloonPositionData());}i=e;n=t;};function s(){return t.selection.focus.getAncestors().reverse().find(e=>e.is("element"))}this.listenTo(e.ui,"update",o);this.listenTo(this._balloon,"change:visibleView",o);}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view;const t=e.document;const i=this._getSelectedLinkElement();const n=i?e.domConverter.mapViewToDom(i):e.domConverter.viewRangeToDom(t.selection.getFirstRange());return {target:n}}_getSelectedLinkElement(){const e=this.editor.editing.view;const t=e.document.selection;if(t.isCollapsed){return aT(t.getFirstPosition())}else {const i=t.getFirstRange().getTrimmed();const n=aT(i.start);const o=aT(i.end);if(!n||n!=o){return null}if(e.createRangeIn(n).getTrimmed().isEqual(i)){return n}else {return null}}}}function aT(e){return e.getAncestors().find(e=>SC(e))}class cT extends Lw{static get requires(){return [QC,rT]}static get pluginName(){return "Link"}}class lT extends jw{constructor(e,t){super(e);this.type=t;}refresh(){this.value=this._getValue();this.isEnabled=this._checkEnabled();}execute(){const e=this.editor.model;const t=e.document;const i=Array.from(t.selection.getSelectedBlocks()).filter(t=>uT(t,e.schema));const n=this.value===true;e.change(e=>{if(n){let t=i[i.length-1].nextSibling;let n=Number.POSITIVE_INFINITY;let o=[];while(t&&t.name=="listItem"&&t.getAttribute("listIndent")!==0){const e=t.getAttribute("listIndent");if(e<n){n=e;}const i=e-n;o.push({element:t,listIndent:i});t=t.nextSibling;}o=o.reverse();for(const t of o){e.setAttribute("listIndent",t.listIndent,t.element);}}if(!n){let e=Number.POSITIVE_INFINITY;for(const t of i){if(t.is("listItem")&&t.getAttribute("listIndent")<e){e=t.getAttribute("listIndent");}}e=e===0?1:e;dT(i,true,e);dT(i,false,e);}for(const t of i.reverse()){if(n&&t.name=="listItem"){e.rename(t,"paragraph");}else if(!n&&t.name!="listItem"){e.setAttributes({listType:this.type,listIndent:0},t);e.rename(t,"listItem");}else if(!n&&t.name=="listItem"&&t.getAttribute("listType")!=this.type){e.setAttribute("listType",this.type,t);}}});}_getValue(){const e=Bw(this.editor.model.document.selection.getSelectedBlocks());return !!e&&e.is("listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value){return true}const e=this.editor.model.document.selection;const t=this.editor.model.schema;const i=Bw(e.getSelectedBlocks());if(!i){return false}return uT(i,t)}}function dT(e,t,i){const n=t?e[0]:e[e.length-1];if(n.is("listItem")){let o=n[t?"previousSibling":"nextSibling"];let s=n.getAttribute("listIndent");while(o&&o.is("listItem")&&o.getAttribute("listIndent")>=i){if(s>o.getAttribute("listIndent")){s=o.getAttribute("listIndent");}if(o.getAttribute("listIndent")==s){e[t?"unshift":"push"](o);}o=o[t?"previousSibling":"nextSibling"];}}}function uT(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}class hT extends jw{constructor(e,t){super(e);this._indentBy=t=="forward"?1:-1;}refresh(){this.isEnabled=this._checkEnabled();}execute(){const e=this.editor.model;const t=e.document;let i=Array.from(t.selection.getSelectedBlocks());e.change(e=>{const t=i[i.length-1];let n=t.nextSibling;while(n&&n.name=="listItem"&&n.getAttribute("listIndent")>t.getAttribute("listIndent")){i.push(n);n=n.nextSibling;}if(this._indentBy<0){i=i.reverse();}for(const t of i){const i=t.getAttribute("listIndent")+this._indentBy;if(i<0){e.rename(t,"paragraph");}else {e.setAttribute("listIndent",i,t);}}});}_checkEnabled(){const e=Bw(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("listItem")){return false}if(this._indentBy>0){const t=e.getAttribute("listIndent");const i=e.getAttribute("listType");let n=e.previousSibling;while(n&&n.is("listItem")&&n.getAttribute("listIndent")>=t){if(n.getAttribute("listIndent")==t){return n.getAttribute("listType")==i}n=n.previousSibling;}return false}return true}}function fT(e){const t=e.createContainerElement("li");t.getFillerOffset=vT;return t}function mT(e,t){const i=t.mapper;const n=t.writer;const o=e.getAttribute("listType")=="numbered"?"ol":"ul";const s=fT(n);const r=n.createContainerElement(o,null);n.insert(n.createPositionAt(r,0),s);i.bindElements(e,s);return s}function gT(e,t,i,n){const o=t.parent;const s=i.mapper;const r=i.writer;let a=s.toViewPosition(n.createPositionBefore(e));const c=wT(e.previousSibling,{sameIndent:true,smallerIndent:true,listIndent:e.getAttribute("listIndent")});const l=e.previousSibling;if(c&&c.getAttribute("listIndent")==e.getAttribute("listIndent")){const e=s.toViewElement(c);a=r.breakContainer(r.createPositionAfter(e));}else {if(l&&l.name=="listItem"){a=s.toViewPosition(n.createPositionAt(l,"end"));}else {a=s.toViewPosition(n.createPositionBefore(e));}}a=bT(a);r.insert(a,o);if(l&&l.name=="listItem"){const e=s.toViewElement(l);const i=r.createRange(r.createPositionAt(e,0),a);const n=i.getWalker({ignoreElementEnd:true});for(const e of n){if(e.item.is("li")){const i=r.breakContainer(r.createPositionBefore(e.item));const o=e.item.parent;const s=r.createPositionAt(t,"end");pT(r,s.nodeBefore,s.nodeAfter);r.move(r.createRangeOn(o),s);n.position=i;}}}else {const i=o.nextSibling;if(i&&(i.is("ul")||i.is("ol"))){let n=null;for(const t of i.getChildren()){const i=s.toModelElement(t);if(i&&i.getAttribute("listIndent")>e.getAttribute("listIndent")){n=t;}else {break}}if(n){r.breakContainer(r.createPositionAfter(n));r.move(r.createRangeOn(n.parent),r.createPositionAt(t,"end"));}}}pT(r,o,o.nextSibling);pT(r,o.previousSibling,o);}function pT(e,t,i){if(!t||!i||t.name!="ul"&&t.name!="ol"){return null}if(t.name!=i.name||t.getAttribute("class")!==i.getAttribute("class")){return null}return e.mergeContainers(e.createPositionAfter(t))}function bT(e){return e.getLastMatchingPosition(e=>e.item.is("uiElement"))}function wT(e,t){const i=!!t.sameIndent;const n=!!t.smallerIndent;const o=t.listIndent;let s=e;while(s&&s.name=="listItem"){const e=s.getAttribute("listIndent");if(i&&o==e||n&&o>e){return s}s=s.previousSibling;}return null}function _T(e,t,i,n){e.ui.componentFactory.add(t,o=>{const s=e.commands.get(t);const r=new sw(o);r.set({label:i,icon:n,tooltip:true,isToggleable:true});r.bind("isOn","isEnabled").to(s,"value","isEnabled");r.on("execute",()=>{e.execute(t);e.editing.view.focus();});return r});}function vT(){const e=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");if(this.isEmpty||e){return 0}return Uc.call(this)}function kT(e){return (t,i,n)=>{const o=n.consumable;if(!o.test(i.item,"insert")||!o.test(i.item,"attribute:listType")||!o.test(i.item,"attribute:listIndent")){return}o.consume(i.item,"insert");o.consume(i.item,"attribute:listType");o.consume(i.item,"attribute:listIndent");const s=i.item;const r=mT(s,n);gT(s,r,n,e);}}function yT(e){return (t,i,n)=>{const o=n.mapper.toViewPosition(i.position).getLastMatchingPosition(e=>!e.item.is("li"));const s=o.nodeAfter;const r=n.writer;r.breakContainer(r.createPositionBefore(s));r.breakContainer(r.createPositionAfter(s));const a=s.parent;const c=a.previousSibling;const l=r.createRangeOn(a);const d=r.remove(l);if(c&&c.nextSibling){pT(r,c,c.nextSibling);}const u=n.mapper.toModelElement(s);jT(u.getAttribute("listIndent")+1,i.position,l.start,s,n,e);for(const e of r.createRangeIn(d).getItems()){n.mapper.unbindViewElement(e);}t.stop();}}function xT(e,t,i){if(!i.consumable.consume(t.item,"attribute:listType")){return}const n=i.mapper.toViewElement(t.item);const o=i.writer;o.breakContainer(o.createPositionBefore(n));o.breakContainer(o.createPositionAfter(n));const s=n.parent;const r=t.attributeNewValue=="numbered"?"ol":"ul";o.rename(r,s);}function AT(e,t,i){const n=i.mapper.toViewElement(t.item);const o=n.parent;const s=i.writer;pT(s,o,o.nextSibling);pT(s,o.previousSibling,o);for(const e of t.item.getChildren()){i.consumable.consume(e,"insert");}}function CT(e){return (t,i,n)=>{if(!n.consumable.consume(i.item,"attribute:listIndent")){return}const o=n.mapper.toViewElement(i.item);const s=n.writer;s.breakContainer(s.createPositionBefore(o));s.breakContainer(s.createPositionAfter(o));const r=o.parent;const a=r.previousSibling;const c=s.createRangeOn(r);s.remove(c);if(a&&a.nextSibling){pT(s,a,a.nextSibling);}jT(i.attributeOldValue+1,i.range.start,c.start,o,n,e);gT(i.item,o,n,e);for(const e of i.item.getChildren()){n.consumable.consume(e,"insert");}}}function TT(e,t,i){if(t.item.name!="listItem"){let e=i.mapper.toViewPosition(t.range.start);const n=i.writer;const o=[];while(e.parent.name=="ul"||e.parent.name=="ol"){e=n.breakContainer(e);if(e.parent.name!="li"){break}const t=e;const i=n.createPositionAt(e.parent,"end");if(!t.isEqual(i)){const e=n.remove(n.createRange(t,i));o.push(e);}e=n.createPositionAfter(e.parent);}if(o.length>0){for(let t=0;t<o.length;t++){const i=e.nodeBefore;const s=n.insert(e,o[t]);e=s.end;if(t>0){const t=pT(n,i,i.nextSibling);if(t&&t.parent==i){e.offset--;}}}pT(n,e.nodeBefore,e.nodeAfter);}}}function MT(e,t,i){const n=i.mapper.toViewPosition(t.position);const o=n.nodeBefore;const s=n.nodeAfter;pT(i.writer,o,s);}function ET(e,t,i){if(i.consumable.consume(t.viewItem,{name:true})){const e=i.writer;const n=e.createElement("listItem");const o=BT(t.viewItem);e.setAttribute("listIndent",o,n);const s=t.viewItem.parent&&t.viewItem.parent.name=="ol"?"numbered":"bulleted";e.setAttribute("listType",s,n);const r=i.splitToAllowedParent(n,t.modelCursor);if(!r){return}e.insert(n,r.position);const a=LT(n,t.viewItem.getChildren(),i);t.modelRange=e.createRange(t.modelCursor,a);if(r.cursorParent){t.modelCursor=e.createPositionAt(r.cursorParent,0);}else {t.modelCursor=t.modelRange.end;}}}function PT(e,t,i){if(i.consumable.test(t.viewItem,{name:true})){const e=Array.from(t.viewItem.getChildren());for(const t of e){const e=!(t.is("li")||zT(t));if(e){t._remove();}}}}function ST(e,t,i){if(i.consumable.test(t.viewItem,{name:true})){if(t.viewItem.childCount===0){return}const e=[...t.viewItem.getChildren()];let i=false;let n=true;for(const t of e){if(i&&!zT(t)){t._remove();}if(t.is("text")){if(n){t._data=t.data.replace(/^\s+/,"");}if(!t.nextSibling||zT(t.nextSibling)){t._data=t.data.replace(/\s+$/,"");}}else if(zT(t)){i=true;}n=false;}}}function IT(e){return (t,i)=>{if(i.isPhantom){return}const n=i.modelPosition.nodeBefore;if(n&&n.is("listItem")){const t=i.mapper.toViewElement(n);const o=t.getAncestors().find(zT);const s=e.createPositionAt(t,0).getWalker();for(const e of s){if(e.type=="elementStart"&&e.item.is("li")){i.viewPosition=e.previousPosition;break}else if(e.type=="elementEnd"&&e.item==o){i.viewPosition=e.nextPosition;break}}}}}function OT(e){return (t,i)=>{const n=i.viewPosition;const o=n.parent;const s=i.mapper;if(o.name=="ul"||o.name=="ol"){if(!n.isAtEnd){const t=s.toModelElement(n.nodeAfter);i.modelPosition=e.createPositionBefore(t);}else {const t=s.toModelElement(n.nodeBefore);const o=s.getModelLength(n.nodeBefore);i.modelPosition=e.createPositionBefore(t).getShiftedBy(o);}t.stop();}else if(o.name=="li"&&n.nodeBefore&&(n.nodeBefore.name=="ul"||n.nodeBefore.name=="ol")){const r=s.toModelElement(o);let a=1;let c=n.nodeBefore;while(c&&zT(c)){a+=s.getModelLength(c);c=c.previousSibling;}i.modelPosition=e.createPositionBefore(r).getShiftedBy(a);t.stop();}}}function NT(e,t){const i=e.document.differ.getChanges();const n=new Map;let o=false;for(const n of i){if(n.type=="insert"&&n.name=="listItem"){s(n.position);}else if(n.type=="insert"&&n.name!="listItem"){if(n.name!="$text"){const i=n.position.nodeAfter;if(i.hasAttribute("listIndent")){t.removeAttribute("listIndent",i);o=true;}if(i.hasAttribute("listType")){t.removeAttribute("listType",i);o=true;}for(const t of Array.from(e.createRangeIn(i)).filter(e=>e.item.is("listItem"))){s(t.previousPosition);}}const i=n.position.getShiftedBy(n.length);s(i);}else if(n.type=="remove"&&n.name=="listItem"){s(n.position);}else if(n.type=="attribute"&&n.attributeKey=="listIndent"){s(n.range.start);}else if(n.type=="attribute"&&n.attributeKey=="listType"){s(n.range.start);}}for(const e of n.values()){r(e);a(e);}return o;function s(e){const t=e.nodeBefore;if(!t||!t.is("listItem")){const t=e.nodeAfter;if(t&&t.is("listItem")){n.set(t,t);}}else {let e=t;if(n.has(e)){return}for(let t=e.previousSibling;t&&t.is("listItem");t=e.previousSibling){e=t;if(n.has(e)){return}}n.set(t,e);}}function r(e){let i=0;let n=null;while(e&&e.is("listItem")){const s=e.getAttribute("listIndent");if(s>i){let r;if(n===null){n=s-i;r=i;}else {if(n>s){n=s;}r=s-n;}t.setAttribute("listIndent",r,e);o=true;}else {n=null;i=e.getAttribute("listIndent")+1;}e=e.nextSibling;}}function a(e){let i=[];let n=null;while(e&&e.is("listItem")){const s=e.getAttribute("listIndent");if(n&&n.getAttribute("listIndent")>s){i=i.slice(0,s+1);}if(s!=0){if(i[s]){const n=i[s];if(e.getAttribute("listType")!=n){t.setAttribute("listType",n,e);o=true;}}else {i[s]=e.getAttribute("listType");}}n=e;e=e.nextSibling;}}}function RT(e,[t,i]){let n=t.is("documentFragment")?t.getChild(0):t;let o;if(!i){o=this.document.selection;}else {o=this.createSelection(i);}if(n&&n.is("listItem")){const e=o.getFirstPosition();let t=null;if(e.parent.is("listItem")){t=e.parent;}else if(e.nodeBefore&&e.nodeBefore.is("listItem")){t=e.nodeBefore;}if(t){const e=t.getAttribute("listIndent");if(e>0){while(n&&n.is("listItem")){n._setAttribute("listIndent",n.getAttribute("listIndent")+e);n=n.nextSibling;}}}}}function LT(e,t,i){const{writer:n,schema:o}=i;let s=n.createPositionAfter(e);for(const r of t){if(r.name=="ul"||r.name=="ol"){s=i.convertItem(r,s).modelCursor;}else {const t=i.convertItem(r,n.createPositionAt(e,"end"));const a=t.modelRange.start.nodeAfter;const c=a&&a.is("element")&&!o.checkChild(e,a.name);if(c){if(t.modelCursor.parent.is("listItem")){e=t.modelCursor.parent;}else {e=DT(t.modelCursor);}s=n.createPositionAfter(e);}}}return s}function DT(e){const t=new Uh({startPosition:e});let i;do{i=t.next();}while(!i.value.item.is("listItem"));return i.value.item}function jT(e,t,i,n,o,s){const r=wT(t.nodeBefore,{sameIndent:true,smallerIndent:true,listIndent:e,foo:"b"});const a=o.mapper;const c=o.writer;const l=r?r.getAttribute("listIndent"):null;let d;if(!r){d=i;}else if(l==e){const e=a.toViewElement(r).parent;d=c.createPositionAfter(e);}else {const e=s.createPositionAt(r,"end");d=a.toViewPosition(e);}d=bT(d);for(const e of [...n.getChildren()]){if(zT(e)){d=c.move(c.createRangeOn(e),d).end;pT(c,e,e.nextSibling);pT(c,e.previousSibling,e);}}}function zT(e){return e.is("ol")||e.is("ul")}function BT(e){let t=0;let i=e.parent;while(i){if(i.is("li")){t++;}else {const e=i.previousSibling;if(e&&e.is("li")){t++;}}i=i.parent;}return t}class VT extends Lw{static get pluginName(){return "ListEditing"}static get requires(){return [Gv]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const t=e.data;const i=e.editing;e.model.document.registerPostFixer(t=>NT(e.model,t));i.mapper.registerViewToModelLength("li",FT);t.mapper.registerViewToModelLength("li",FT);i.mapper.on("modelToViewPosition",IT(i.view));i.mapper.on("viewToModelPosition",OT(e.model));t.mapper.on("modelToViewPosition",IT(i.view));e.conversion.for("editingDowncast").add(t=>{t.on("insert",TT,{priority:"high"});t.on("insert:listItem",kT(e.model));t.on("attribute:listType:listItem",xT,{priority:"high"});t.on("attribute:listType:listItem",AT,{priority:"low"});t.on("attribute:listIndent:listItem",CT(e.model));t.on("remove:listItem",yT(e.model));t.on("remove",MT,{priority:"low"});});e.conversion.for("dataDowncast").add(t=>{t.on("insert",TT,{priority:"high"});t.on("insert:listItem",kT(e.model));});e.conversion.for("upcast").add(e=>{e.on("element:ul",PT,{priority:"high"});e.on("element:ol",PT,{priority:"high"});e.on("element:li",ST,{priority:"high"});e.on("element:li",ET);});e.model.on("insertContent",RT,{priority:"high"});e.commands.add("numberedList",new lT(e,"numbered"));e.commands.add("bulletedList",new lT(e,"bulleted"));e.commands.add("indentList",new hT(e,"forward"));e.commands.add("outdentList",new hT(e,"backward"));const n=i.view.document;this.listenTo(n,"enter",(e,t)=>{const i=this.editor.model.document;const n=i.selection.getLastPosition().parent;if(i.selection.isCollapsed&&n.name=="listItem"&&n.isEmpty){this.editor.execute("outdentList");t.preventDefault();e.stop();}});this.listenTo(n,"delete",(e,t)=>{if(t.direction!=="backward"){return}const i=this.editor.model.document.selection;if(!i.isCollapsed){return}const n=i.getFirstPosition();if(!n.isAtStart){return}const o=n.parent;if(o.name!=="listItem"){return}const s=o.previousSibling&&o.previousSibling.name==="listItem";if(s){return}this.editor.execute("outdentList");t.preventDefault();e.stop();},{priority:"high"});const o=e=>(t,i)=>{const n=this.editor.commands.get(e);if(n.isEnabled){this.editor.execute(e);i();}};e.keystrokes.set("Tab",o("indentList"));e.keystrokes.set("Shift+Tab",o("outdentList"));}afterInit(){const e=this.editor.commands;const t=e.get("indent");const i=e.get("outdent");if(t){t.registerChildCommand(e.get("indentList"));}if(i){i.registerChildCommand(e.get("outdentList"));}}}function FT(e){let t=1;for(const i of e.getChildren()){if(i.name=="ul"||i.name=="ol"){for(const e of i.getChildren()){t+=FT(e);}}}return t}var HT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>';var UT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>';class WT extends Lw{init(){const e=this.editor.t;_T(this.editor,"numberedList",e("Numbered List"),HT);_T(this.editor,"bulletedList",e("Bulleted List"),UT);}}class $T extends Lw{static get requires(){return [VT,WT]}static get pluginName(){return "List"}}class qT{constructor(e,t={}){this.namespaces=t.namespaces||[];this._domParser=new DOMParser;this._domConverter=new jd(e,{blockFillerMode:"nbsp"});this._htmlWriter=new xp;}toData(e){const t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this._domConverter.domToView(t,{keepOriginalCase:true})}_toDom(e){const t=this.namespaces.map(e=>`xmlns:${e}="nsp"`).join(" ");e=`<xml ${t}>${e}</xml>`;const i=this._domParser.parseFromString(e,"text/xml");const n=i.querySelector("parsererror");if(n){throw new Error("Parse error - "+n.textContent)}const o=i.createDocumentFragment();const s=i.documentElement.childNodes;while(s.length>0){o.appendChild(s[0]);}return o}}class YT{static get safeXmlCharactersEntities(){return {tagOpener:"&laquo;",tagCloser:"&raquo;",doubleQuote:"&uml;",realDoubleQuote:"&quot;"}}static get safeBadBlackboardCharacters(){return {ltElement:"«mo»<«/mo»",gtElement:"«mo»>«/mo»",ampElement:"«mo»&«/mo»"}}static get safeGoodBlackboardCharacters(){return {ltElement:"«mo»§lt;«/mo»",gtElement:"«mo»§gt;«/mo»",ampElement:"«mo»§amp;«/mo»"}}static get xmlCharacters(){return {id:"xmlCharacters",tagOpener:"<",tagCloser:">",doubleQuote:'"',ampersand:"&",quote:"'"}}static get safeXmlCharacters(){return {id:"safeXmlCharacters",tagOpener:"«",tagCloser:"»",doubleQuote:"¨",ampersand:"§",quote:"`",realDoubleQuote:"¨"}}}class JT{static isMathmlInAttribute(e,t){const i="['\"][\\s]*=[\\s]*[\\w-]+";const n="\"[^\"]*\"|'[^']*'";const o=`[\\s]*(${n})[\\s]*=[\\s]*[\\w-]+[\\s]*`;const s=`('${o}')*`;const r=`^${i}${s}[\\s]+gmi<`;const a=new RegExp(r);const c=e.substring(0,t);const l=c.split("").reverse().join("");const d=a.test(l);return d}static safeXmlDecode(e){let{tagOpener:t}=YT.safeXmlCharactersEntities;let{tagCloser:i}=YT.safeXmlCharactersEntities;let{doubleQuote:n}=YT.safeXmlCharactersEntities;let{realDoubleQuote:o}=YT.safeXmlCharactersEntities;e=e.split(t).join(YT.safeXmlCharacters.tagOpener);e=e.split(i).join(YT.safeXmlCharacters.tagCloser);e=e.split(n).join(YT.safeXmlCharacters.doubleQuote);e=e.split(o).join(YT.safeXmlCharacters.realDoubleQuote);const{ltElement:s}=YT.safeBadBlackboardCharacters;const{gtElement:r}=YT.safeBadBlackboardCharacters;const{ampElement:a}=YT.safeBadBlackboardCharacters;if("_wrs_blackboard"in window&&window._wrs_blackboard){e=e.split(s).join(YT.safeGoodBlackboardCharacters.ltElement);e=e.split(r).join(YT.safeGoodBlackboardCharacters.gtElement);e=e.split(a).join(YT.safeGoodBlackboardCharacters.ampElement);}({tagOpener:t}=YT.safeXmlCharacters);({tagCloser:i}=YT.safeXmlCharacters);({doubleQuote:n}=YT.safeXmlCharacters);({realDoubleQuote:o}=YT.safeXmlCharacters);const{ampersand:c}=YT.safeXmlCharacters;const{quote:l}=YT.safeXmlCharacters;e=e.split(t).join(YT.xmlCharacters.tagOpener);e=e.split(i).join(YT.xmlCharacters.tagCloser);e=e.split(n).join(YT.xmlCharacters.doubleQuote);e=e.split(c).join(YT.xmlCharacters.ampersand);e=e.split(l).join(YT.xmlCharacters.quote);let d="";let u=null;for(let t=0;t<e.length;t+=1){const i=e.charAt(t);if(u==null){if(i==="$"){u="";}else {d+=i;}}else if(i===";"){d+=`&${u}`;u=null;}else if(i.match(/([a-zA-Z0-9#._-] | '-')/)){u+=i;}else {d+=`$${u}`;u=null;t-=1;}}return d}static safeXmlEncode(e){const{tagOpener:t}=YT.xmlCharacters;const{tagCloser:i}=YT.xmlCharacters;const{doubleQuote:n}=YT.xmlCharacters;const{ampersand:o}=YT.xmlCharacters;const{quote:s}=YT.xmlCharacters;e=e.split(t).join(YT.safeXmlCharacters.tagOpener);e=e.split(i).join(YT.safeXmlCharacters.tagCloser);e=e.split(n).join(YT.safeXmlCharacters.doubleQuote);e=e.split(o).join(YT.safeXmlCharacters.ampersand);e=e.split(s).join(YT.safeXmlCharacters.quote);return e}static mathMLEntities(e){let t="";for(let i=0;i<e.length;i+=1){const n=e.charAt(i);if(e.codePointAt(i)>128){t+=`&#${e.codePointAt(i)};`;if(e.codePointAt(i)>65535){i+=1;}}else if(n==="&"){const o=e.indexOf(";",i+1);if(o>=0){const n=document.createElement("span");n.innerHTML=e.substring(i,o+1);t+=`&#${iM.fixedCharCodeAt(n.textContent||n.innerText,0)};`;i=o;}else {t+=n;}}else {t+=n;}}return t}static addCustomEditorClassAttribute(e,t){let i="";const n=e.indexOf("<math");if(n===0){const o=e.indexOf(">");if(e.indexOf("class")===-1){i=`${e.substr(n,o)} class="wrs_${t}">`;i+=e.substr(o+1,e.length);return i}}return e}static removeCustomEditorClassAttribute(e,t){if(e.indexOf("class")===-1||e.indexOf(`wrs_${t}`)===-1){return e}if(e.indexOf(`class="wrs_${t}"`)!==-1){return e.replace(`class="wrs_${t}"`,"")}return e.replace(`wrs_${t}`,"")}static addAnnotation(e,t,i){const n=e.indexOf("<annotation");let o="";if(n!==-1){const n=e.indexOf("</semantics>");o=`${e.substring(0,n)}<annotation encoding="${i}">${t}</annotation>${e.substring(n)}`;}else if(JT.isEmpty(e)){const n=e.indexOf("/>");const s=e.indexOf(">");const r=s===n?n:s;o=`${e.substring(0,r)}><semantics><annotation encoding="${i}">${t}</annotation></semantics></math>`;}else {const n=e.indexOf(">")+1;const s=e.lastIndexOf("</math>");const r=e.substring(n,s);o=`${e.substring(0,n)}<semantics>${r}<annotation encoding="${i}">${t}</annotation></semantics></math>`;}return o}static removeAnnotation(e,t){let i=e;const n=`<annotation encoding="${t}">`;const o="</annotation>";const s=e.indexOf(n);if(s!==-1){let t=false;let n=e.indexOf("<annotation");while(n!==-1){if(n!==s){t=true;}n=e.indexOf("<annotation",n+1);}if(t){const t=e.indexOf(o,s);const n=t+o.length;const r=e.substring(0,s);i=r+e.substring(n);}else {i=JT.removeSemantics(e);}}return i}static removeSemantics(e){const t="</math>";const i="<semantics>";const n="<annotation";let o=e;const s=e.indexOf(i);if(s!==-1){const r=e.indexOf(n,s+i.length);if(r!==-1){o=e.substring(0,s)+e.substring(s+i.length,r)+t;}}return o}static removeSemanticsOcurrences(e,t=YT.xmlCharacters){const i=`${t.tagOpener}math`;const n=`${t.tagOpener}/math${t.tagCloser}`;const o=`/${t.tagCloser}`;const{tagCloser:s}=t;const r=`${t.tagOpener}semantics${t.tagCloser}`;const a=`${t.tagOpener}annotation encoding=`;let c="";let l=e.indexOf(i);let d=0;while(l!==-1){c+=e.substring(d,l);const t=e.indexOf(n,l);const u=e.indexOf(o,l);const h=e.indexOf(s,l);if(t!==-1){d=t;}else if(u===h-1){d=u;}const f=e.indexOf(r,l);if(f!==-1){const t=e.substring(l,f);const o=e.indexOf(a,l);if(o!==-1){const s=f+r.length;const a=e.substring(s,o);c+=t+a+n;l=e.indexOf(i,l+i.length);d+=n.length;}else {d=l;l=e.indexOf(i,l+i.length);}}else {d=l;l=e.indexOf(i,l+i.length);}}c+=e.substring(d,e.length);return c}static containClass(e,t){const i=e.indexOf("class");if(i===-1){return false}const n=e.indexOf(">",i);const o=e.substring(i,n);if(o.indexOf(t)!==-1){return true}return false}static isEmpty(e){const t=">";const i="/>";const n=e.indexOf(t);const o=e.indexOf(i);let s=false;if(o!==-1){if(o===n-1){s=true;}}if(!s){const t=new RegExp("</(.+:)?math>");const i=t.exec(e);if(i){s=n+1===i.index;}}return s}static encodeProperties(e){const t=/\w+=".*?"/g;const i=e=>{const t=e.indexOf('"');const i=e.substring(t+1,e.length-1);const n=iM.htmlEntities(i);const o=`${e.substring(0,t+1)}${n}"`;return o};const n=e.replace(t,i);return n}}class GT{static addConfiguration(e){Object.assign(GT.properties,e);}static get properties(){return GT._properties}static set properties(e){GT._properties=e;}static get(e){if(!Object.prototype.hasOwnProperty.call(GT.properties,e)){if(Object.prototype.hasOwnProperty.call(GT.properties,"_wrs_conf_")){return GT.properties[`_wrs_conf_${e}`]}return false}return GT.properties[e]}static set(e,t){GT.properties[e]=t;}static update(e,t){if(!GT.get(e)){GT.set(e,t);}else {const i=Object.assign(GT.get(e),t);GT.set(e,i);}}}GT._properties={};class QT{constructor(){this.cache=[];}populate(e,t){this.cache[e]=t;}get(e){if(Object.prototype.hasOwnProperty.call(this.cache,e)){return this.cache[e]}return false}}class XT{constructor(){this.listeners=[];}add(e){this.listeners.push(e);}fire(e,t){for(let i=0;i<this.listeners.length&&!t.cancelled;i+=1){if(this.listeners[i].eventName===e){this.listeners[i].callback(t);}}return t.defaultPrevented}static newListener(e,t){const i={};i.eventName=e;i.callback=t;return i}}class KT{static get listeners(){return KT._listeners}static addListener(e){KT.listeners.add(e);}static fireEvent(e,t){KT.listeners.fire(e,t);}static get parameters(){return KT._parameters}static set parameters(e){KT._parameters=e;}static get servicePaths(){return KT._servicePaths}static set servicePaths(e){KT._servicePaths=e;}static setServicePath(e,t){KT.servicePaths[e]=t;}static getServicePath(e){return KT.servicePaths[e]}static get integrationPath(){return KT._integrationPath}static set integrationPath(e){KT._integrationPath=e;}static getServerURL(){const e=window.location.href;const t=e.split("/");const i=`${t[0]}//${t[2]}`;return i}static init(e){KT.parameters=e;let t=KT.createServiceURI("configurationjs");let i=KT.createServiceURI("createimage");let n=KT.createServiceURI("showimage");let o=KT.createServiceURI("getmathml");let s=KT.createServiceURI("service");if(KT.parameters.URI.indexOf("/")===0){const e=KT.getServerURL();t=e+t;n=e+n;i=e+i;o=e+o;s=e+s;}KT.setServicePath("configurationjs",t);KT.setServicePath("showimage",n);KT.setServicePath("createimage",i);KT.setServicePath("service",s);KT.setServicePath("getmathml",o);KT.setServicePath("configurationjs",t);KT.listeners.fire("onInit",{});}static getUrl(e,t){const i=window.location.toString().substr(0,window.location.toString().lastIndexOf("/")+1);const n=iM.createHttpRequest();if(n){if(typeof t==="undefined"||typeof t==="undefined"){n.open("GET",e,false);}else if(e.substr(0,1)==="/"||e.substr(0,7)==="http://"||e.substr(0,8)==="https://"){n.open("POST",e,false);}else {n.open("POST",i+e,false);}if(typeof t!=="undefined"&&t){n.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8");n.send(iM.httpBuildQuery(t));}else {n.send(null);}return n.responseText}return ""}static getService(e,t,i){let n;if(i===true){const i=`${KT.getServicePath(e)}?${t}`;n=KT.getUrl(i);}else {const i=KT.getServicePath(e);n=KT.getUrl(i,t);}return n}static getServerLanguageFromService(e){if(e.indexOf(".php")!==-1){return "php"}if(e.indexOf(".aspx")!==-1){return "aspx"}if(e.indexOf("wirispluginengine")!==-1){return "ruby"}return "java"}static createServiceURI(e){const t=KT.serverExtension();return iM.concatenateUrl(KT.parameters.URI,e)+t}static serverExtension(){if(KT.parameters.server.indexOf("php")!==-1){return ".php"}if(KT.parameters.server.indexOf("aspx")!==-1){return ".aspx"}return ""}}KT._servicePaths={};KT._integrationPath="";KT._listeners=new XT;KT._parameters={};class ZT{static get cache(){return ZT._cache}static set cache(e){ZT._cache=e;}static getLatexFromMathML(e){const t=JT.removeSemantics(e);const{cache:i}=ZT;const n={service:"mathml2latex",mml:t};const o=JSON.parse(KT.getService("service",n));let s="";if(o.status==="ok"){s=o.result.text;const t=iM.htmlEntities(s);const n=JT.addAnnotation(e,t,"LaTeX");i.populate(s,n);}return s}static getMathMLFromLatex(e,t){const i=ZT.cache;if(ZT.cache.get(e)){return ZT.cache.get(e)}const n={service:"latex2mathml",latex:e};if(t){n.saveLatex="";}const o=JSON.parse(KT.getService("service",n));let s;if(o.status==="ok"){let t=o.result.text;t=t.split("\r").join("").split("\n").join(" ");if(t.indexOf("semantics")===-1&&t.indexOf("annotation")===-1){t=JT.addAnnotation(t,e,"LaTeX");s=t;}else {s=t;}if(!i.get(e)){i.populate(e,t);}}else {s=`$$${e}$$`;}return s}static parseMathmlToLatex(e,t){let i="";const n=`${t.tagOpener}math`;const o=`${t.tagOpener}/math${t.tagCloser}`;const s=`${t.tagOpener}annotation encoding=${t.doubleQuote}LaTeX${t.doubleQuote}${t.tagCloser}`;const r=`${t.tagOpener}/annotation${t.tagCloser}`;let a=e.indexOf(n);let c=0;let l;let d;let u;while(a!==-1){i+=e.substring(c,a);c=e.indexOf(o,a);if(c===-1){c=e.length-1;}else {c+=o.length;}l=e.substring(a,c);d=l.indexOf(s);if(d!==-1){d+=s.length;u=l.indexOf(r);let e=l.substring(d,u);if(t===YT.safeXmlCharacters){e=JT.safeXmlDecode(e);}i+=`$$${e}$$`;ZT.cache.populate(e,l);}else {i+=l;}a=e.indexOf(n,c);}i+=e.substring(c,e.length);return i}static getLatexFromTextNode(e,t,i){const n={open:"$$",close:"$$"};if(typeof i==="undefined"||i==null){i=n;}let o=e;while(o.previousSibling&&o.previousSibling.nodeType===3){o=o.previousSibling;}function s(e,t,n){let o=e.nodeValue.indexOf(n,t);while(o===-1){e=e.nextSibling;if(!e){return null}o=e.nodeValue?e.nodeValue.indexOf(i.close):-1;}return {node:e,position:o}}function r(e,t,i,n){if(e===i){return t<=n}while(e&&e!==i){e=e.nextSibling;}return e===i}let a;let c={node:o,position:0};const l=i.open.length;do{a=s(c.node,c.position,i.open);if(a==null||r(e,t,a.node,a.position)){return null}c=s(a.node,a.position+l,i.close);if(c==null){return null}c.position+=l;}while(r(c.node,c.position,e,t));let d;if(a.node===c.node){d=a.node.nodeValue.substring(a.position+l,c.position-l);}else {const e=a.position+l;d=a.node.nodeValue.substring(e,a.node.nodeValue.length);let t=a.node;do{t=t.nextSibling;if(t===c.node){d+=c.node.nodeValue.substring(0,c.position-l);}else {d+=t.nodeValue?t.nodeValue:"";}}while(t!==c.node)}return {latex:d,startNode:a.node,startPosition:a.position,endNode:c.node,endPosition:c.position}}}ZT._cache=new QT;var eM=i(13);class tM{constructor(){throw new Error("Static class StringManager can not be instantiated.")}static get(e){let{language:t}=this;if(!(t in this.strings)){console.warn(`Unknown language ${t} set in StringManager.`);t="en";}if(!(e in this.strings[t])){console.warn(`Unknown key ${e} in StringManager.`);return e}return this.strings[t][e]}}tM.strings=eM;tM.language="en";class iM{static fireEvent(e,t){if(document.createEvent){const i=document.createEvent("HTMLEvents");i.initEvent(t,true,true);return !e.dispatchEvent(i)}const i=document.createEventObject();return e.fireEvent(`on${t}`,i)}static addEvent(e,t,i){if(e.addEventListener){e.addEventListener(t,i,true);}else if(e.attachEvent){e.attachEvent(`on${t}`,i);}}static removeEvent(e,t,i){if(e.removeEventListener){e.removeEventListener(t,i,true);}else if(e.detachEvent){e.detachEvent(`on${t}`,i);}}static addElementEvents(e,t,i,n){if(t){iM.addEvent(e,"dblclick",e=>{const i=e||window.event;const n=i.srcElement?i.srcElement:i.target;t(n,i);});}if(i){iM.addEvent(e,"mousedown",e=>{const t=e||window.event;const n=t.srcElement?t.srcElement:t.target;i(n,t);});}if(n){iM.addEvent(e,"mouseup",e=>{const t=e||window.event;const i=t.srcElement?t.srcElement:t.target;n(i,t);});}}static addClass(e,t){if(!iM.containsClass(e,t)){e.className+=` ${t}`;}}static containsClass(e,t){if(e==null||!("className"in e)){return false}const i=e.className.split(" ");for(let e=i.length-1;e>=0;e-=1){if(i[e]===t){return true}}return false}static removeClass(e,t){let i="";const n=e.className.split(" ");for(let e=0;e<n.length;e+=1){if(n[e]!==t){i+=`${n[e]} `;}}e.className=i.trim();}static convertOldXmlinitialtextAttribute(e){const t="value=";const i=e.indexOf("xmlinitialtext");const n=e.indexOf(t,i);const o=e.charAt(n+t.length);const s=n+t.length+1;const r=e.indexOf(o,s);const a=e.substring(s,r);let c=a.split("«").join("§lt;");c=c.split("»").join("§gt;");c=c.split("&").join("§");c=c.split("¨").join("§quot;");e=e.split(a).join(c);return e}static createElement(e,t,i){if(t===undefined){t={};}if(i===undefined){i=document;}let n;try{let o=`<${e}`;Object.keys(t).forEach(e=>{o+=` ${e}="${iM.htmlEntities(t[e])}"`;});o+=">";n=i.createElement(o);}catch(o){n=i.createElement(e);Object.keys(t).forEach(e=>{n.setAttribute(e,t[e]);});}return n}static createObject(e,t){if(t===undefined){t=document;}e=e.split("<applet ").join('<span wirisObject="WirisApplet" ').split("<APPLET ").join('<span wirisObject="WirisApplet" ');e=e.split("</applet>").join("</span>").split("</APPLET>").join("</span>");e=e.split("<param ").join('<br wirisObject="WirisParam" ').split("<PARAM ").join('<br wirisObject="WirisParam" ');e=e.split("</param>").join("</br>").split("</PARAM>").join("</br>");const i=iM.createElement("div",{},t);i.innerHTML=e;function n(e){if(e.getAttribute&&e.getAttribute("wirisObject")==="WirisParam"){const i={};for(let t=0;t<e.attributes.length;t+=1){if(e.attributes[t].nodeValue!==null){i[e.attributes[t].nodeName]=e.attributes[t].nodeValue;}}const n=iM.createElement("param",i,t);if(n.NAME){n.name=n.NAME;n.value=n.VALUE;}n.removeAttribute("wirisObject");e.parentNode.replaceChild(n,e);}else if(e.getAttribute&&e.getAttribute("wirisObject")==="WirisApplet"){const i={};for(let t=0;t<e.attributes.length;t+=1){if(e.attributes[t].nodeValue!==null){i[e.attributes[t].nodeName]=e.attributes[t].nodeValue;}}const o=iM.createElement("applet",i,t);o.removeAttribute("wirisObject");for(let t=0;t<e.childNodes.length;t+=1){n(e.childNodes[t]);if(e.childNodes[t].nodeName.toLowerCase()==="param"){o.appendChild(e.childNodes[t]);t-=1;}}e.parentNode.replaceChild(o,e);}else {for(let t=0;t<e.childNodes.length;t+=1){n(e.childNodes[t]);}}}n(i);return i.firstChild}static createObjectCode(e){if(typeof e==="undefined"||e===null){return null}if(e.nodeType===1){let t=`<${e.tagName}`;for(let i=0;i<e.attributes.length;i+=1){if(e.attributes[i].specified){t+=` ${e.attributes[i].name}="${iM.htmlEntities(e.attributes[i].value)}"`;}}if(e.childNodes.length>0){t+=">";for(let i=0;i<e.childNodes.length;i+=1){t+=iM.createObject(e.childNodes[i]);}t+=`</${e.tagName}>`;}else if(e.nodeName==="DIV"||e.nodeName==="SCRIPT"){t+=`></${e.tagName}>`;}else {t+="/>";}return t}if(e.nodeType===3){return iM.htmlEntities(e.nodeValue)}return ""}static concatenateUrl(e,t){let i="";if(e.indexOf("/")!==e.length&&t.indexOf("/")!==0){i="/";}return (e+i+t).replace(/([^:]\/)\/+/g,"$1")}static htmlEntities(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")}static htmlEntitiesDecode(e){const t=document.createElement("textarea");t.innerHTML=e;return t.value}static createHttpRequest(){const e=window.location.toString().substr(0,window.location.toString().lastIndexOf("/")+1);if(e.substr(0,7)==="file://"){throw tM.get("exception_cross_site")}if(typeof XMLHttpRequest!=="undefined"){return new XMLHttpRequest}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}}static httpBuildQuery(e){let t="";Object.keys(e).forEach(i=>{if(e[i]!=null){t+=`${iM.urlEncode(i)}=${iM.urlEncode(e[i])}&`;}});if(t.substring(t.length-1)==="&"){t=t.substring(0,t.length-1);}return t}static propertiesToString(e){const t=[];Object.keys(e).forEach(i=>{if(Object.prototype.hasOwnProperty.call(e,i)){t.push(i);}});const i=t.length;for(let e=0;e<i;e+=1){for(let n=e+1;n<i;n+=1){const i=t[e];const o=t[n];if(iM.compareStrings(i,o)>0){t[e]=o;t[n]=i;}}}let n="";for(let o=0;o<i;o+=1){const i=t[o];n+=i;n+="=";let s=e[i];s=s.replace("\\","\\\\");s=s.replace("\n","\\n");s=s.replace("\r","\\r");s=s.replace("\t","\\t");n+=s;n+="\n";}return n}static compareStrings(e,t){let i;const n=e.length;const o=t.length;const s=n>o?o:n;for(i=0;i<s;i+=1){const n=iM.fixedCharCodeAt(e,i)-iM.fixedCharCodeAt(t,i);if(n!==0){return n}}return e.length-t.length}static fixedCharCodeAt(e,t){t=t||0;const i=e.charCodeAt(t);let n;let o;if(i>=55296&&i<=56319){n=i;o=e.charCodeAt(t+1);if(Number.isNaN(o)){throw tM.get("exception_high_surrogate")}return (n-55296)*1024+(o-56320)+65536}if(i>=56320&&i<=57343){return false}return i}static urlToAssArray(e){let t;t=e.indexOf("?");if(t>0){const i=e.substring(t+1);const n=i.split("&");const o={};for(t=0;t<n.length;t+=1){const e=n[t];const i=e.split("=");if(i.length>1){o[i[0]]=decodeURIComponent(i[1].replace(/\+/g," "));}}return o}return {}}static urlEncode(e){let t="";t=encodeURIComponent(e);return t}static getWIRISImageOutput(e,t,i){const n=iM.createObject(e);if(n){if(n.className===GT.get("imageClassName")||n.getAttribute(GT.get("imageMathmlAttribute"))){if(!t){return e}const o=n.getAttribute(GT.get("imageMathmlAttribute"));let s=JT.safeXmlDecode(o);if(!GT.get("saveHandTraces")){s=JT.removeAnnotation(s,"application/json");}if(s==null){s=n.getAttribute("alt");}if(i){const e=JT.safeXmlEncode(s);return e}return s}}return e}static getNodeLength(e){const t={IMG:1,BR:1};if(e.nodeType===3){return e.nodeValue.length}if(e.nodeType===1){let i=t[e.nodeName.toUpperCase()];if(i===undefined){i=0;}for(let t=0;t<e.childNodes.length;t+=1){i+=iM.getNodeLength(e.childNodes[t]);}return i}return 0}static getSelectedItem(e,t,i){let n;if(t){n=e.contentWindow;n.focus();}else {n=window;e.focus();}if(document.selection&&!i){const i=n.document.selection.createRange();if(i.parentElement){if(i.htmlText.length>0){if(i.text.length===0){return iM.getSelectedItem(e,t,true)}return null}n.document.execCommand("InsertImage",false,"#");let o=i.parentElement();if(o.nodeName.toUpperCase()!=="IMG"){i.pasteHTML('<span id="wrs_openEditorWindow_temporalObject"></span>');o=n.document.getElementById("wrs_openEditorWindow_temporalObject");}let s;let r;if(o.nextSibling&&o.nextSibling.nodeType===3){s=o.nextSibling;r=0;}else if(o.previousSibling&&o.previousSibling.nodeType===3){s=o.previousSibling;r=s.nodeValue.length;}else {s=n.document.createTextNode("");o.parentNode.insertBefore(s,o);r=0;}o.parentNode.removeChild(o);return {node:s,caretPosition:r}}if(i.length>1){return null}return {node:i.item(0)}}if(n.getSelection){let e;const t=n.getSelection();try{e=t.getRangeAt(0);}catch(t){e=n.document.createRange();}const i=e.startContainer;if(i.nodeType===3){return {node:i,caretPosition:e.startOffset}}if(i!==e.endContainer){return null}if(i.nodeType===1){const t=e.startOffset;if(i.childNodes[t]){return {node:i.childNodes[t]}}}}return null}static getSelectedItemOnTextarea(e){const t=document.createTextNode(e.value);const i=ZT.getLatexFromTextNode(t,e.selectionStart);if(i===null){return null}return {node:t,caretPosition:e.selectionStart,startPosition:i.startPosition,endPosition:i.endPosition}}static getElementsByNameFromString(e,t,i){const n=[];e=e.toLowerCase();t=t.toLowerCase();let o=e.indexOf(`<${t} `);while(o!==-1){let s;if(i){s=">";}else {s=`</${t}>`;}let r=e.indexOf(s,o);if(r!==-1){r+=s.length;n.push({start:o,end:r});}else {r=o+1;}o=e.indexOf(`<${t} `,r);}return n}static decode64(e){const t="+".charCodeAt(0);const i="/".charCodeAt(0);const n="0".charCodeAt(0);const o="a".charCodeAt(0);const s="A".charCodeAt(0);const r="-".charCodeAt(0);const a="_".charCodeAt(0);const c=e.charCodeAt(0);if(c===t||c===r){return 62}if(c===i||c===a){return 63}if(c<n){return -1}if(c<n+10){return c-n+26+26}if(c<s+26){return c-s}if(c<o+26){return c-o+26}return null}static b64ToByteArray(e,t){let i;if(e.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}const n=[];let o;let s;if(!t){if(e.charAt(e.length-2)==="="){s=2;}else if(e.charAt(e.length-1)==="="){s=1;}else {s=0;}o=s>0?e.length-4:e.length;}else {o=t;}let r;for(r=0;r<o;r+=4){i=iM.decode64(e.charAt(r))<<18|iM.decode64(e.charAt(r+1))<<12|iM.decode64(e.charAt(r+2))<<6|iM.decode64(e.charAt(r+3));n.push(i>>16&255);n.push(i>>8&255);n.push(i&255);}if(s){if(s===2){i=iM.decode64(e.charAt(r))<<2|iM.decode64(e.charAt(r+1))>>4;n.push(i&255);}else if(s===1){i=iM.decode64(e.charAt(r))<<10|iM.decode64(e.charAt(r+1))<<4|iM.decode64(e.charAt(r+2))>>2;n.push(i>>8&255);n.push(i&255);}}return n}static readInt32(e){if(e.length<4){return false}const t=e.splice(0,4);return t[0]<<24|t[1]<<16|t[2]<<8|t[3]<<0}static readByte(e){return e.shift()<<0}static readBytes(e,t,i){return e.splice(t,i)}static updateTextArea(e,t){if(e&&t){e.focus();if(e.selectionStart!=null){const{selectionEnd:i}=e;const n=e.value.substring(0,e.selectionStart);const o=e.value.substring(i,e.value.length);e.value=n+t+o;e.selectionEnd=i+t.length;}else {const e=document.selection.createRange();e.text=t;}}}static updateExistingTextOnTextarea(e,t,i,n){e.focus();const o=e.value.substring(0,i);e.value=o+t+e.value.substring(n,e.value.length);e.selectionEnd=i+t.length;}static addArgument(e,t,i){let n;if(e.indexOf("?")>0){n="&";}else {n="?";}return `${e+n+t}=${i}`}}class nM{static removeImgDataAttributes(e){const t=[];const{attributes:i}=e;Object.keys(i).forEach(e=>{const n=i[e];if(n.name.indexOf("data-")===0){t.push(n.name);}});t.forEach(t=>{e.removeAttribute(t);});}static clone(e,t){const i=GT.get("imageCustomEditorName");if(!e.hasAttribute(i)){t.removeAttribute(i);}const n=GT.get("imageMathmlAttribute");const o=[n,i,"alt","height","width","style","src","role"];o.forEach(i=>{const n=e.getAttribute(i);if(n){t.setAttribute(i,n);}});}static setImgSize(e,t,i){let n;let o;let s;let r;if(i){if(GT.get("imageFormat")==="svg"){if(GT.get("saveMode")!=="base64"){n=nM.getMetricsFromSvgString(t);}else {o=e.src.substr(e.src.indexOf("base64,")+7,e.src.length);r="";s=iM.b64ToByteArray(o,o.length);for(let e=0;e<s.length;e+=1){r+=String.fromCharCode(s[e]);}n=nM.getMetricsFromSvgString(r);}}else {o=e.src.substr(e.src.indexOf("base64,")+7,e.src.length);s=iM.b64ToByteArray(o,88);n=nM.getMetricsFromBytes(s);}}else {n=iM.urlToAssArray(t);}let a=n.cw;if(!a){return}let c=n.ch;let l=n.cb;const{dpi:d}=n;if(d){a=a*96/d;c=c*96/d;l=l*96/d;}e.width=a;e.height=c;e.style.verticalAlign=`-${c-l}px`;}static fixAfterResize(e){e.removeAttribute("style");e.removeAttribute("width");e.removeAttribute("height");e.style.maxWidth="none";if(e.src.indexOf("data:image")!==-1){if(GT.get("imageFormat")==="svg"){const t=decodeURIComponent(e.src.substring(32,e.src.length));nM.setImgSize(e,t,true);}else {const t=e.src.substring(22,e.src.length);nM.setImgSize(e,t,true);}}else {nM.setImgSize(e,e.src);}}static getMetricsFromSvgString(e){let t=e.indexOf('height="');let i=e.indexOf('"',t+8,e.length);const n=e.substring(t+8,i);t=e.indexOf('width="');i=e.indexOf('"',t+7,e.length);const o=e.substring(t+7,i);t=e.indexOf('wrs:baseline="');i=e.indexOf('"',t+14,e.length);const s=e.substring(t+14,i);if(typeof o!=="undefined"){const e=[];e.cw=o;e.ch=n;if(typeof s!=="undefined"){e.cb=s;}return e}return []}static getMetricsFromBytes(e){iM.readBytes(e,0,8);let t;let i;let n;let o;let s;while(e.length>=4){n=iM.readInt32(e);if(n===1229472850){t=iM.readInt32(e);i=iM.readInt32(e);iM.readInt32(e);iM.readByte(e);}else if(n===1650545477){o=iM.readInt32(e);}else if(n===1883789683){s=iM.readInt32(e);s=Math.round(s/39.37);iM.readInt32(e);iM.readByte(e);}iM.readInt32(e);}if(typeof t!=="undefined"){const e=[];e.cw=t;e.ch=i;e.dpi=s;if(o){e.cb=o;}return e}return []}}class oM{static get cache(){return oM._cache}static set cache(e){oM._cache=e;}static mathMLToAccessible(e,t,i){if(typeof t==="undefined"){t="en";}if(JT.containClass(e,"wrs_chemistry")){i.mode="chemistry";}let n="";if(oM.cache.get(e)){n=oM.cache.get(e);}else {i.service="mathml2accessible";i.lang=t;const o=JSON.parse(KT.getService("service",i));if(o.status!=="error"){n=o.result.text;oM.cache.populate(e,n);}else {n=tM.get("error_convert_accessibility");}}return n}}oM._cache=new QT;var sM=i(85);class rM{static mathmlToImgObject(e,t,i,n){const o=e.createElement("img");o.align="middle";o.style.maxWidth="none";const s=i||{};s.mml=t;s.lang=n;s.metrics="true";s.centerbaseline="false";if(GT.get("saveMode")==="base64"&&GT.get("base64savemode")==="default"){s.base64=true;}o.className=GT.get("imageClassName");if(t.indexOf('class="')!==-1){let e=t.substring(t.indexOf('class="')+'class="'.length,t.length);e=e.substring(0,e.indexOf('"'));e=e.substring(4,e.length);o.setAttribute(GT.get("imageCustomEditorName"),e);}if(GT.get("wirisPluginPerformance")&&(GT.get("saveMode")==="xml"||GT.get("saveMode")==="safeXml")){let e=JSON.parse(rM.createShowImageSrc(s,n));if(e.status==="warning"){try{e=JSON.parse(KT.getService("showimage",s));}catch(e){return null}}({result:e}=e);if(e.format==="png"){o.src=`data:image/png;base64,${e.content}`;}else {o.src=`data:image/svg+xml;charset=utf8,${iM.urlEncode(e.content)}`;}o.setAttribute(GT.get("imageMathmlAttribute"),JT.safeXmlEncode(t));nM.setImgSize(o,e.content,true);if(GT.get("enableAccessibility")){if(typeof e.alt==="undefined"){o.alt=oM.mathMLToAccessible(t,n,s);}else {o.alt=e.alt;}}}else {const e=rM.createImageSrc(t,s);o.setAttribute(GT.get("imageMathmlAttribute"),JT.safeXmlEncode(t));o.src=e;nM.setImgSize(o,e,GT.get("saveMode")==="base64"&&GT.get("base64savemode")==="default");if(GT.get("enableAccessibility")){o.alt=oM.mathMLToAccessible(t,n,s);}}if(typeof rM.observer!=="undefined"){rM.observer.observe(o);}o.setAttribute("role","math");return o}static createImageSrc(e,t){if(GT.get("saveMode")==="base64"&&GT.get("base64savemode")==="default"){t.base64=true;}let i=KT.getService("createimage",t);if(i.indexOf("@BASE@")!==-1){const e=KT.getServicePath("createimage").split("/");e.pop();i=i.split("@BASE@").join(e.join("/"));}return i}static initParse(e,t){e=rM.initParseSaveMode(e,t);return rM.initParseEditMode(e)}static initParseSaveMode(e,t){if(GT.get("saveMode")){e=ZT.parseMathmlToLatex(e,YT.safeXmlCharacters);e=ZT.parseMathmlToLatex(e,YT.xmlCharacters);e=rM.parseMathmlToImg(e,YT.safeXmlCharacters,t);e=rM.parseMathmlToImg(e,YT.xmlCharacters,t);if(GT.get("saveMode")==="base64"&&GT.get("base64savemode")==="image"){e=rM.codeImgTransform(e,"base642showimage");}}return e}static initParseEditMode(e){if(GT.get("parseModes").indexOf("latex")!==-1){const t=iM.getElementsByNameFromString(e,"img",true);const i='encoding="LaTeX">';let n=0;for(let o=0;o<t.length;o+=1){const s=e.substring(t[o].start+n,t[o].end+n);if(s.indexOf(` class="${GT.get("imageClassName")}"`)!==-1){let r=` ${GT.get("imageMathmlAttribute")}="`;let a=s.indexOf(r);if(a===-1){r=' alt="';a=s.indexOf(r);}if(a!==-1){a+=r.length;const c=s.indexOf('"',a);const l=JT.safeXmlDecode(s.substring(a,c));let d=l.indexOf(i);if(d!==-1){d+=i.length;const s=l.indexOf("</annotation>",d);const r=l.substring(d,s);const a=`$$${iM.htmlEntitiesDecode(r)}$$`;const c=e.substring(0,t[o].start+n);const u=e.substring(t[o].end+n);e=c+a+u;n+=a.length-(t[o].end-t[o].start);}}}}}return e}static endParse(e){const t=rM.endParseEditMode(e);const i=rM.endParseSaveMode(t);return i}static endParseEditMode(e){if(GT.get("parseModes").indexOf("latex")!==-1){let t="";let i=0;let n=e.indexOf("$$");while(n!==-1){t+=e.substring(i,n);i=e.indexOf("$$",n+2);if(i!==-1){const o=e.substring(n+2,i);const s=iM.htmlEntitiesDecode(o);let r=ZT.getMathMLFromLatex(s,true);if(!GT.get("saveHandTraces")){r=JT.removeAnnotation(r,"application/json");}t+=r;i+=2;}else {t+="$$";i=n+2;}n=e.indexOf("$$",i);}t+=e.substring(i,e.length);e=t;}return e}static endParseSaveMode(e){if(GT.get("saveMode")){if(GT.get("saveMode")==="safeXml"){e=rM.codeImgTransform(e,"img2mathml");}else if(GT.get("saveMode")==="xml"){e=rM.codeImgTransform(e,"img2mathml");}else if(GT.get("saveMode")==="base64"&&GT.get("base64savemode")==="image"){e=rM.codeImgTransform(e,"img264");}}return e}static createShowImageSrc(e,t){const i=[];const n=["mml","color","centerbaseline","zoom","dpi","fontSize","fontFamily","defaultStretchy","backgroundColor","format"];n.forEach(t=>{const o=n[t];if(typeof e[o]!=="undefined"){i[o]=e[o];}});const o={};Object.keys(e).forEach(t=>{if(t!=="mml"){o[t]=e[t];}});o.formula=com.wiris.js.JsPluginTools.md5encode(iM.propertiesToString(i));o.lang=typeof t==="undefined"?"en":t;o.version=GT.get("version");const s=KT.getService("showimage",iM.httpBuildQuery(o),true);return s}static codeImgTransform(e,t){let i="";let n=0;const o=/<img/gi;const s=o.source.length;while(o.test(e)){const r=o.lastIndex-s;i+=e.substring(n,r);let a=r+1;while(a<e.length&&n<=r){const t=e.charAt(a);if(t==='"'||t==="'"){const i=e.indexOf(t,a+1);if(i===-1){a=e.length;}else {a=i;}}else if(t===">"){n=a+1;}a+=1;}if(n<r){i+=e.substring(r,e.length);return i}let c=e.substring(r,n);const l=iM.createObject(c);let d=l.getAttribute(GT.get("imageMathmlAttribute"));let u;let h;if(t==="base642showimage"){if(d==null){d=l.getAttribute("alt");}d=JT.safeXmlDecode(d);c=rM.mathmlToImgObject(document,d,null,null);i+=iM.createObjectCode(c);}else if(t==="img2mathml"){if(GT.get("saveMode")){if(GT.get("saveMode")==="safeXml"){u=true;h=true;}else if(GT.get("saveMode")==="xml"){u=true;h=false;}}i+=iM.getWIRISImageOutput(c,u,h);}else if(t==="img264"){if(d===null){d=l.getAttribute("alt");}d=JT.safeXmlDecode(d);const e={};e.base64="true";c=rM.mathmlToImgObject(document,d,e,null);nM.setImgSize(c,c.src,true);i+=iM.createObjectCode(c);}}i+=e.substring(n,e.length);return i}static parseMathmlToImg(e,t,i){let n="";const o=`${t.tagOpener}math`;const s=`${t.tagOpener}/math${t.tagCloser}`;let r=e.indexOf(o);let a=0;while(r!==-1){n+=e.substring(a,r);const c=e.indexOf(GT.get("imageMathmlAttribute"));a=e.indexOf(s,r);if(a===-1){a=e.length-1;}else if(c!==-1){a+=e.indexOf("/>",r);}else {a+=s.length;}if(!JT.isMathmlInAttribute(e,r)&&c===-1){let o=e.substring(r,a);o=t.id===YT.safeXmlCharacters.id?JT.safeXmlDecode(o):JT.mathMLEntities(o);n+=iM.createObjectCode(rM.mathmlToImgObject(document,o,null,i));}else {n+=e.substring(r,a);}r=e.indexOf(o,a);}n+=e.substring(a,e.length);return n}}if(typeof MutationObserver!=="undefined"){const e=new MutationObserver(e=>{e.forEach(e=>{if(e.oldValue===GT.get("imageClassName")&&e.attributeName==="class"&&e.target.className.indexOf(GT.get("imageClassName"))===-1){e.target.className=GT.get("imageClassName");}});});rM.observer=Object.create(e);rM.observer.Config={attributes:true,attributeOldValue:true};rM.observer.observe=function e(t){Object.getPrototypeOf(this).observe(t,this.Config);};}class aM{constructor(){this.isContentChanged=false;this.waitingForChanges=false;}setIsContentChanged(e){this.isContentChanged=e;}getIsContentChanged(){return this.isContentChanged}setWaitingForChanges(e){this.waitingForChanges=e;}caretPositionChanged(e){}clipboardChanged(e){}contentChanged(e){if(this.waitingForChanges===true&&this.isContentChanged===false){this.isContentChanged=true;}}styleChanged(e){}transformationReceived(e){}}class cM{constructor(e){this.editorAttributes={};if("editorAttributes"in e){this.editorAttributes=e.editorAttributes;}else {throw new Error("ContentManager constructor error: editorAttributes property missed.")}this.customEditors=null;if("customEditors"in e){this.customEditors=e.customEditors;}this.environment={};if("environment"in e){this.environment=e.environment;}else {throw new Error("ContentManager constructor error: environment property missed")}this.language="";if("language"in e){this.language=e.language;}else {throw new Error("ContentManager constructor error: language property missed")}this.editorListener=new aM;this.editor=null;this.ua=navigator.userAgent.toLowerCase();this.deviceProperties={};this.deviceProperties.isAndroid=this.ua.indexOf("android")>-1;this.deviceProperties.isIOS=this.ua.indexOf("ipad")>-1||this.ua.indexOf("iphone")>-1;this.toolbar=null;this.modalDialogInstance=null;this.listeners=new XT;this.mathML=null;this.isNewElement=true;this.integrationModel=null;}addListener(e){this.listeners.add(e);}setIntegrationModel(e){this.integrationModel=e;}setModalDialogInstance(e){this.modalDialogInstance=e;}insert(){this.updateTitle(this.modalDialogInstance);this.insertEditor(this.modalDialogInstance);}insertEditor(){if(cM.isEditorLoaded()){this.editor=window.com.wiris.jsEditor.JsEditor.newInstance(this.editorAttributes);this.editor.insertInto(this.modalDialogInstance.contentContainer);this.editor.focus();if(this.modalDialogInstance.rtl){this.editor.action("rtl");}if(this.editor.getEditorModel().isRTL()){this.editor.element.style.direction="rtl";}this.editor.getEditorModel().addEditorListener(this.editorListener);if(this.modalDialogInstance.deviceProperties.isIOS){setTimeout((function e(){this.modalDialogInstance.hideKeyboard();}),400);const e=document.getElementsByClassName("wrs_formulaDisplay")[0];iM.addEvent(e,"focus",this.modalDialogInstance.handleOpenedIosSoftkeyboard);iM.addEvent(e,"blur",this.modalDialogInstance.handleClosedIosSoftkeyboard);}this.listeners.fire("onLoad",{});}else {setTimeout(cM.prototype.insertEditor.bind(this),100);}}init(){if(!cM.isEditorLoaded()){this.addEditorAsExternalDependency();}}addEditorAsExternalDependency(){const e=document.createElement("script");e.type="text/javascript";let t=GT.get("editorUrl");const i=document.createElement("a");cM.setHrefToAnchorElement(i,t);cM.setProtocolToAnchorElement(i);t=cM.getURLFromAnchorElement(i);const n=this.getEditorStats();e.src=`${t}?lang=${this.language}&stats-editor=${n.editor}&stats-mode=${n.mode}&stats-version=${n.version}`;document.getElementsByTagName("head")[0].appendChild(e);}static setHrefToAnchorElement(e,t){e.href=t;}static setProtocolToAnchorElement(e){if(window.location.href.indexOf("https://")===0){if(e.protocol==="http:"){e.protocol="https:";}}}static getURLFromAnchorElement(e){if(e.port==="80"||e.port==="443"||e.port===""){return `${e.protocol}//${e.hostname}/${e.pathname}`}}getEditorStats(){const e={};if("editor"in this.environment){e.editor=this.environment.editor;}else {e.editor="unknown";}if("mode"in this.environment){e.mode=this.environment.mode;}else {e.mode=GT.get("saveMode");}if("version"in this.environment){e.version=this.environment.version;}else {e.version=GT.get("version");}return e}static isEditorLoaded(){return window.com&&window.com.wiris&&window.com.wiris.jsEditor&&window.com.wiris.jsEditor.JsEditor&&window.com.wiris.jsEditor.JsEditor.newInstance}setInitialContent(){if(!this.isNewElement){this.setMathML(this.mathML);}}setMathML(e,t){if(typeof t==="undefined"){t=false;}this.editor.setMathMLWithCallback(e,()=>{this.editorListener.setWaitingForChanges(true);});setTimeout(()=>{this.editorListener.setIsContentChanged(false);},500);if(!t){this.onFocus();}}onFocus(){if(typeof this.editor!=="undefined"&&this.editor!=null){this.editor.focus();}}submitAction(){if(!this.editor.isFormulaEmpty()){let e=this.editor.getMathMLWithSemantics();if(this.customEditors.getActiveEditor()!==null){const{toolbar:t}=this.customEditors.getActiveEditor();e=JT.addCustomEditorClassAttribute(e,t);}else {Object.keys(this.customEditors.editors).forEach(t=>{e=JT.removeCustomEditorClassAttribute(e,t);});}const t=JT.mathMLEntities(e);this.integrationModel.updateFormula(t);}else {this.integrationModel.updateFormula(null);}this.customEditors.disable();this.integrationModel.notifyWindowClosed();this.setEmptyMathML();this.customEditors.disable();}setEmptyMathML(){if(this.deviceProperties.isAndroid||this.deviceProperties.isIOS){if(this.editor.getEditorModel().isRTL()){this.setMathML('<math dir="rtl"><semantics><annotation encoding="application/json">[]</annotation></semantics></math>',true);}else {this.setMathML('<math><semantics><annotation encoding="application/json">[]</annotation></semantics></math>',true);}}else if(this.editor.getEditorModel().isRTL()){this.setMathML('<math dir="rtl"/>',true);}else {this.setMathML("<math/>",true);}}onOpen(){if(this.isNewElement){this.setEmptyMathML();}else {this.setMathML(this.mathML);}this.updateToolbar();this.onFocus();}updateToolbar(){this.updateTitle(this.modalDialogInstance);const e=this.customEditors.getActiveEditor();if(e){const t=e.toolbar?e.toolbar:_wrs_int_wirisProperties.toolbar;if(this.toolbar==null||this.toolbar!==t){this.setToolbar(t);}}else {const e=this.getToolbar();if(this.toolbar==null||this.toolbar!==e){this.setToolbar(e);this.customEditors.disable();}}}updateTitle(){const e=this.customEditors.getActiveEditor();if(e){this.modalDialogInstance.setTitle(e.title);}else {this.modalDialogInstance.setTitle("MathType");}}getToolbar(){let e="general";if("toolbar"in this.editorAttributes){({toolbar:e}=this.editorAttributes);}if(e==="general"){e=typeof _wrs_int_wirisProperties==="undefined"||typeof _wrs_int_wirisProperties.toolbar==="undefined"?"general":_wrs_int_wirisProperties.toolbar;}return e}setToolbar(e){this.toolbar=e;this.editor.setParams({toolbar:this.toolbar});}hasChanges(){return !this.editor.isFormulaEmpty()&&this.editorListener.getIsContentChanged()}onKeyDown(e){if(e.key!==undefined&&e.repeat===false){if(e.key==="Escape"||e.key==="Esc"){let t=document.getElementsByClassName("wrs_expandButton wrs_expandButtonFor3RowsLayout wrs_pressed");if(t.length===0){t=document.getElementsByClassName("wrs_expandButton wrs_expandButtonFor2RowsLayout wrs_pressed");if(t.length===0){t=document.getElementsByClassName("wrs_select wrs_pressed");if(t.length===0){this.modalDialogInstance.cancelAction();e.stopPropagation();e.preventDefault();}}}}else if(e.shiftKey&&e.key==="Tab"){if(document.activeElement===this.modalDialogInstance.submitButton){this.editor.focus();e.stopPropagation();e.preventDefault();}else {const t=document.querySelector('[title="Manual"]');if(document.activeElement===t){this.modalDialogInstance.cancelButton.focus();e.stopPropagation();e.preventDefault();}}}else if(e.key==="Tab"){if(document.activeElement===this.modalDialogInstance.cancelButton){const t=document.querySelector('[title="Manual"]');t.focus();e.stopPropagation();e.preventDefault();}else {const t=document.getElementsByClassName("wrs_formulaDisplay")[0];if(t.getAttribute("class")==="wrs_formulaDisplay wrs_focused"){this.modalDialogInstance.submitButton.focus();e.stopPropagation();e.preventDefault();}}}}}}class lM{constructor(){this.editors=[];this.activeEditor="default";}addEditor(e,t){const i={};i.name=t.name;i.toolbar=t.toolbar;i.icon=t.icon;i.confVariable=t.confVariable;i.title=t.title;i.tooltip=t.tooltip;this.editors[e]=i;}enable(e){this.activeEditor=e;}disable(){this.activeEditor="default";}getActiveEditor(){if(this.activeEditor!=="default"){return this.editors[this.activeEditor]}return null}}const dM={imageCustomEditorName:"data-custom-editor",imageClassName:"Wirisformula",CASClassName:"Wiriscas"};var uM=dM;class hM{constructor(){this.cancelled=false;this.defaultPrevented=false;}cancel(){this.cancelled=true;}preventDefault(){this.defaultPrevented=true;}}class fM{constructor(e){this.overlayElement=e.overlayElement;this.callbacks=e.callbacks;this.overlayWrapper=this.overlayElement.appendChild(document.createElement("div"));this.overlayWrapper.setAttribute("class","wrs_popupmessage_overlay_envolture");this.message=this.overlayWrapper.appendChild(document.createElement("div"));this.message.id="wrs_popupmessage";this.message.setAttribute("class","wrs_popupmessage_panel");this.message.setAttribute("role","dialog");this.message.setAttribute("aria-describedby","description_txt");const t=document.createElement("p");const i=document.createTextNode(e.strings.message);t.appendChild(i);t.id="description_txt";this.message.appendChild(t);const n=this.overlayWrapper.appendChild(document.createElement("div"));n.setAttribute("class","wrs_popupmessage_overlay");n.addEventListener("click",this.cancelAction.bind(this));this.buttonArea=this.message.appendChild(document.createElement("div"));this.buttonArea.setAttribute("class","wrs_popupmessage_button_area");this.buttonArea.id="wrs_popup_button_area";const o={class:"wrs_button_accept",innerHTML:e.strings.submitString,id:"wrs_popup_accept_button"};this.closeButton=this.createButton(o,this.closeAction.bind(this));this.buttonArea.appendChild(this.closeButton);const s={class:"wrs_button_cancel",innerHTML:e.strings.cancelString,id:"wrs_popup_cancel_button"};this.cancelButton=this.createButton(s,this.cancelAction.bind(this));this.buttonArea.appendChild(this.cancelButton);}createButton(e,t){let i={};i=document.createElement("button");i.setAttribute("id",e.id);i.setAttribute("class",e.class);i.innerHTML=e.innerHTML;i.addEventListener("click",t);return i}show(){if(this.overlayWrapper.style.display!=="block"){document.activeElement.blur();this.overlayWrapper.style.display="block";this.closeButton.focus();}else {this.overlayWrapper.style.display="none";_wrs_modalWindow.focus();}}cancelAction(){this.overlayWrapper.style.display="none";if(typeof this.callbacks.cancelCallback!=="undefined"){this.callbacks.cancelCallback();}}closeAction(){this.cancelAction();if(typeof this.callbacks.closeCallback!=="undefined"){this.callbacks.closeCallback();}}onKeyDown(e){if(e.key!==undefined){if(e.key==="Escape"||e.key==="Esc"){this.cancelAction();e.stopPropagation();e.preventDefault();}else if(e.key==="Tab"){if(document.activeElement===this.closeButton){this.cancelButton.focus();}else {this.closeButton.focus();}e.stopPropagation();e.preventDefault();}}}}var mM='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg3783"\n   version="1.1">\n  <metadata\n     id="metadata3789">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3787" />\n  <image\n     y="0"\n     x="0"\n     id="image3791"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB\nvklEQVRYw83Z23GDMBAF0AsNhBIowSVQgjuISnAJKSEdZNOBS6CDOBUkqSC4gs2PyGhAQg92se4M\n4w8bccYW2hVumBmRdAB6ADfopQcw2SOYNoIkAL8APgB8AzgLI0/2S/iy1xkt3B9m9h0dM9/YHxM4\nJ/c4MfPkGX+y763OyYVKgUPQTXAJdC84Bg2CS6Gl4FSoF7wHmgvOhbrgzsW+8L4YJegccrEj749R\ngs7ZXGdz8wbAeNbREcDTzrHvblEgBbAUFACuy6JALJeL0E/P9sbvmBnNojcgAM+oJ58AhrlnWM5Z\nA+C9RmiokakBvIJuNTLSc7hojqY0Mo8EB6Ep2CPBm9BU7BHgKDQHqwlOguZiNcDJ0JLe4FV4iaLY\nJjF16dLqnoob+EdDs8A1QJPBtUCTwDVBo+DaoJvgNvBIR6rDl9wirbA1QIPgVgl6VwHb+dAr7Jkk\nS/Pg3mCkVOslxxV9yBFqSqTA/3N2Utkzye3pftw5OxzQ5tHeddcdzGj3o4VgClUwowgtAVOs3BpF\naA6YUnsDowhNAVNu12UUoVtgCn2+ifxp1wO42Ner4KPR5dJ2tsse2ZLvTQxbVf4AmC2z7WnSvpIA\nAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';var gM='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg2"\n   version="1.1">\n  <metadata\n     id="metadata8">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs6" />\n  <image\n     y="0"\n     x="0"\n     id="image10"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB\n2ElEQVRYw9XZoXPCMBTH8S+5KfDzQ29606CH3/SmQTO96aGHHn/F0Himh8eDZSblQknSJH2F0DtE\nQw8+12vyfulr7XY7LuW4qvj+DugD18AC+AE2woa+/mz07y9cF7Y8d7YPDEtjK2AsCB4BvdLYHPi0\nXawioAA3wAfQaQiKHhuFYl1QSbAL6gWrSKgEuArqBKsEaB1wKNQKVsasHybcpRhwLNQED0zsoMbz\nFwJOhWL6Cmzd2e0D14Wi1/k9di2wFNnAEtBifd9jv4GtIPgaeBOCAkzLFayr/6idWSSY6DJ8sHT9\n6VK6zRFqKwo5gQ+grnKbA/gI6gsy5wRboT7sucBOaBX21GAvNAR7KnAlNBTbNDgIGoMtwO/C0Gko\nNBZbN525tk+dJrAj4F4YGxXgVQS019DkCgarM0OjwCoDaDBYZQINAquMoJVglRnUC1YZQp1g1RB0\nJryn65jYJ0HoRGPHguDX8hsZ6VAiGX4eUrJBbHqSArdN7LLBmCcBnpvYWfHWo6E8Wge8Ar7Kj8E4\nARwcnBPBB20BE7uJBMdAU8BH/YvyBAsFp0BjwNZGi201qALXgYaAnR0hX2upAzwDj/p8raFL5I4u\n8ALc6vNfvc+ztq5al9Rh/AfwZZ/LmlMllAAAAABJRU5ErkJggg==\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';var pM='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg3793"\n   version="1.1">\n  <metadata\n     id="metadata3799">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3797" />\n  <image\n     y="0"\n     x="0"\n     id="image3801"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG4SURBVFhHvZnhUYNAEEbRBkwH2oGUkA40FWgJ\nKSEdaAmxA0vQDmIHKSFWgPuAHZkEAnd8y5v5kuNHMm+WY1mSm6qqCiGlZdUspXzxopY9Wu6bpZQf\nSxlRWapwVx9p2dy2CxUHy9ryWx9pKdWyECYcIQshwlGyIBeOlAWpcLQsyISXkAWEX5tlPkvJwnP7\nns1SsnvLS7PMZwlZiShEy8pEIVJWKgpRsnJRiJBNFf2wbCzjfZgRUZi9JYWDxT9bWk6WIXbKym4t\nKRVloObO5oze6ZClWX9a5jyOcOrfmuUkXPRUH/1zVRhZpvsnCxN+jnDqHh0SdQaFu9vg0ZIqrBZ1\neoXP92yKcJSocyHcd4FNEY4WdbrCR1rGrukMF9BWVhZvLZ7U9rS2nH9HVvoq63iFu+RUlOpIuCYL\nCCPIqVjq1A9j5R3aBnMY2kKzMlbZHPQVbVHLhomCUjZUFFSy35ZQUVDIMo+Gi4JCltFwERSy75Y5\n4+VkFLLcKHLHyyRUF1jOeJmMShbChZWy0Df8yFDLgg8/cpCN6I9cdHJhZHmy7X2anAnCtDUZ/j/Y\ng2X2j709MHhTDAFF8QdK9SRpUl2yFgAAAABJRU5ErkJggg==\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';var bM='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg12"\n   version="1.1">\n  <metadata\n     id="metadata18">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs16" />\n  <image\n     y="0"\n     x="0"\n     id="image20"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAGMSURBVFhHvdk7TsNAFIVhQ0l6elLDJqCGngXQ\nU7MA6rALahZATQ81C6APrXP/jEaKHD/i8TnzS1eaICF/2I4f4qxt20bYOmaVlrK2Mb8s1Nj3mIu0\nlPYZszlPa1kvMf9pKe02Zq3Gcrhc4JUaSzawA0sWsAtLcrATS1KwG0sycA0sAd6kZXm1sNzVHtOy\nvBpYoK8xV/tPC3JjZVByYqVQcmHlUHJgLVBSY0ugPP7xO5PXYSW2FMr19ytm8sahxD7ElEBzk3c6\nsFysn/afymKPvsXMueh3oblRMNibmPuYZ34wsyWHfqhB8OFpwKvDHLADmusFd8/ZU8FOaO4I3PcF\nmwLXgOYOwVtexdnwdUy3vg2UQPnD2eji+vZsrruHS/eoBEpjWMpgrhi1Dv1gY6fBkuRQmtqzJVmg\npMbaoKTEWqGkwtqhpMBWgZICWwVKCuwpzxKSFNi5T2vFqb5gVcAqLNnBSixZwWos2cBg/9JSmgUM\n9iMt5QFe8tZ8VP6n3WXMHQtxPzHfabm0ptkBwWhpthzMp7YAAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';var wM='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg3813"\n   version="1.1">\n  <metadata\n     id="metadata3819">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3817" />\n  <image\n     y="0"\n     x="0"\n     id="image3821"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\nnUlEQVRYw+3Z0QnCMBSF4T/FATqCG1g3cISO0NE6iiPoCE5gneD40ohPvgkJ/AcC9/EjHELgliT0\nkoGOIlasWLFixYoVK1asWLFixYoVK1bsjxy+5hlYgLEx47ofSEKSJW1nTUJJMgLPDlpwHoCpk8rO\nvgZixf4Zu3Vi3cq+WroBp4ahL+BYa3AB7o1CH7vvc7M1U4N/g2sdSk8bxjfDaMNdr+hmAQAAAABJ\nRU5ErkJggg==\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';var _M='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg32"\n   version="1.1">\n  <metadata\n     id="metadata38">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs36" />\n  <image\n     y="0"\n     x="0"\n     id="image40"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\npklEQVRYw+3ZLQ4CMRCG4bcbFOvXg99T7FG4BafAw1VALx7dWyy2mIoGgSOZJu/n6p70ZybppFIK\nvWSgo4gVK1asWLFixYoVK1asWLFixYoV+yO7r/UMHIAxiO8FZGBrsUfgDEwBN/QNXIA11S/PW1Bo\nCz4N9ein4Nd1Dyw9PbDR0iVW7J+xudax6HkOtZVdg0MfQE7N0G4GlmANYgNW4A6QepowfgDMXB26\nb1V6LAAAAABJRU5ErkJggg==\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';var vM='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg3823"\n   version="1.1">\n  <metadata\n     id="metadata3829">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3827" />\n  <image\n     y="0"\n     x="0"\n     id="image3831"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAHOSURBVFhH1ZiLUcMwEEQNDcQl0AEuISVABZhO\nUkroICVAB6ECoINQgdmVfR5FlmQrkZzjzezEzsc8NPqcdNd1XfVfuB9ec3NAmv4yiRo5ImzBlm+c\nwZYtEHJCGsT3eSgHxKZFxs/tL+aMkCK8R3yMwu4PcsVmiXBIVDDCvh/miEtMeE5UaEsNMJcN8o64\ng26PvPSXs9S+/zRHQtgtvLRFCb9blZpnYw/9Rb6RR3M3zxtiprFbyKYwipK1+uwlnIkSrbITUaJR\n1itKtMkGRYk2WRZAQbTNBpzWtggrrwnaWja00hk0DrCgsEZZ4hXWKksmwjLAHobkgOv+V3+ZhXHQ\niWxKqXYLKNyILDdqbPKlldASPhA+Mxc7uwatkSOSix1iP//q2APshLBvfJo7hbizgQj/mDtl+KYu\nCj8h7NSqCM2zXJvZwqqEY4uCOuGYLKEwJ3kVzMlyscg5915FTFbdqhaSVbn8+mTV1gmurOqCxpZN\nEeUu9BlZd1obioTkQ7IhPGTjYZuPIoUMK/GUFrX39asuHJTlH3w1d3FCBxCrCUufZX+NCUdPSsAq\nwu4A8wnPiQrFhW1Z4govFRWKCoeOjzjoZF92CdwpZy6AquoPvJRHJxB8bJ8AAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';var kM='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg42"\n   version="1.1">\n  <metadata\n     id="metadata48">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs46" />\n  <image\n     y="0"\n     x="0"\n     id="image50"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG/SURBVFhH1ZgxUsMwEEUNJRyAGmp6qKGn5xRQ\nQ08NNfRQQw11DpAaanIAWrMv8WaELSlexhLLm/mRnImiF48jr7zVtm3zX9ju2ik5llxLdpdHNg4k\nT5I7yWB8Cdl9yZHkRmIRRpQxOxK+YzC+hKwSnTBBKKoMxpeUBSbkksgRE1V+CJeWhUPJ5ao7ICeq\nrIVryMKJpC88RlTZk1SThVDYIvoluZIsSqyz511SfEg4UxbRdw5qnlmFa9AsCn8hO4aBKHiUjYqC\nN9mkKHiSzYqCJ9lPSVIUPMmySqTudEu8XbOxO90ab7KQFPYoC1Fhr7IwENbagMLCUtXnoCTM1QZW\n3iS3dFT2mRfHvEjuVfZUckFnQh67dgqo1GYqC1MLn3XtZIR/sFcJW2C39FcD18KxpcutcGqddSmc\nuykg/LDq+iAnC/OudUFOVrfLbkjJWvb11YjJuhSFvqxbUQhlXYuCylpE2YXy2SkLlVEgaxVluzyT\nIEutWQ1kKZYtouF2maK4mjCyFN6bJsw9gKgmrNdsbsKNT0qEKsIqC7EJx4gqxYVDWQgntIgqRYXD\nbY3CLpcVgmdPC974BYy3/MgRNM03hR9ubFTHT48AAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';var yM='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.44 13.76"\n   height="13.76"\n   width="13.44"\n   id="svg3803"\n   version="1.1">\n  <metadata\n     id="metadata3809">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3807" />\n  <image\n     y="0"\n     x="0"\n     id="image3811"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\nvElEQVRYw+3ZSw0CMRSF4b8T9iAFB4wDkDAWcICEkTA4GAeAA3AADurgsCkbAgsSMrmFczZNd1/a\n3vSVJFFDGipJNdBZaRdAB2wC2TIwAgNAkrQEjsA86GBegDZJGoF18JnfJtVR9idXvaGGGmrod/b6\nV9kD14k9LbD6FDqUM8CU2b2Deo0aaqihhhpqqKGGGhr1hH/wiP469FaBMzflEhc9PZKQ1CtmsqRO\nEunpHbeNNN3A+dFJ/mf6V+gduGPIoUgKLbAAAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.44" />\n</svg>\n';var xM='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.44 13.76"\n   height="13.76"\n   width="13.44"\n   id="svg22"\n   version="1.1">\n  <metadata\n     id="metadata28">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs26" />\n  <image\n     y="0"\n     x="0"\n     id="image30"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\nvUlEQVRYw+3ZsQ3CMBCF4d8WFekZgBqWIDUDZACmYBQWYIn0pGYAegZIexROERHRIBTdhXeVy08+\nyT4/JzMjQmWCVBjoarSugK0z3/0degKODjeyBy5Am8ysARrnnT8nM7sCa+fQLgdAAlQ6ngQVVFBB\nfzeUTK6t8VAwU328ztV6QQUVVFBBBRVUUEG9Ds41sJvZs/8GelDrlw7tAjhvmZLo9o6RD4bEGUp+\nX1My/I0T4HN4rrcASf9M/wp9ASNzIKYYz2hAAAAAAElFTkSuQmCC\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.44" />\n</svg>\n';class AM{constructor(e){this.attributes=e;const t=navigator.userAgent.toLowerCase();const i=t.indexOf("android")>-1;const n=t.indexOf("ipad")>-1||t.indexOf("iphone")>-1;this.iosSoftkeyboardOpened=false;this.iosMeasureUnit=t.indexOf("crios")===-1?"%":"vh";this.iosDivHeight=`100%${this.iosMeasureUnit}`;const o=window.outerWidth;const s=window.outerHeight;const r=o>s;const a=o<s;const c=r&&this.attributes.height>s;const l=a&&this.attributes.width>o;const d=c||l;this.instanceId=document.getElementsByClassName("wrs_modal_dialogContainer").length;this.deviceProperties={orientation:r?"landscape":"portait",isAndroid:i,isIOS:n,isMobile:d,isDesktop:!d&&!n&&!i};this.properties={created:false,state:"",previousState:"",position:{bottom:0,right:10},size:{height:338,width:580}};this.websiteBeforeLockParameters=null;let u={};u.class="wrs_modal_overlay";u.id=this.getElementId(u.class);this.overlay=iM.createElement("div",u);u={};u.class="wrs_modal_title_bar";u.id=this.getElementId(u.class);this.titleBar=iM.createElement("div",u);u={};u.class="wrs_modal_title";u.id=this.getElementId(u.class);this.title=iM.createElement("div",u);this.title.innerHTML="";u={};u.class="wrs_modal_close_button";u.id=this.getElementId(u.class);u.title=tM.get("close");u.style={};this.closeDiv=iM.createElement("a",u);this.closeDiv.setAttribute("role","button");let h=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(mM)})`;let f=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(gM)})`;this.closeDiv.setAttribute("style",h);this.closeDiv.setAttribute("onmouseover",`this.style = "${f}";`);this.closeDiv.setAttribute("onmouseout",`this.style = "${h}";`);u={};u.class="wrs_modal_stack_button";u.id=this.getElementId(u.class);u.title=tM.get("exit_fullscreen");this.stackDiv=iM.createElement("a",u);this.stackDiv.setAttribute("role","button");h=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(vM)})`;f=`background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa(kM)})`;this.stackDiv.setAttribute("style",h);this.stackDiv.setAttribute("onmouseover",`this.style = "${f}";`);this.stackDiv.setAttribute("onmouseout",`this.style = "${h}";`);u={};u.class="wrs_modal_maximize_button";u.id=this.getElementId(u.class);u.title=tM.get("fullscreen");this.maximizeDiv=iM.createElement("a",u);this.maximizeDiv.setAttribute("role","button");h=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(pM)})`;f=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(bM)})`;this.maximizeDiv.setAttribute("style",h);this.maximizeDiv.setAttribute("onmouseover",`this.style = "${f}";`);this.maximizeDiv.setAttribute("onmouseout",`this.style = "${h}";`);u={};u.class="wrs_modal_minimize_button";u.id=this.getElementId(u.class);u.title=tM.get("minimize");this.minimizeDiv=iM.createElement("a",u);this.minimizeDiv.setAttribute("role","button");h=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(wM)})`;f=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(_M)})`;this.minimizeDiv.setAttribute("style",h);this.minimizeDiv.setAttribute("onmouseover",`this.style = "${f}";`);this.minimizeDiv.setAttribute("onmouseout",`this.style = "${h}";`);u={};u.class="wrs_modal_dialogContainer";u.id=this.getElementId(u.class);u.role="dialog";this.container=iM.createElement("div",u);this.container.setAttribute("aria-labeledby","wrs_modal_title[0]");u={};u.class="wrs_modal_wrapper";u.id=this.getElementId(u.class);this.wrapper=iM.createElement("div",u);u={};u.class="wrs_content_container";u.id=this.getElementId(u.class);this.contentContainer=iM.createElement("div",u);u={};u.class="wrs_modal_controls";u.id=this.getElementId(u.class);this.controls=iM.createElement("div",u);u={};u.class="wrs_modal_buttons_container";u.id=this.getElementId(u.class);this.buttonContainer=iM.createElement("div",u);this.submitButton=this.createSubmitButton({id:this.getElementId("wrs_modal_button_accept"),class:"wrs_modal_button_accept",innerHTML:tM.get("accept")},this.submitAction.bind(this));this.cancelButton=this.createSubmitButton({id:this.getElementId("wrs_modal_button_cancel"),class:"wrs_modal_button_cancel",innerHTML:tM.get("cancel")},this.cancelAction.bind(this));this.contentManager=null;const m={cancelString:tM.get("cancel"),submitString:tM.get("close"),message:tM.get("close_modal_warning")};const g={closeCallback:()=>{this.close();},cancelCallback:()=>{this.focus();}};const p={overlayElement:this.container,callbacks:g,strings:m};this.popup=new fM(p);this.rtl=false;if("rtl"in this.attributes){this.rtl=this.attributes.rtl;}this.handleOpenedIosSoftkeyboard=this.handleOpenedIosSoftkeyboard.bind(this);this.handleClosedIosSoftkeyboard=this.handleClosedIosSoftkeyboard.bind(this);}setContentManager(e){this.contentManager=e;}getContentManager(){return this.contentManager}submitAction(){if(typeof this.contentManager.submitAction!=="undefined"){this.contentManager.submitAction();}this.close();}cancelAction(){if(typeof this.contentManager.hasChanges==="undefined"){this.close();}else if(!this.contentManager.hasChanges()){this.close();}else {this.showPopUpMessage();}}createSubmitButton(e,t){class i{constructor(){this.element=document.createElement("button");this.element.id=e.id;this.element.className=e.class;this.element.innerHTML=e.innerHTML;iM.addEvent(this.element,"click",t);}getElement(){return this.element}}return new i(e,t).getElement()}create(){this.titleBar.appendChild(this.closeDiv);this.titleBar.appendChild(this.stackDiv);this.titleBar.appendChild(this.maximizeDiv);this.titleBar.appendChild(this.minimizeDiv);this.titleBar.appendChild(this.title);if(this.deviceProperties.isDesktop){this.container.appendChild(this.titleBar);}this.wrapper.appendChild(this.contentContainer);this.wrapper.appendChild(this.controls);this.controls.appendChild(this.buttonContainer);this.buttonContainer.appendChild(this.submitButton);this.buttonContainer.appendChild(this.cancelButton);this.container.appendChild(this.wrapper);this.recalculateScrollBar();document.body.appendChild(this.container);document.body.appendChild(this.overlay);if(this.deviceProperties.isDesktop){this.createModalWindowDesktop();this.createResizeButtons();this.addListeners();if(GT.get("modalWindowFullScreen")){this.maximize();}}else if(this.deviceProperties.isAndroid){this.createModalWindowAndroid();}else if(this.deviceProperties.isIOS&&!this.deviceProperties.isMobile){this.createModalWindowIos();}if(this.contentManager!=null){this.contentManager.insert(this);}this.properties.open=true;this.properties.created=true;if(this.isRTL()){this.container.style.right=`${window.innerWidth-this.scrollbarWidth-this.container.offsetWidth}px`;this.container.className+=" wrs_modal_rtl";}}createResizeButtons(){this.resizerBR=document.createElement("div");this.resizerBR.className="wrs_bottom_right_resizer";this.resizerBR.innerHTML="◢";this.resizerTL=document.createElement("div");this.resizerTL.className="wrs_bottom_left_resizer";this.container.appendChild(this.resizerBR);this.titleBar.appendChild(this.resizerTL);iM.addEvent(this.resizerBR,"mousedown",this.activateResizeStateBR.bind(this));iM.addEvent(this.resizerTL,"mousedown",this.activateResizeStateTL.bind(this));}activateResizeStateBR(e){this.initializeResizeProperties(e,false);}activateResizeStateTL(e){this.initializeResizeProperties(e,true);}initializeResizeProperties(e,t){iM.addClass(document.body,"wrs_noselect");iM.addClass(this.overlay,"wrs_overlay_active");this.resizeDataObject={x:this.eventClient(e).X,y:this.eventClient(e).Y};this.initialWidth=parseInt(this.container.style.width,10);this.initialHeight=parseInt(this.container.style.height,10);if(!t){this.initialRight=parseInt(this.container.style.right,10);this.initialBottom=parseInt(this.container.style.bottom,10);}else {this.leftScale=true;}if(!this.initialRight){this.initialRight=0;}if(!this.initialBottom){this.initialBottom=0;}document.body.style["user-select"]="none";}open(){this.removeClass("wrs_closed");const{isIOS:e}=this.deviceProperties;const{isAndroid:t}=this.deviceProperties;const{isMobile:i}=this.deviceProperties;if(e||t||i){this.restoreWebsiteScale();this.lockWebsiteScroll();setTimeout(()=>{this.hideKeyboard();},400);}if(!this.properties.created){this.create();}else {if(!this.properties.open){this.properties.open=true;if(!this.deviceProperties.isAndroid&&!this.deviceProperties.isIOS){this.restoreState();}}if(this.deviceProperties.isDesktop&&GT.get("modalWindowFullScreen")){this.maximize();}if(this.deviceProperties.isIOS){this.iosSoftkeyboardOpened=false;this.setContainerHeight(`${100+this.iosMeasureUnit}`);}}if(!cM.isEditorLoaded()){const e=XT.newListener("onLoad",()=>{this.contentManager.onOpen(this);});this.contentManager.addListener(e);}else {this.contentManager.onOpen(this);}}close(){this.removeClass("wrs_maximized");this.removeClass("wrs_minimized");this.removeClass("wrs_stack");this.addClass("wrs_closed");this.saveModalProperties();this.unlockWebsiteScroll();this.properties.open=false;}restoreWebsiteScale(){let e=document.querySelector("meta[name=viewport]");const t=["initial-scale=","minimum-scale=","maximum-scale="];const i=["1.0","1.0","1.0"];const n=(e,t)=>{const n=e.getAttribute("content");if(n){const o=n.split(",");let s="";const r=[];for(let e=0;e<o.length;e+=1){let i=false;let n=0;while(!i&&n<t.length){if(o[e].indexOf(t[n])){i=true;}n+=1;}if(!i){r.push(o[e]);}}for(let e=0;e<t.length;e+=1){const n=t[e]+i[e];s+=e===0?n:`,${n}`;}for(let e=0;e<r.length;e+=1){s+=`,${r[e]}`;}e.setAttribute("content",s);e.setAttribute("content","");e.setAttribute("content",n);}else {e.setAttribute("content","initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0");e.removeAttribute("content");}};if(!e){e=document.createElement("meta");document.getElementsByTagName("head")[0].appendChild(e);n(e,t);e.remove();}else {n(e,t);}}lockWebsiteScroll(){this.websiteBeforeLockParameters={bodyStylePosition:document.body.style.position?document.body.style.position:"",bodyStyleOverflow:document.body.style.overflow?document.body.style.overflow:"",htmlStyleOverflow:document.documentElement.style.overflow?document.documentElement.style.overflow:"",windowScrollX:window.scrollX,windowScrollY:window.scrollY};}unlockWebsiteScroll(){if(this.websiteBeforeLockParameters){document.body.style.position=this.websiteBeforeLockParameters.bodyStylePosition;document.body.style.overflow=this.websiteBeforeLockParameters.bodyStyleOverflow;document.documentElement.style.overflow=this.websiteBeforeLockParameters.htmlStyleOverflow;const{windowScrollX:e}=this.websiteBeforeLockParameters;const{windowScrollY:t}=this.websiteBeforeLockParameters;window.scrollTo(e,t);this.websiteBeforeLockParameters=null;}}isIE11(){if(navigator.userAgent.search("Msie/")>=0||navigator.userAgent.search("Trident/")>=0||navigator.userAgent.search("Edge/")>=0){return true}return false}isRTL(){if(this.attributes.language==="ar"||this.attributes.language==="he"){return true}return this.rtl}addClass(e){iM.addClass(this.overlay,e);iM.addClass(this.titleBar,e);iM.addClass(this.overlay,e);iM.addClass(this.container,e);iM.addClass(this.contentContainer,e);iM.addClass(this.stackDiv,e);iM.addClass(this.minimizeDiv,e);iM.addClass(this.maximizeDiv,e);iM.addClass(this.wrapper,e);}removeClass(e){iM.removeClass(this.overlay,e);iM.removeClass(this.titleBar,e);iM.removeClass(this.overlay,e);iM.removeClass(this.container,e);iM.removeClass(this.contentContainer,e);iM.removeClass(this.stackDiv,e);iM.removeClass(this.minimizeDiv,e);iM.removeClass(this.maximizeDiv,e);iM.removeClass(this.wrapper,e);}createModalWindowDesktop(){this.addClass("wrs_modal_desktop");this.stack();}createModalWindowAndroid(){this.addClass("wrs_modal_android");window.addEventListener("resize",this.orientationChangeAndroidSoftkeyboard.bind(this));}createModalWindowIos(){this.addClass("wrs_modal_ios");window.addEventListener("resize",this.orientationChangeIosSoftkeyboard.bind(this));}restoreState(){if(this.properties.state==="maximized"){this.maximize();}else if(this.properties.state==="minimized"){this.properties.state=this.properties.previousState;this.properties.previousState="";this.minimize();}else {this.stack();}}stack(){this.properties.previousState=this.properties.state;this.properties.state="stack";this.removeClass("wrs_maximized");this.minimizeDiv.title=tM.get("minimize");this.removeClass("wrs_minimized");this.addClass("wrs_stack");const e=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(wM)})`;const t=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(_M)})`;this.minimizeDiv.setAttribute("style",e);this.minimizeDiv.setAttribute("onmouseover",`this.style = "${t}";`);this.minimizeDiv.setAttribute("onmouseout",`this.style = "${e}";`);this.restoreModalProperties();if(typeof this.resizerBR!=="undefined"&&typeof this.resizerTL!=="undefined"){this.setResizeButtonsVisibility();}this.recalculateScrollBar();this.recalculatePosition();this.recalculateScale();this.focus();}minimize(){this.saveModalProperties();this.title.style.cursor="pointer";if(this.properties.state==="minimized"&&this.properties.previousState==="stack"){this.stack();}else if(this.properties.state==="minimized"&&this.properties.previousState==="maximized"){this.maximize();}else {this.container.style.height="30px";this.container.style.width="250px";this.container.style.bottom="0px";this.container.style.right="10px";this.removeListeners();this.properties.previousState=this.properties.state;this.properties.state="minimized";this.setResizeButtonsVisibility();this.minimizeDiv.title=tM.get("maximize");if(iM.containsClass(this.overlay,"wrs_stack")){this.removeClass("wrs_stack");}else {this.removeClass("wrs_maximized");}this.addClass("wrs_minimized");const e=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(yM)})`;const t=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(xM)})`;this.minimizeDiv.setAttribute("style",e);this.minimizeDiv.setAttribute("onmouseover",`this.style = "${t}";`);this.minimizeDiv.setAttribute("onmouseout",`this.style = "${e}";`);}}maximize(){this.saveModalProperties();if(this.properties.state!=="maximized"){this.properties.previousState=this.properties.state;this.properties.state="maximized";}this.setResizeButtonsVisibility();if(iM.containsClass(this.overlay,"wrs_minimized")){this.minimizeDiv.title=tM.get("minimize");this.removeClass("wrs_minimized");}else if(iM.containsClass(this.overlay,"wrs_stack")){this.container.style.left=null;this.container.style.top=null;this.removeClass("wrs_stack");}this.addClass("wrs_maximized");const e=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(wM)})`;const t=`background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(_M)})`;this.minimizeDiv.setAttribute("style",e);this.minimizeDiv.setAttribute("onmouseover",`this.style = "${t}";`);this.minimizeDiv.setAttribute("onmouseout",`this.style = "${e}";`);this.setSize(parseInt(window.innerHeight*.8,10),parseInt(window.innerWidth*.8,10));if(this.container.clientHeight>700){this.container.style.height="700px";}if(this.container.clientWidth>1200){this.container.style.width="1200px";}const{innerHeight:i}=window;const{innerWidth:n}=window;const{offsetHeight:o}=this.container;const{offsetWidth:s}=this.container;const r=i/2-o/2;const a=n/2-s/2;this.setPosition(r,a);this.recalculateScale();this.recalculatePosition();this.recalculateSize();this.focus();}reExpand(){if(this.properties.state==="minimized"){if(this.properties.previousState==="maximized"){this.maximize();}else {this.stack();}this.title.style.cursor="";}}setSize(e,t){this.container.style.height=`${e}px`;this.container.style.width=`${t}px`;this.recalculateSize();}setPosition(e,t){this.container.style.bottom=`${e}px`;this.container.style.right=`${t}px`;}saveModalProperties(){if(this.properties.state==="stack"){this.properties.position.bottom=parseInt(this.container.style.bottom,10);this.properties.position.right=parseInt(this.container.style.right,10);this.properties.size.width=parseInt(this.container.style.width,10);this.properties.size.height=parseInt(this.container.style.height,10);}}restoreModalProperties(){if(this.properties.state==="stack"){this.setPosition(this.properties.position.bottom,this.properties.position.right);this.setSize(this.properties.size.height,this.properties.size.width);}}recalculateSize(){this.wrapper.style.width=`${this.container.clientWidth-12}px`;this.wrapper.style.height=`${this.container.clientHeight-38}px`;this.contentContainer.style.height=`${parseInt(this.wrapper.offsetHeight-50,10)}px`;}setResizeButtonsVisibility(){if(this.properties.state==="stack"){this.resizerTL.style.visibility="visible";this.resizerBR.style.visibility="visible";}else {this.resizerTL.style.visibility="hidden";this.resizerBR.style.visibility="hidden";}}addListeners(){this.maximizeDiv.addEventListener("click",this.maximize.bind(this),true);this.stackDiv.addEventListener("click",this.stack.bind(this),true);this.minimizeDiv.addEventListener("click",this.minimize.bind(this),true);this.closeDiv.addEventListener("click",this.cancelAction.bind(this));this.title.addEventListener("click",this.reExpand.bind(this));this.overlay.addEventListener("click",this.cancelAction.bind(this));iM.addEvent(window,"mousedown",this.startDrag.bind(this));iM.addEvent(window,"mouseup",this.stopDrag.bind(this));iM.addEvent(window,"mousemove",this.drag.bind(this));iM.addEvent(window,"resize",this.onWindowResize.bind(this));iM.addEvent(this.container,"keydown",this.onKeyDown.bind(this));}removeListeners(){iM.removeEvent(window,"mousedown",this.startDrag);iM.removeEvent(window,"mouseup",this.stopDrag);iM.removeEvent(window,"mousemove",this.drag);iM.removeEvent(window,"resize",this.onWindowResize);iM.removeEvent(this.container,"keydown",this.onKeyDown);}eventClient(e){if(typeof e.clientX==="undefined"&&e.changedTouches){const t={X:e.changedTouches[0].clientX,Y:e.changedTouches[0].clientY};return t}const t={X:e.clientX,Y:e.clientY};return t}startDrag(e){if(this.properties.state==="minimized"){return}if(e.target===this.title){if(typeof this.dragDataObject==="undefined"||this.dragDataObject===null){this.dragDataObject={x:this.eventClient(e).X,y:this.eventClient(e).Y};this.lastDrag={x:"0px",y:"0px"};if(this.container.style.right===""){this.container.style.right="0px";}if(this.container.style.bottom===""){this.container.style.bottom="0px";}if(this.isIE11());iM.addClass(document.body,"wrs_noselect");iM.addClass(this.overlay,"wrs_overlay_active");this.limitWindow=this.getLimitWindow();}}}drag(e){if(this.dragDataObject){e.preventDefault();let t=Math.min(this.eventClient(e).Y,this.limitWindow.minPointer.y);t=Math.max(this.limitWindow.maxPointer.y,t);let i=Math.min(this.eventClient(e).X,this.limitWindow.minPointer.x);i=Math.max(this.limitWindow.maxPointer.x,i);const n=`${i-this.dragDataObject.x}px`;const o=`${t-this.dragDataObject.y}px`;this.lastDrag={x:n,y:o};this.container.style.transform=`translate3d(${n},${o},0)`;}if(this.resizeDataObject){const{innerWidth:t}=window;const{innerHeight:i}=window;let n=Math.min(this.eventClient(e).X,t-this.scrollbarWidth-7);let o=Math.min(this.eventClient(e).Y,i-7);if(n<0){n=0;}if(o<0){o=0;}let s;if(this.leftScale){s=-1;}else {s=1;}this.container.style.width=`${this.initialWidth+s*(n-this.resizeDataObject.x)}px`;this.container.style.height=`${this.initialHeight+s*(o-this.resizeDataObject.y)}px`;if(!this.leftScale){if(this.resizeDataObject.x-n-this.initialWidth<-580){this.container.style.right=`${this.initialRight-(n-this.resizeDataObject.x)}px`;}else {this.container.style.right=`${this.initialRight+this.initialWidth-580}px`;this.container.style.width="580px";}if(this.resizeDataObject.y-o<this.initialHeight-338){this.container.style.bottom=`${this.initialBottom-(o-this.resizeDataObject.y)}px`;}else {this.container.style.bottom=`${this.initialBottom+this.initialHeight-338}px`;this.container.style.height="338px";}}this.recalculateScale();this.recalculatePosition();}}getLimitWindow(){const e=window.innerWidth;const t=window.innerHeight;const{offsetHeight:i}=this.container;const n=parseInt(this.container.style.bottom,10);const o=parseInt(this.container.style.right,10);const{pageXOffset:s}=window;const r=this.dragDataObject.y;const a=this.dragDataObject.x;const c=i+n-(t-(r-s));const l=e-this.scrollbarWidth-(a-s)-o;const d=t-this.container.offsetHeight+c;const u=this.title.offsetHeight-(this.title.offsetHeight-c);const h=e-l-this.scrollbarWidth;const f=this.container.offsetWidth-l;const m={x:h,y:d};const g={x:f,y:u};return {minPointer:m,maxPointer:g}}getScrollBarWidth(){const e=document.createElement("p");e.style.width="100%";e.style.height="200px";const t=document.createElement("div");t.style.position="absolute";t.style.top="0px";t.style.left="0px";t.style.visibility="hidden";t.style.width="200px";t.style.height="150px";t.style.overflow="hidden";t.appendChild(e);document.body.appendChild(t);const i=e.offsetWidth;t.style.overflow="scroll";let n=e.offsetWidth;if(i===n){n=t.clientWidth;}document.body.removeChild(t);return i-n}stopDrag(){if(this.dragDataObject||this.resizeDataObject){this.container.style.transform="";if(this.dragDataObject){this.container.style.right=`${parseInt(this.container.style.right,10)-parseInt(this.lastDrag.x,10)}px`;this.container.style.bottom=`${parseInt(this.container.style.bottom,10)-parseInt(this.lastDrag.y,10)}px`;}this.focus();document.body.style["user-select"]="";if(this.isIE11());iM.removeClass(document.body,"wrs_noselect");iM.removeClass(this.overlay,"wrs_overlay_active");}this.dragDataObject=null;this.resizeDataObject=null;this.initialWidth=null;this.leftScale=null;}onWindowResize(){this.recalculateScrollBar();this.recalculatePosition();this.recalculateScale();}onKeyDown(e){if(e.key!==undefined){if(this.popup.overlayWrapper.style.display!=="block"){if(e.key==="Escape"||e.key==="Esc"){if(this.properties.open){this.contentManager.onKeyDown(e);}}else if(e.shiftKey&&e.key==="Tab"){if(document.activeElement===this.cancelButton){this.submitButton.focus();e.stopPropagation();e.preventDefault();}else {this.contentManager.onKeyDown(e);}}else if(e.key==="Tab"){if(document.activeElement===this.submitButton){this.cancelButton.focus();e.stopPropagation();e.preventDefault();}else {this.contentManager.onKeyDown(e);}}}else {this.popup.onKeyDown(e);}}}recalculatePosition(){this.container.style.right=`${Math.min(parseInt(this.container.style.right,10),window.innerWidth-this.scrollbarWidth-this.container.offsetWidth)}px`;if(parseInt(this.container.style.right,10)<0){this.container.style.right="0px";}this.container.style.bottom=`${Math.min(parseInt(this.container.style.bottom,10),window.innerHeight-this.container.offsetHeight)}px`;if(parseInt(this.container.style.bottom,10)<0){this.container.style.bottom="0px";}}recalculateScale(){let e=false;if(parseInt(this.container.style.width,10)>580){this.container.style.width=`${Math.min(parseInt(this.container.style.width,10),window.innerWidth-this.scrollbarWidth)}px`;e=true;}else {this.container.style.width="580px";e=true;}if(parseInt(this.container.style.height,10)>338){this.container.style.height=`${Math.min(parseInt(this.container.style.height,10),window.innerHeight)}px`;e=true;}else {this.container.style.height="338px";e=true;}if(e){this.recalculateSize();}}recalculateScrollBar(){this.hasScrollBar=window.innerWidth>document.documentElement.clientWidth;if(this.hasScrollBar){this.scrollbarWidth=this.getScrollBarWidth();}else {this.scrollbarWidth=0;}}hideKeyboard(){const e=document.createElement("input");this.container.appendChild(e);e.focus();e.blur();e.remove();}focus(){if(this.contentManager!=null&&typeof this.contentManager.onFocus!=="undefined"){this.contentManager.onFocus();}}portraitMode(){return window.innerHeight>window.innerWidth}handleOpenedIosSoftkeyboard(){if(!this.iosSoftkeyboardOpened&&this.iosDivHeight!=null&&this.iosDivHeight===`100${this.iosMeasureUnit}`){if(this.portraitMode()){this.setContainerHeight(`63${this.iosMeasureUnit}`);}else {this.setContainerHeight(`40${this.iosMeasureUnit}`);}}this.iosSoftkeyboardOpened=true;}handleClosedIosSoftkeyboard(){this.iosSoftkeyboardOpened=false;this.setContainerHeight(`100${this.iosMeasureUnit}`);}orientationChangeIosSoftkeyboard(){if(this.iosSoftkeyboardOpened){if(this.portraitMode()){this.setContainerHeight(`63${this.iosMeasureUnit}`);}else {this.setContainerHeight(`40${this.iosMeasureUnit}`);}}else {this.setContainerHeight(`100${this.iosMeasureUnit}`);}}orientationChangeAndroidSoftkeyboard(){this.setContainerHeight("100%");}setContainerHeight(e){this.iosDivHeight=e;this.wrapper.style.height=e;}showPopUpMessage(){if(this.properties.state==="minimized"){this.stack();}this.popup.show();}setTitle(e){this.title.innerHTML=e;}getElementId(e){return `${e}[${this.instanceId}]`}}/*! http://mths.be/codepointat v0.1.0 by @mathias */if(!String.prototype.codePointAt){(function(){var e=function(e){if(this==null){throw TypeError()}var t=String(this);var i=t.length;var n=e?Number(e):0;if(n!=n){n=0;}if(n<0||n>=i){return undefined}var o=t.charCodeAt(n);var s;if(o>=55296&&o<=56319&&i>n+1){s=t.charCodeAt(n+1);if(s>=56320&&s<=57343){return (o-55296)*1024+s-56320+65536}}return o};if(Object.defineProperty){Object.defineProperty(String.prototype,"codePointAt",{value:e,configurable:true,writable:true});}else {String.prototype.codePointAt=e;}})();}if(typeof Object.assign!="function"){Object.defineProperty(Object,"assign",{value:function e(t,i){if(t==null){throw new TypeError("Cannot convert undefined or null to object")}var n=Object(t);for(var o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null){for(var r in s){if(Object.prototype.hasOwnProperty.call(s,r)){n[r]=s[r];}}}}return n},writable:true,configurable:true});}var MM=i(86);class EM{constructor(e){this.language="en";this.editMode="images";this.modalDialog=null;this.customEditors=new lM;const t={name:"Chemistry",toolbar:"chemistry",icon:"chem.png",confVariable:"chemEnabled",title:"ChemType",tooltip:"Insert a chemistry formula - ChemType"};this.customEditors.addEditor("chemistry",t);this.environment={};this.editionProperties={};this.editionProperties.isNewElement=true;this.editionProperties.temporalImage=null;this.editionProperties.latexRange=null;this.editionProperties.range=null;this.integrationModel=null;this.contentManager=null;this.browser=(()=>{const e=navigator.userAgent;let t="none";if(e.search("Edge/")>=0){t="EDGE";}else if(e.search("Chrome/")>=0){t="CHROME";}else if(e.search("Trident/")>=0){t="IE";}else if(e.search("Firefox/")>=0){t="FIREFOX";}else if(e.search("Safari/")>=0){t="SAFARI";}return t})();this.listeners=new XT;this.serviceProviderProperties={};if("serviceProviderProperties"in e){this.serviceProviderProperties=e.serviceProviderProperties;}else {throw new Error("serviceProviderProperties property missing.")}}static get globalListeners(){return EM._globalListeners}static set globalListeners(e){EM._globalListeners=e;}static get initialized(){return EM._initialized}static set initialized(e){EM._initialized=e;}setIntegrationModel(e){this.integrationModel=e;}setEnvironment(e){if("editor"in e){this.environment.editor=e.editor;}if("mode"in e){this.environment.mode=e.mode;}if("version"in e){this.environment.version=e.version;}}getModalDialog(){return this.modalDialog}init(){if(!EM.initialized){const e=XT.newListener("onInit",()=>{const e=KT.getService("configurationjs","","get");const t=JSON.parse(e);GT.addConfiguration(t);GT.addConfiguration(uM);tM.language=this.language;this.listeners.fire("onLoad",{});});KT.addListener(e);KT.init(this.serviceProviderProperties);EM.initialized=true;}else {this.listeners.fire("onLoad",{});}}addListener(e){this.listeners.add(e);}static addGlobalListener(e){EM.globalListeners.add(e);}beforeUpdateFormula(e,t){const i=new hM;i.mathml=e;i.wirisProperties={};if(t!=null){Object.keys(t).forEach(e=>{i.wirisProperties[e]=t[e];});}i.language=this.language;i.editMode=this.editMode;if(this.listeners.fire("onBeforeFormulaInsertion",i)){return {}}if(EM.globalListeners.fire("onBeforeFormulaInsertion",i)){return {}}return {mathml:i.mathml,wirisProperties:i.wirisProperties}}insertFormula(e,t,i,n){const o={};if(!i){this.insertElementOnSelection(null,e,t);}else if(this.editMode==="latex"){o.latex=ZT.getLatexFromMathML(i);if(!!this.integrationModel.fillNonLatexNode&&!o.latex){const n=new hM;n.editMode=this.editMode;n.windowTarget=t;n.focusElement=e;n.latex=o.latex;this.integrationModel.fillNonLatexNode(n,t,i);}else {o.node=t.document.createTextNode(`$$${o.latex}$$`);}this.insertElementOnSelection(o.node,e,t);}else {o.node=rM.mathmlToImgObject(t.document,i,n,this.language);this.insertElementOnSelection(o.node,e,t);}return o}afterUpdateFormula(e,t,i,n){const o=new hM;o.editMode=this.editMode;o.windowTarget=t;o.focusElement=e;o.node=i;o.latex=n;if(this.listeners.fire("onAfterFormulaInsertion",o)){return {}}if(EM.globalListeners.fire("onAfterFormulaInsertion",o)){return {}}return {}}placeCaretAfterNode(e){this.integrationModel.getSelection();const t=e.ownerDocument;if(typeof t.getSelection!=="undefined"&&!!e.parentElement){const i=t.createRange();i.setStartAfter(e);i.collapse(true);const n=t.getSelection();n.removeAllRanges();n.addRange(i);t.body.focus();}}insertElementOnSelection(e,t,i){if(this.editionProperties.isNewElement){if(e){if(t.type==="textarea"){iM.updateTextArea(t,e.textContent);}else if(document.selection&&document.getSelection===0){let t=i.document.selection.createRange();i.document.execCommand("InsertImage",false,e.src);if(!("parentElement"in t)){i.document.execCommand("delete",false);t=i.document.selection.createRange();i.document.execCommand("InsertImage",false,e.src);}if("parentElement"in t){const i=t.parentElement();if(i.nodeName.toUpperCase()==="IMG"){i.parentNode.replaceChild(e,i);}else {t.pasteHTML(iM.createObjectCode(e));}}}else {const t=this.integrationModel.getSelection();let i=null;if(this.editionProperties.range){({range:i}=this.editionProperties);this.editionProperties.range=null;}else {i=t.getRangeAt(0);}i.deleteContents();let n=i.startContainer;const o=i.startOffset;if(n.nodeType===3){n=n.splitText(o);n.parentNode.insertBefore(e,n);}else if(n.nodeType===1){n.insertBefore(e,n.childNodes[o]);}this.placeCaretAfterNode(e);}}else if(t.type==="textarea"){t.focus();}else {const e=this.integrationModel.getSelection();e.removeAllRanges();if(this.editionProperties.range){const{range:t}=this.editionProperties;this.editionProperties.range=null;e.addRange(t);}}}else if(this.editionProperties.latexRange){if(document.selection&&document.getSelection===0){this.editionProperties.isNewElement=true;this.editionProperties.latexRange.select();this.insertElementOnSelection(e,t,i);}else {this.editionProperties.latexRange.deleteContents();this.editionProperties.latexRange.insertNode(e);this.placeCaretAfterNode(e);}}else if(t.type==="textarea"){let i;if(typeof this.integrationModel.getSelectedItem!=="undefined"){i=this.integrationModel.getSelectedItem(t,false);}else {i=iM.getSelectedItemOnTextarea(t);}iM.updateExistingTextOnTextarea(t,e.textContent,i.startPosition,i.endPosition);}else {if(e&&e.nodeName.toLowerCase()==="img"){nM.removeImgDataAttributes(this.editionProperties.temporalImage);nM.clone(e,this.editionProperties.temporalImage);}else {this.editionProperties.temporalImage.remove();}this.placeCaretAfterNode(this.editionProperties.temporalImage);}}openModalDialog(e,t){this.editMode="images";try{if(t){e.contentWindow.focus();const t=e.contentWindow.getSelection();this.editionProperties.range=t.getRangeAt(0);}else {e.focus();const t=getSelection();this.editionProperties.range=t.getRangeAt(0);}}catch(e){this.editionProperties.range=null;}if(t===undefined){t=true;}this.editionProperties.latexRange=null;if(e){let i;if(typeof this.integrationModel.getSelectedItem!=="undefined"){i=this.integrationModel.getSelectedItem(e,t);}else {i=iM.getSelectedItem(e,t);}if(i){if(!i.caretPosition&&iM.containsClass(i.node,GT.get("imageClassName"))){this.editionProperties.temporalImage=i.node;this.editionProperties.isNewElement=false;}else if(i.node.nodeType===3){if(this.integrationModel.getMathmlFromTextNode){const e=this.integrationModel.getMathmlFromTextNode(i.node,i.caretPosition);if(e){this.editMode="latex";this.editionProperties.isNewElement=false;this.editionProperties.temporalImage=document.createElement("img");this.editionProperties.temporalImage.setAttribute(GT.get("imageMathmlAttribute"),JT.safeXmlEncode(e));}}else {const n=ZT.getLatexFromTextNode(i.node,i.caretPosition);if(n){const i=ZT.getMathMLFromLatex(n.latex);this.editMode="latex";this.editionProperties.isNewElement=false;this.editionProperties.temporalImage=document.createElement("img");this.editionProperties.temporalImage.setAttribute(GT.get("imageMathmlAttribute"),JT.safeXmlEncode(i));const o=t?e.contentWindow:window;if(e.tagName.toLowerCase()!=="textarea"){if(document.selection){let e=0;let t=n.startNode.previousSibling;while(t){e+=iM.getNodeLength(t);t=t.previousSibling;}this.editionProperties.latexRange=o.document.selection.createRange();this.editionProperties.latexRange.moveToElementText(n.startNode.parentNode);this.editionProperties.latexRange.move("character",e+n.startPosition);this.editionProperties.latexRange.moveEnd("character",n.latex.length+4);}else {this.editionProperties.latexRange=o.document.createRange();this.editionProperties.latexRange.setStart(n.startNode,n.startPosition);this.editionProperties.latexRange.setEnd(n.endNode,n.endPosition);}}}}}}else if(e.tagName.toLowerCase()==="textarea"){this.editMode="latex";}}const i=GT.get("editorAttributes").split(", ");const n={};for(let e=0,t=i.length;e<t;e+=1){const t=i[e].split("=");const o=t[0];const s=t[1];n[o]=s;}const o={};const s=GT.get("editorParameters");const r=this.integrationModel.editorParameters;Object.assign(o,n,s);Object.assign(o,n,r);o.language=this.language;o.rtl=this.integrationModel.rtl;const a={};a.editorAttributes=o;a.language=this.language;a.customEditors=this.customEditors;a.environment=this.environment;if(this.modalDialog==null){this.modalDialog=new AM(o);this.contentManager=new cM(a);const e=XT.newListener("onLoad",()=>{this.contentManager.isNewElement=this.editionProperties.isNewElement;if(this.editionProperties.temporalImage!=null){const e=JT.safeXmlDecode(this.editionProperties.temporalImage.getAttribute(GT.get("imageMathmlAttribute")));this.contentManager.mathML=e;}});this.contentManager.addListener(e);this.contentManager.init();this.modalDialog.setContentManager(this.contentManager);this.contentManager.setModalDialogInstance(this.modalDialog);}else {this.contentManager.isNewElement=this.editionProperties.isNewElement;if(this.editionProperties.temporalImage!=null){const e=JT.safeXmlDecode(this.editionProperties.temporalImage.getAttribute(GT.get("imageMathmlAttribute")));this.contentManager.mathML=e;}}this.contentManager.setIntegrationModel(this.integrationModel);this.modalDialog.open();}getCustomEditors(){return this.customEditors}}EM._globalListeners=new XT;EM._initialized=false;class PM{constructor(e){this.language="en";this.serviceProviderProperties={};if("serviceProviderProperties"in e){this.serviceProviderProperties=e.serviceProviderProperties;}this.configurationService="";if("configurationService"in e){this.serviceProviderProperties.URI=e.configurationService;console.warn("Deprecated property configurationService. Use serviceParameters on instead.",[e.configurationService]);}this.version="version"in e?e.version:"";this.target=null;if("target"in e){this.target=e.target;}else {throw new Error("IntegrationModel constructor error: target property missed.")}if("scriptName"in e){this.scriptName=e.scriptName;}this.callbackMethodArguments={};if("callbackMethodArguments"in e){this.callbackMethodArguments=e.callbackMethodArguments;}this.environment={};if("environment"in e){this.environment=e.environment;}this.isIframe=false;if(this.target!=null){this.isIframe=this.target.tagName.toUpperCase()==="IFRAME";}this.editorObject=null;if("editorObject"in e){this.editorObject=e.editorObject;}this.rtl=false;if("rtl"in e){this.rtl=e.rtl;}this.managesLanguage=false;if("managesLanguage"in e){this.managesLanguage=e.managesLanguage;}this.temporalImageResizing=false;this.core=null;this.listeners=new XT;if("integrationParameters"in e){PM.integrationParameters.forEach(t=>{if(t in e.integrationParameters){const i=e.integrationParameters[t];if(Object.keys(i).length!==0){this[t]=i;}}});}}init(){this.language=this.getLanguage();const e=XT.newListener("onLoad",()=>{this.callbackFunction(this.callbackMethodArguments);});if(this.serviceProviderProperties.URI.indexOf("configuration")!==-1){const e=this.serviceProviderProperties.URI;const t=KT.getServerLanguageFromService(e);this.serviceProviderProperties.server=t;const i=this.serviceProviderProperties.URI.indexOf("configuration");const n=this.serviceProviderProperties.URI.substring(0,i);this.serviceProviderProperties.URI=n;}let t=this.serviceProviderProperties.URI;t=t.indexOf("/")===0||t.indexOf("http")===0?t:iM.concatenateUrl(this.getPath(),t);this.serviceProviderProperties.URI=t;const i={};i.serviceProviderProperties=this.serviceProviderProperties;this.setCore(new EM(i));this.core.addListener(e);this.core.language=this.language;this.core.init();this.core.setEnvironment(this.environment);}getPath(){if(typeof this.scriptName==="undefined"){throw new Error("scriptName property needed for getPath.")}const e=document.getElementsByTagName("script");let t="";for(let i=0;i<e.length;i+=1){const n=e[i].src.lastIndexOf(this.scriptName);if(n>=0){t=e[i].src.substr(0,n-1);}}return t}getVersion(){return this.version}setLanguage(e){this.language=e;}setCore(e){this.core=e;e.setIntegrationModel(this);}getCore(){return this.core}setTarget(e){this.target=e;this.isIframe=this.target.tagName.toUpperCase()==="IFRAME";}setEditorObject(e){this.editorObject=e;}openNewFormulaEditor(){this.core.editionProperties.isNewElement=true;this.core.openModalDialog(this.target,this.isIframe);}openExistingFormulaEditor(){this.core.editionProperties.isNewElement=false;this.core.openModalDialog(this.target,this.isIframe);}updateFormula(e){if(this.editorParameters){e=com.wiris.editor.util.EditorUtils.addAnnotation(e,"application/vnd.wiris.mtweb-params+json",JSON.stringify(this.editorParameters));}let t;let i;const n=null;if(this.isIframe){t=this.target.contentWindow;i=this.target.contentWindow;}else {t=this.target;i=window;}let o=this.core.beforeUpdateFormula(e,n);if(!o){return ""}o=this.insertFormula(t,i,o.mathml,o.wirisProperties);if(!o){return ""}return this.core.afterUpdateFormula(o.focusElement,o.windowTarget,o.node,o.latex)}insertFormula(e,t,i,n){return this.core.insertFormula(e,t,i,n)}getSelection(){if(this.isIframe){this.target.contentWindow.focus();return this.target.contentWindow.getSelection()}this.target.focus();return window.getSelection()}addEvents(){const e=this.isIframe?this.target.contentWindow.document:this.target;iM.addElementEvents(e,(e,t)=>{this.doubleClickHandler(e,t);},(e,t)=>{this.mousedownHandler(e,t);},(e,t)=>{this.mouseupHandler(e,t);});}doubleClickHandler(e){if(e.nodeName.toLowerCase()==="img"){this.core.getCustomEditors().disable();const t=GT.get("imageCustomEditorName");if(e.hasAttribute(t)){const i=e.getAttribute(t);this.core.getCustomEditors().enable(i);}if(iM.containsClass(e,GT.get("imageClassName"))){this.core.editionProperties.temporalImage=e;this.core.editionProperties.isNewElement=true;this.openExistingFormulaEditor();}}}mouseupHandler(){if(this.temporalImageResizing){setTimeout(()=>{nM.fixAfterResize(this.temporalImageResizing);},10);}}mousedownHandler(e){if(e.nodeName.toLowerCase()==="img"){if(iM.containsClass(e,GT.get("imageClassName"))){this.temporalImageResizing=e;}}}getLanguage(){return this.getBrowserLanguage()}getBrowserLanguage(){let e="en";if(navigator.userLanguage){e=navigator.userLanguage.substring(0,2);}else if(navigator.language){e=navigator.language.substring(0,2);}else {e="en";}return e}callbackFunction(){const e=XT.newListener("onTargetReady",()=>{this.addEvents(this.target);});this.listeners.add(e);}notifyWindowClosed(){}getMathmlFromTextNode(e,t){}fillNonLatexNode(e,t,i){}getSelectedItem(e,t){}}PM.prototype.getMathmlFromTextNode=undefined;PM.prototype.fillNonLatexNode=undefined;PM.prototype.getSelectedItem=undefined;PM.integrationParameters=["serviceProviderProperties","editorParameters"];class SM extends PM{constructor(e){const t=e.editorObject;if(typeof t.config!="undefined"&&typeof t.config.get("mathTypeParameters")!="undefined"){e.integrationParameters=t.config.get("mathTypeParameters");}super(e);this.integrationFolderName="ckeditor_wiris";}getLanguage(){return this.editorObject.config.get("language")}addEditorListeners(){const e=this.editorObject;if(typeof e.config.wirislistenersdisabled=="undefined"||!e.config.wirislistenersdisabled){this.checkElement();}}checkElement(){const e=this.editorObject;const t=e.sourceElement;if(!t.wirisActive){this.setTarget(t);this.addEvents();t.wirisActive=true;}}doubleClickHandler(e,t){if(e.nodeName.toLowerCase()=="img"){if(iM.containsClass(e,GT.get("imageClassName"))){if(typeof t.stopPropagation!="undefined"){t.stopPropagation();}else {t.returnValue=false;}this.core.getCustomEditors().disable();const i=e.getAttribute(GT.get("imageCustomEditorName"));if(i){this.core.getCustomEditors().enable(i);}this.core.editionProperties.temporalImage=e;this.openExistingFormulaEditor();}}}getCorePath(){return null}callbackFunction(){super.callbackFunction();this.addEditorListeners();}openNewFormulaEditor(){this.core.editionProperties.selection=this.editorObject.editing.view.document.selection;return super.openNewFormulaEditor()}insertMathml(e){return this.editorObject.model.change(t=>{const i=this.getCore();const n=t.createElement("mathml",{formula:e});if(i.editionProperties.isNewElement){if(!e)return;let i=this.core.editionProperties.selection||this.editorObject.editing.view.document.selection;let o=this.editorObject.editing.mapper.toModelPosition(i.getLastPosition());t.insert(n,o);if(!i.isCollapsed){for(const e of i.getRanges()){t.remove(this.editorObject.editing.mapper.toModelRange(e));}}}else {const o=i.editionProperties.temporalImage;const s=this.editorObject.editing.view.domConverter.domToView(o).parent;const r=this.editorObject.editing.mapper.toModelElement(s);const a=this.editorObject.model.createPositionBefore(r);if(e){t.insert(n,a);}t.remove(r);}return n})}findText(e){let t=e;let i;while(!i){i=this.editorObject.editing.mapper.toModelElement(this.editorObject.editing.view.domConverter.domToView(t));t=t.parentElement;}const n=this.editorObject.model.createRangeIn(i);const o=Array.from(n.getItems());for(const t of o){if(t.is("textProxy")&&t.data==e.data.replace(String.fromCharCode(160)," ")){return t.textNode}}}insertFormula(e,t,i,n){let o={};if(!i){this.insertMathml("");}else if(this.core.editMode=="latex"){o.latex=ZT.getLatexFromMathML(i);o.node=t.document.createTextNode("$$"+o.latex+"$$");this.editorObject.model.change(e=>{const t=this.core.editionProperties.latexRange;const i=this.findText(t.startContainer);const n=this.findText(t.endContainer);const s=e.createPositionAt(i.parent,i.startOffset+t.startOffset);const r=e.createPositionAt(n.parent,n.startOffset+t.endOffset);const a=e.createRange(s,r);e.remove(a);e.insertText("$$"+o.latex+"$$",i.getAttributes(),s);});}else {o.node=this.editorObject.editing.view.domConverter.viewToDom(this.editorObject.editing.mapper.toViewElement(this.insertMathml(i)),t.document);}return o}notifyWindowClosed(){this.editorObject.editing.view.focus();}}class IM extends jw{constructor(e){super(e);}execute(e={}){if(!e.hasOwnProperty("integration")||!(e.integration instanceof SM)){throw 'Must pass a valid CKEditor5Integration instance as attribute "integration" of options'}this.integration=e.integration;this.setEditor();this.openEditor();}setEditor(){this.integration.core.getCustomEditors().disable();}openEditor(){const e=this._getSelectedImage();if(typeof e!=="undefined"&&e!==null&&e.classList.contains(WirisPlugin.Configuration.get("imageClassName"))){this.integration.core.editionProperties.temporalImage=e;this.integration.openExistingFormulaEditor();}else {this.integration.openNewFormulaEditor();}}_getSelectedImage(){const e=this.editor.editing.view.document.selection;if(e.isCollapsed||e.rangeCount!==1){return}const t=e.getFirstRange();let i;for(const e of t){if(e.item.name!=="span"){return}i=e.item.getChild(0);break}if(!i){return}return this.editor.editing.view.domConverter.mapViewToDom(i)}}class OM extends IM{setEditor(){this.integration.core.getCustomEditors().enable("chemistry");}}var NM='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 300 261.7" style="enable-background:new 0 0 300 261.7;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:#FFFFFF;}\n\t.st1{fill:#EF4A5F;}\n\t.st2{fill:#C8202F;}\n</style>\n<path class="st0" d="M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0\n\tc-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8"/>\n<path class="st0" d="M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5\n\tl27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6\n\tC91.6,257.7,90.9,257.7,90.2,257.7"/>\n<g>\n\t<g>\n\t\t<path class="st1" d="M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5\n\t\t\tl27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6\n\t\t\tC91.6,257.7,90.9,257.7,90.2,257.7"/>\n\t</g>\n</g>\n<g>\n\t<g>\n\t\t<path class="st2" d="M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0\n\t\t\tc-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8"/>\n\t</g>\n</g>\n</svg>\n';var RM='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 40.3 49.5" style="enable-background:new 0 0 40.3 49.5;" xml:space="preserve">\n<style type="text/css">\n\t.st0{fill:#A4CF61;}\n</style>\n<path class="st0" d="M39.2,12.1c0-1.9-1.1-3.6-2.7-4.4L24.5,0.9l0,0c-0.7-0.4-1.5-0.6-2.4-0.6c-0.9,0-1.7,0.2-2.4,0.6l0,0L2.3,10.8\n\tl0,0C0.9,11.7,0,13.2,0,14.9h0v19.6h0c0,1.7,0.9,3.3,2.3,4.1l0,0l17.4,9.9l0,0c0.7,0.4,1.5,0.6,2.4,0.6c0.9,0,1.7-0.2,2.4-0.6l0,0\n\tl12.2-6.9h0c1.5-0.8,2.6-2.5,2.6-4.3c0-2.7-2.2-4.9-4.9-4.9c-0.9,0-1.8,0.3-2.5,0.7l0,0l-9.7,5.6l-12.3-7V17.8l12.3-7l9.9,5.7l0,0\n\tc0.7,0.4,1.5,0.6,2.4,0.6C37,17,39.2,14.8,39.2,12.1"/>\n</svg>\n';class LM extends Lw{static get requires(){return [my]}static get pluginName(){return "MathType"}init(){const e=this._addIntegration();this._addCommands();this._addViews(e);this._addSchema();this._addConverters();this._exposeWiris();}_addIntegration(){const e=this.editor;const t={};t.environment={};t.environment.editor="CKEditor5";t.editorObject=e;t.serviceProviderProperties={};t.serviceProviderProperties.URI="https://www.wiris.net/demo/plugins/app";t.serviceProviderProperties.server="java";t.target=e.sourceElement;t.scriptName="bundle.js";t.managesLanguage=true;let i;if(t.target){i=new SM(t);i.init();i.listeners.fire("onTargetReady",{});i.checkElement();this.listenTo(e.editing.view.document,"click",(e,t)=>{if(t.domEvent.detail==2){i.doubleClickHandler(t.domTarget,t.domEvent);e.stop();}},{priority:"highest"});}return i}_addCommands(){const e=this.editor;e.commands.add("MathType",new IM(e));e.commands.add("ChemType",new OM(e));}_addViews(e){const t=this.editor;t.ui.componentFactory.add("MathType",i=>{const n=new sw(i);n.bind("isEnabled").to(t.commands.get("MathType"),"isEnabled");n.set({label:"Insert a math equation - MathType",icon:NM,tooltip:true});n.on("execute",()=>{t.execute("MathType",{integration:e});});return n});t.ui.componentFactory.add("ChemType",i=>{const n=new sw(i);n.bind("isEnabled").to(t.commands.get("ChemType"),"isEnabled");n.set({label:"Insert a chemistry formula - ChemType",icon:RM,tooltip:true});n.on("execute",()=>{t.execute("ChemType",{integration:e});});return n});t.editing.view.addObserver(XC);}_addSchema(){const e=this.editor.model.schema;e.register("mathml",{allowWhere:"$text",isObject:true,isInline:true,allowAttributes:["formula"]});}_addConverters(){const e=this.editor;e.conversion.for("upcast").elementToElement({view:{name:"span",classes:"ck-math-widget"},model:(e,t)=>{const i=JT.safeXmlDecode(e.getChild(0).getAttribute("data-mathml"));return t.createElement("mathml",{formula:i})}});e.data.upcastDispatcher.on("element:math",(i,n,o)=>{const{consumable:s,writer:r}=o;const a=n.viewItem;if(!s.test(a,{name:true})){return}let c=t(a);const l=new qT(e.editing.view.document);const d=new bA(e.editing.view.document);const u=d.createDocumentFragment(a.getChildren());const h=[...a.getAttributes()].map(([e,t])=>` ${e}="${t}"`).join("");let f=l.toData(u)||"";f=`<math${h}>${f}</math>`;const m=c?r.createText(rM.initParse(f,e.config.get("language"))):r.createElement("mathml",{formula:f});const g=o.splitToAllowedParent(m,n.modelCursor);if(!g){return}o.writer.insert(m,g.position);s.consume(a,{name:true});const p=o.getSplitParts(m);n.modelRange=r.createRange(o.writer.createPositionBefore(m),o.writer.createPositionAfter(p[p.length-1]));if(g.cursorParent){n.modelCursor=o.writer.createPositionAt(g.cursorParent,0);}else {n.modelCursor=n.modelRange.end;}});function t(e){const t=e.getChild(0);if(!t||t.name!=="semantics")return false;for(const e of t.getChildren()){if(e.name==="annotation"&&e.getAttribute("encoding")==="LaTeX"){return true}}return false}e.conversion.for("editingDowncast").elementToElement({model:"mathml",view:o});e.conversion.for("dataDowncast").elementToElement({model:"mathml",view:n});function i(e,t){if(t.is("text")){return e.createText(t.data)}else if(t.is("element")){if(t.is("emptyElement")){return e.createEmptyElement(t.name,t.getAttributes())}else {const n=e.createContainerElement(t.name,t.getAttributes());for(const o of t.getChildren()){e.insert(e.createPositionAt(n,"end"),i(e,o));}return n}}throw new Exception("Given node has unsupported type.")}function n(e,t){const n=new Ap(t.document);let o=rM.endParseSaveMode(e.getAttribute("formula"));if(!GT.get("saveHandTraces")){o=JT.removeAnnotation(o,"application/json");}const s=n.toView(o).getChild(0);return i(t,s)}function o(e,t){const i=t.createContainerElement("span",{class:"ck-math-widget"});const n=s(e,t);t.insert(t.createPositionAt(i,0),n);return xk(i,t)}function s(t,i){const n=new Ap(i.document);const o=t.getAttribute("formula");const s=rM.initParse(o,e.config.get("language"));const r=n.toView(s).getChild(0);return i.createEmptyElement("img",r.getAttributes())}}_exposeWiris(){window.WirisPlugin={Core:EM,Parser:rM,Image:nM,MathML:JT,Util:iM,Configuration:GT,Listeners:XT,IntegrationModel:PM,Latex:ZT};}}function DM(e,t){return e=>{e.on("attribute:url:media",i);};function i(i,n,o){if(!o.consumable.consume(n.item,i.name)){return}const s=n.attributeNewValue;const r=o.writer;const a=o.mapper.toViewElement(n.item);const c=[...a.getChildren()].find(e=>e.getCustomProperty("media-content"));r.remove(c);const l=e.getMediaViewElement(r,s,t);r.insert(r.createPositionAt(a,0),l);}}function jM(e,t,i){t.setCustomProperty("media",true,e);return xk(e,t,{label:i})}function VM(e,t,i,n){const o=e.createContainerElement("figure",{class:"media"});o.getFillerOffset=UM;e.insert(e.createPositionAt(o,0),t.getMediaViewElement(e,i,n));return o}function FM(e){const t=e.getSelectedElement();if(t&&t.is("media")){return t}return null}function HM(e,t,i){e.change(n=>{const o=n.createElement("media",{url:t});e.insertContent(o,i);n.setSelection(o,"on");});}function UM(){return null}class WM extends jw{refresh(){const e=this.editor.model;const t=e.document.selection;const i=e.schema;const n=t.getFirstPosition();const o=FM(t);let s=n.parent;if(s!=s.root){s=s.parent;}this.value=o?o.getAttribute("url"):null;this.isEnabled=i.checkChild(s,"media");}execute(e){const t=this.editor.model;const i=t.document.selection;const n=FM(i);if(n){t.change(t=>{t.setAttribute("url",e,n);});}else {const n=Ek(i,t);HM(t,e,n);}}}var $M='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>';const qM="0 0 64 42";class YM{constructor(e,t){const i=t.providers;const n=t.extraProviders||[];const o=new Set(t.removeProviders);const s=i.concat(n).filter(e=>{const t=e.name;if(!t){console.warn(Object(rr["a"])("media-embed-no-provider-name: The configured media provider has no name and cannot be used."),{provider:e});return false}return !o.has(t)});this.locale=e;this.providerDefinitions=s;}hasMedia(e){return !!this._getMedia(e)}getMediaViewElement(e,t,i){return this._getMedia(t).getViewElement(e,i)}_getMedia(e){if(!e){return new JM(this.locale)}e=e.trim();for(const t of this.providerDefinitions){const i=t.html;let n=t.url;if(!Array.isArray(n)){n=[n];}for(const t of n){const n=this._getUrlMatches(e,t);if(n){return new JM(this.locale,e,n,i)}}}return null}_getUrlMatches(e,t){let i=e.match(t);if(i){return i}let n=e.replace(/^https?:\/\//,"");i=n.match(t);if(i){return i}n=n.replace(/^www\./,"");i=n.match(t);if(i){return i}return null}}class JM{constructor(e,t,i,n){this.url=this._getValidUrl(t);this._t=e.t;this._match=i;this._previewRenderer=n;}getViewElement(e,t){const i={};let n;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){if(this.url){i["data-oembed-url"]=this.url;}if(t.renderForEditingView){i.class="ck-media__wrapper";}const o=this._getPreviewHtml(t);n=e.createUIElement("div",i,(function(e){const t=this.toDomElement(e);t.innerHTML=o;return t}));}else {if(this.url){i.url=this.url;}n=e.createEmptyElement("oembed",i);}e.setCustomProperty("media-content",true,n);return n}_getPreviewHtml(e){if(this._previewRenderer){return this._previewRenderer(this._match)}else {if(this.url&&e.renderForEditingView){return this._getPlaceholderHtml()}return ""}}_getPlaceholderHtml(){const e=new nw;const t=new tw;e.text=this._t("Open media in new tab");t.content=$M;t.viewBox=qM;const i=new qp({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},e]}]}).render();return i.outerHTML}_getValidUrl(e){if(!e){return null}if(e.match(/^https?/)){return e}return "https://"+e}}var GM=i(88);class QM extends Lw{static get pluginName(){return "MediaEmbedEditing"}constructor(e){super(e);e.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:e=>{const t=e[1];return '<div style="position: relative; padding-bottom: 100%; height: 0; ">'+`<iframe src="https://www.dailymotion.com/embed/video/${t}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" '+'frameborder="0" width="480" height="270" allowfullscreen allow="autoplay">'+"</iframe>"+"</div>"}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:e=>{const t=e[1];return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">'+`<iframe src="https://open.spotify.com/embed/${t}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" '+'frameborder="0" allowtransparency="true" allow="encrypted-media">'+"</iframe>"+"</div>"}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:e=>{const t=e[1];return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://www.youtube.com/embed/${t}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" '+'frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>'+"</iframe>"+"</div>"}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:e=>{const t=e[1];return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://player.vimeo.com/video/${t}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" '+'frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen>'+"</iframe>"+"</div>"}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]});this.registry=new YM(e.locale,e.config.get("mediaEmbed"));}init(){const e=this.editor;const t=e.model.schema;const i=e.t;const n=e.conversion;const o=e.config.get("mediaEmbed.previewsInData");const s=this.registry;e.commands.add("mediaEmbed",new WM(e));t.register("media",{isObject:true,isBlock:true,allowWhere:"$block",allowAttributes:["url"]});n.for("dataDowncast").elementToElement({model:"media",view:(e,t)=>{const i=e.getAttribute("url");return VM(t,s,i,{renderMediaPreview:i&&o})}});n.for("dataDowncast").add(DM(s,{renderMediaPreview:o}));n.for("editingDowncast").elementToElement({model:"media",view:(e,t)=>{const n=e.getAttribute("url");const o=VM(t,s,n,{renderForEditingView:true});return jM(o,t,i("media widget"))}});n.for("editingDowncast").add(DM(s,{renderForEditingView:true}));n.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:true}},model:(e,t)=>{const i=e.getAttribute("url");if(s.hasMedia(i)){return t.createElement("media",{url:i})}}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":true}},model:(e,t)=>{const i=e.getAttribute("data-oembed-url");if(s.hasMedia(i)){return t.createElement("media",{url:i})}}});}}const XM=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;class KM extends Lw{static get requires(){return [B_,Wv]}static get pluginName(){return "AutoMediaEmbed"}constructor(e){super(e);this._timeoutId=null;this._positionToInsert=null;}init(){const e=this.editor;const t=e.model.document;this.listenTo(e.plugins.get(B_),"inputTransformation",()=>{const e=t.selection.getFirstRange();const i=Lg.fromPosition(e.start);i.stickiness="toPrevious";const n=Lg.fromPosition(e.end);n.stickiness="toNext";t.once("change:data",()=>{this._embedMediaBetweenPositions(i,n);i.detach();n.detach();},{priority:"high"});});e.commands.get("undo").on("execute",()=>{if(this._timeoutId){Od.window.clearTimeout(this._timeoutId);this._positionToInsert.detach();this._timeoutId=null;this._positionToInsert=null;}},{priority:"high"});}_embedMediaBetweenPositions(e,t){const i=this.editor;const n=i.plugins.get(QM).registry;const o=new cf(e,t);const s=o.getWalker({ignoreElementEnd:true});let r="";for(const e of s){if(e.item.is("textProxy")){r+=e.item.data;}}r=r.trim();if(!r.match(XM)){o.detach();return}if(!n.hasMedia(r)){o.detach();return}const a=i.commands.get("mediaEmbed");if(!a.isEnabled){o.detach();return}this._positionToInsert=Lg.fromPosition(e);this._timeoutId=Od.window.setTimeout(()=>{i.model.change(e=>{this._timeoutId=null;e.remove(o);o.detach();let t;if(this._positionToInsert.root.rootName!=="$graveyard"){t=this._positionToInsert;}HM(i.model,r,t);this._positionToInsert.detach();this._positionToInsert=null;});},100);}}var ZM=i(90);class eE extends _b{constructor(e,t){super(t);const i=t.t;this.focusTracker=new Mp;this.keystrokes=new mp;this.urlInputView=this._createUrlInput();this.saveButtonView=this._createButton(i("Save"),Ey,"ck-button-save");this.saveButtonView.type="submit";this.cancelButtonView=this._createButton(i("Cancel"),Py,"ck-button-cancel","cancel");this._focusables=new Up;this._focusCycler=new Db({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});this._validators=e;this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]});}render(){super.render();My({view:this});const e=[this.urlInputView,this.saveButtonView,this.cancelButtonView];e.forEach(e=>{this._focusables.add(e);this.focusTracker.add(e.element);});this.keystrokes.listenTo(this.element);const t=e=>e.stopPropagation();this.keystrokes.set("arrowright",t);this.keystrokes.set("arrowleft",t);this.keystrokes.set("arrowup",t);this.keystrokes.set("arrowdown",t);this.listenTo(this.urlInputView.element,"selectstart",(e,t)=>{t.stopPropagation();},{priority:"high"});}focus(){this._focusCycler.focusFirst();}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim();}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t){this.urlInputView.errorText=t;return false}}return true}resetFormStatus(){this.urlInputView.errorText=null;this.urlInputView.infoText=this._urlInputViewInfoDefault;}_createUrlInput(){const e=this.locale.t;const t=new yy(this.locale,Cy);const i=t.fieldView;this._urlInputViewInfoDefault=e("Paste the media URL in the input.");this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster.");t.label=e("Media URL");t.infoText=this._urlInputViewInfoDefault;i.placeholder="https://example.com";i.on("input",()=>{t.infoText=i.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault;});return t}_createButton(e,t,i,n){const o=new sw(this.locale);o.set({label:e,icon:t,tooltip:true});o.extendTemplate({attributes:{class:i}});if(n){o.delegate("execute").to(this,n);}return o}}var tE='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 01.593-.351l5.133 2.824a.4.4 0 010 .7l-5.133 2.824a.4.4 0 01-.593-.35V7.176v.001z"/></svg>\n';class iE extends Lw{static get requires(){return [QM]}static get pluginName(){return "MediaEmbedUI"}init(){const e=this.editor;const t=e.commands.get("mediaEmbed");const i=e.plugins.get(QM).registry;e.ui.componentFactory.add("mediaEmbed",n=>{const o=bw(n);const s=new eE(nE(e.t,i),e.locale);this._setUpDropdown(o,s,t,e);this._setUpForm(o,s,t);return o});}_setUpDropdown(e,t,i){const n=this.editor;const o=n.t;const s=e.buttonView;e.bind("isEnabled").to(i);e.panelView.children.add(t);s.set({label:o("Insert media"),icon:tE,tooltip:true});s.on("open",()=>{t.url=i.value||"";t.urlInputView.fieldView.select();t.focus();},{priority:"low"});e.on("submit",()=>{if(t.isValid()){n.execute("mediaEmbed",t.url);r();}});e.on("change:isOpen",()=>t.resetFormStatus());e.on("cancel",()=>r());function r(){n.editing.view.focus();e.isOpen=false;}}_setUpForm(e,t,i){t.delegate("submit","cancel").to(e);t.urlInputView.bind("value").to(i,"value");t.urlInputView.bind("isReadOnly").to(i,"isEnabled",e=>!e);t.saveButtonView.bind("isEnabled").to(i);}}function nE(e,t){return [t=>{if(!t.url.length){return e("The URL must not be empty.")}},i=>{if(!t.hasMedia(i.url)){return e("This media URL is not supported.")}}]}var oE=i(92);class sE extends Lw{static get requires(){return [QM,iE,KM,my]}static get pluginName(){return "MediaEmbed"}}function rE(e,t){for(const i of e.getChildren()){if(i.is("b")&&i.getStyle("font-weight")==="normal"){const n=e.getChildIndex(i);t.remove(i);t.insertChild(n,i.getChildren(),e);}}}function aE(e,t){if(!e.childCount){return}const i=new bA(e.document);const n=lE(e,i);if(!n.length){return}let o=null;let s=1;n.forEach((e,r)=>{const a=gE(n[r-1],e);const c=a?null:n[r-1];const l=bE(c,e);if(a){o=null;s=1;}if(!o||l!==0){const n=dE(e,t);if(!o){o=uE(n,e.element,i);}else if(e.indent>s){const e=o.getChild(o.childCount-1);const t=e.getChild(e.childCount-1);o=uE(n,t,i);s+=1;}else if(e.indent<s){const t=s-e.indent;o=wE(o,t);s=parseInt(e.indent);}if(e.indent<=s){if(!o.is(n.type)){o=i.rename(n.type,o);}}}const d=hE(e.element,i);i.appendChild(d,o);});}function cE(e,t){for(const i of t.createRangeIn(e)){const e=i.item;if(e.is("li")){const i=e.getChild(0);if(i.is("p")){t.unwrapElement(i);}}}}function lE(e,t){const i=t.createRangeIn(e);const n=new Wr({name:/^p|h\d+$/,styles:{"mso-list":/.*/}});const o=[];for(const e of i){if(e.type==="elementStart"&&n.match(e.item)){const t=fE(e.item);o.push({element:e.item,id:t.id,order:t.order,indent:t.indent});}}return o}function dE(e,t){const i=new RegExp(`@list l${e.id}:level${e.indent}\\s*({[^}]*)`,"gi");const n=/mso-level-number-format:([^;]*);/gi;const o=i.exec(t);let s="decimal";if(o&&o[1]){const e=n.exec(o[1]);if(e&&e[1]){s=e[1].trim();}}return {type:s!=="bullet"&&s!=="image"?"ol":"ul",style:s}}function uE(e,t,i){const n=t.parent;const o=i.createElement(e.type);const s=n.getChildIndex(t)+1;i.insertChild(s,o,n);return o}function hE(e,t){mE(e,t);return t.rename("li",e)}function fE(e){const t={};const i=e.getStyle("mso-list");if(i){const e=i.match(/(^|\s+)l(\d+)/i);const n=i.match(/\s*lfo(\d+)/i);const o=i.match(/\s*level(\d+)/i);if(e&&n&&o){t.id=e[2];t.order=n[1];t.indent=o[1];}}return t}function mE(e,t){const i=new Wr({name:"span",styles:{"mso-list":"Ignore"}});const n=t.createRangeIn(e);for(const e of n){if(e.type==="elementStart"&&i.match(e.item)){t.remove(e.item);}}}function gE(e,t){if(!e){return true}if(e.id!==t.id){return true}const i=t.element.previousSibling;if(!i){return true}return !pE(i)}function pE(e){return e.is("ol")||e.is("ul")}function bE(e,t){return e?t.indent-e.indent:t.indent-1}function wE(e,t){const i=e.getAncestors({parentFirst:true});let n=null;let o=0;for(const e of i){if(e.name==="ul"||e.name==="ol"){o++;}if(o===t){n=e;break}}return n}const _E=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class vE{constructor(e){this.document=e;}isActive(e){return _E.test(e)}execute(e){const t=new bA(this.document);rE(e.content,t);cE(e.content,t);}}function kE(e){return xE(xE(e)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}function yE(e){e.querySelectorAll("span[style*=spacerun]").forEach(e=>{const t=e.innerText.length||0;e.innerHTML=Array(t+1).join("  ").substr(0,t);});}function xE(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,t)=>t.length===1?" ":Array(t.length+1).join("  ").substr(0,t.length))}function AE(e,t){const i=new DOMParser;e=e.replace(/<!--\[if gte vml 1]>/g,"");const n=kE(ME(e));const o=i.parseFromString(n,"text/html");yE(o);const s=o.body.innerHTML;const r=CE(o,t);const a=TE(o);return {body:r,bodyString:s,styles:a.styles,stylesString:a.stylesString}}function CE(e,t){const i=new bl(t);const n=new jd(i,{blockFillerMode:"nbsp"});const o=e.createDocumentFragment();const s=e.body.childNodes;while(s.length>0){o.appendChild(s[0]);}return n.domToView(o)}function TE(e){const t=[];const i=[];const n=Array.from(e.getElementsByTagName("style"));for(const e of n){if(e.sheet&&e.sheet.cssRules&&e.sheet.cssRules.length){t.push(e.sheet);i.push(e.innerHTML);}}return {styles:t,stylesString:i.join(" ")}}function ME(e){const t=/<\/body>(.*?)(<\/html>|$)/;const i=e.match(t);if(i&&i[1]){e=e.slice(0,i.index)+e.slice(i.index).replace(i[1],"");}return e}function EE(e,t){if(!e.childCount){return}const i=new bA;const n=SE(e,i);IE(n,e,i);OE(e,i);const o=NE(e,i);if(o.length){LE(o,RE(t),i);}}function PE(e){return btoa(e.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}function SE(e,t){const i=t.createRangeIn(e);const n=new Wr({name:/v:(.+)/});const o=[];for(const e of i){const t=e.item;const i=t.previousSibling&&t.previousSibling.name||null;if(n.match(t)&&t.getAttribute("o:gfxdata")&&i!=="v:shapetype"){o.push(e.item.getAttribute("id"));}}return o}function IE(e,t,i){const n=i.createRangeIn(t);const o=new Wr({name:"img"});const s=[];for(const t of n){if(o.match(t.item)){const i=t.item;const n=i.getAttribute("v:shapes")?i.getAttribute("v:shapes").split(" "):[];if(n.length&&n.every(t=>e.indexOf(t)>-1)){s.push(i);}else if(!i.getAttribute("src")){s.push(i);}}}for(const e of s){i.remove(e);}}function OE(e,t){const i=t.createRangeIn(e);const n=new Wr({name:/v:(.+)/});const o=[];for(const e of i){if(n.match(e.item)){o.push(e.item);}}for(const e of o){t.remove(e);}}function NE(e,t){const i=t.createRangeIn(e);const n=new Wr({name:"img"});const o=[];for(const e of i){if(n.match(e.item)){if(e.item.getAttribute("src").startsWith("file://")){o.push(e.item);}}}return o}function RE(e){if(!e){return []}const t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/;const i=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g");const n=e.match(i);const o=[];if(n){for(const e of n){let i=false;if(e.includes("\\pngblip")){i="image/png";}else if(e.includes("\\jpegblip")){i="image/jpeg";}if(i){o.push({hex:e.replace(t,"").replace(/[^\da-fA-F]/g,""),type:i});}}}return o}function LE(e,t,i){if(e.length===t.length){for(let n=0;n<e.length;n++){const o=`data:${t[n].type};base64,${PE(t[n].hex)}`;i.setAttribute("src",o,e[n]);}}}const DE=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i;const jE=/xmlns:o="urn:schemas-microsoft-com/i;class zE{constructor(e){this.document=e;}isActive(e){return DE.test(e)||jE.test(e)}execute(e){const{body:t,stylesString:i}=AE(e.dataTransfer.getData("text/html"),this.document.stylesProcessor);aE(t,i);EE(t,e.dataTransfer.getData("text/rtf"));e.content=t;}}class BE extends Lw{static get pluginName(){return "PasteFromOffice"}static get requires(){return [B_]}init(){const e=this.editor;const t=e.editing.view.document;const i=[];i.push(new zE(t));i.push(new vE(t));e.plugins.get("Clipboard").on("inputTransformation",(e,t)=>{if(t.isTransformedWithPasteFromOffice){return}const n=t.dataTransfer.getData("text/html");const o=i.find(e=>e.isActive(n));if(o){o.execute(t);t.isTransformedWithPasteFromOffice=true;}},{priority:"high"});}}function VE(e,t){let i=t.parent;while(i){if(i.name===e){return i}i=i.parent;}}function FE(e,t,i,n,o=1){if(t>o){n.setAttribute(e,t,i);}else {n.removeAttribute(e,i);}}function HE(e,t,i={}){const n=e.createElement("tableCell",i);e.insertElement("paragraph",n);e.insert(n,t);}function $E(e,t){const i=t.parent.parent;const n=parseInt(i.getAttribute("headingColumns")||0);const{column:o}=e.getCellLocation(t);return !!n&&o<n}function qE(){return e=>{e.on("element:table",(e,t,i)=>{const n=t.viewItem;if(!i.consumable.test(n,{name:true})){return}const{rows:o,headingRows:s,headingColumns:r}=GE(n);const a={};if(r){a.headingColumns=r;}if(s){a.headingRows=s;}const c=i.writer.createElement("table",a);const l=i.splitToAllowedParent(c,t.modelCursor);if(!l){return}i.writer.insert(c,l.position);i.consumable.consume(n,{name:true});o.forEach(e=>i.convertItem(e,i.writer.createPositionAt(c,"end")));if(c.isEmpty){const e=i.writer.createElement("tableRow");i.writer.insert(e,i.writer.createPositionAt(c,"end"));HE(i.writer,i.writer.createPositionAt(e,"end"));}t.modelRange=i.writer.createRange(i.writer.createPositionBefore(c),i.writer.createPositionAfter(c));if(l.cursorParent){t.modelCursor=i.writer.createPositionAt(l.cursorParent,0);}else {t.modelCursor=t.modelRange.end;}});}}function YE(){return e=>{e.on("element:tr",(e,t)=>{if(t.viewItem.isEmpty){e.stop();}},{priority:"high"});}}function JE(e){return t=>{t.on(`element:${e}`,(e,t,i)=>{const n=t.viewItem;if(!i.consumable.test(n,{name:true})){return}const o=i.writer.createElement("tableCell");const s=i.splitToAllowedParent(o,t.modelCursor);if(!s){return}i.writer.insert(o,s.position);i.consumable.consume(n,{name:true});const r=i.writer.createPositionAt(o,0);i.convertChildren(n,r);if(!o.childCount){i.writer.insertElement("paragraph",r);}t.modelRange=i.writer.createRange(i.writer.createPositionBefore(o),i.writer.createPositionAfter(o));t.modelCursor=t.modelRange.end;});}}function GE(e){const t={headingRows:0,headingColumns:0};const i=[];const n=[];let o;for(const s of Array.from(e.getChildren())){if(s.name==="tbody"||s.name==="thead"||s.name==="tfoot"){if(s.name==="thead"&&!o){o=s;}const e=Array.from(s.getChildren()).filter(e=>e.is("element","tr"));for(const s of e){if(s.parent.name==="thead"&&s.parent===o){t.headingRows++;i.push(s);}else {n.push(s);const e=QE(s);if(e>t.headingColumns){t.headingColumns=e;}}}}}t.rows=[...i,...n];return t}function QE(e){let t=0;let i=0;const n=Array.from(e.getChildren()).filter(e=>e.name==="th"||e.name==="td");while(i<n.length&&n[i].name==="th"){const e=n[i];const o=parseInt(e.getAttribute("colspan")||1);t=t+o;i++;}return t}class XE{constructor(e,t={}){this.table=e;this.startRow=t.startRow||0;this.endRow=typeof t.endRow=="number"?t.endRow:undefined;this.includeSpanned=!!t.includeSpanned;this.column=typeof t.column=="number"?t.column:undefined;this._skipRows=new Set;this._row=0;this._column=0;this._cellIndex=0;this._spannedCells=new Map;this._nextCellAtColumn=-1;}[Symbol.iterator](){return this}next(){const e=this.table.getChild(this._row);if(!e||this._isOverEndRow()){return {done:true}}let t,i,n;if(this._isSpanned(this._row,this._column)){t=this._getSpanned(this._row,this._column);i=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn();n=this._formatOutValue(t,this._column,true);}else {t=e.getChild(this._cellIndex);if(!t){this._row++;this._column=0;this._cellIndex=0;this._nextCellAtColumn=-1;return this.next()}const o=parseInt(t.getAttribute("colspan")||1);const s=parseInt(t.getAttribute("rowspan")||1);if(o>1||s>1){this._recordSpans(this._row,this._column,s,o,t);}this._nextCellAtColumn=this._column+o;i=this._shouldSkipRow()||this._shouldSkipColumn();n=this._formatOutValue(t,this._column,false,s,o);}this._column++;if(this._column==this._nextCellAtColumn){this._cellIndex++;}return i?this.next():n}skipRow(e){this._skipRows.add(e);}_isOverEndRow(){return this.endRow!==undefined&&this._row>this.endRow}_formatOutValue(e,t,i,n=1,o=1){return {done:false,value:{cell:e,row:this._row,column:t,isSpanned:i,rowspan:n,colspan:o,cellIndex:this._cellIndex}}}_shouldSkipRow(){const e=this._row<this.startRow;const t=this._skipRows.has(this._row);return e||t}_shouldSkipColumn(){if(this.column===undefined){return false}return this.column!=this._column}_isSpanned(e,t){if(!this._spannedCells.has(e)){return false}const i=this._spannedCells.get(e);return i.has(t)}_getSpanned(e,t){return this._spannedCells.get(e).get(t)}_recordSpans(e,t,i,n,o){for(let i=t+1;i<=t+n-1;i++){this._markSpannedCell(e,i,o);}for(let s=e+1;s<e+i;s++){for(let e=t;e<=t+n-1;e++){this._markSpannedCell(s,e,o);}}}_markSpannedCell(e,t,i){if(!this._spannedCells.has(e)){this._spannedCells.set(e,new Map);}const n=this._spannedCells.get(e);n.set(t,i);}}function KE(e,t){t.setCustomProperty("table",true,e);return xk(e,t,{hasSelectionHandle:true})}function ZE(e){return !!e.getCustomProperty("table")&&yk(e)}function eP(e){const t=e.getSelectedElement();if(t&&ZE(t)){return t}return null}function tP(e){const t=VE("table",e.getFirstPosition());if(t&&ZE(t.parent)){return t.parent}return null}function iP(e){const t=[];for(const i of fP(e.getRanges())){const e=i.getContainedElement();if(e&&e.is("tableCell")){t.push(e);}}return t}function nP(e){const t=[];for(const i of e.getRanges()){const e=VE("tableCell",i.start);if(e){t.push(e);}}return t}function oP(e){const t=iP(e);if(t.length){return t}return nP(e)}function sP(e){const t=e.map(e=>e.parent.index);return hP(t)}function rP(e){const t=VE("table",e[0]);const i=[...new XE(t)];const n=i.filter(t=>e.includes(t.cell)).map(e=>e.column);return hP(n)}function aP(e,t){if(e.length<2||!pP(e)){return false}const i=new Set;const n=new Set;let o=0;for(const s of e){const{row:e,column:r}=t.getCellLocation(s);const a=parseInt(s.getAttribute("rowspan")||1);const c=parseInt(s.getAttribute("colspan")||1);i.add(e);n.add(r);if(a>1){i.add(e+a-1);}if(c>1){n.add(r+c-1);}o+=a*c;}const s=gP(i,n);return s==o}function cP(e,t,i=0){const n=[];const o=new XE(e,{startRow:i,endRow:t-1});for(const e of o){const{row:i,rowspan:o}=e;const s=i+o-1;if(i<t&&t<=s){n.push(e);}}return n}function lP(e,t,i){const n=e.parent;const o=n.parent;const s=n.index;const r=parseInt(e.getAttribute("rowspan"));const a=t-s;const c={};const l=r-a;if(l>1){c.rowspan=l;}const d=parseInt(e.getAttribute("colspan")||1);if(d>1){c.colspan=d;}const u=s;const h=u+a;const f=[...new XE(o,{startRow:u,endRow:h,includeSpanned:true})];let m;for(const{row:t,column:n,cell:s,cellIndex:r}of f){if(s===e&&m===undefined){m=n;}if(m!==undefined&&m===n&&t===h){const e=o.getChild(t);const n=i.createPositionAt(e,r);HE(i,n,c);}}FE("rowspan",a,e,i);}function dP(e,t){const i=[];const n=new XE(e);for(const e of n){const{column:n,colspan:o}=e;const s=n+o-1;if(n<t&&t<=s){i.push(e);}}return i}function uP(e,t,i,n){const o=parseInt(e.getAttribute("colspan"));const s=i-t;const r={};const a=o-s;if(a>1){r.colspan=a;}const c=parseInt(e.getAttribute("rowspan")||1);if(c>1){r.rowspan=c;}HE(n,n.createPositionAfter(e),r);FE("colspan",s,e,n);}function hP(e){const t=e.sort((e,t)=>e-t);const i=t[0];const n=t[t.length-1];return {first:i,last:n}}function fP(e){return Array.from(e).sort(mP)}function mP(e,t){const i=e.start;const n=t.start;return i.isBefore(n)?-1:1}function gP(e,t){const i=Array.from(e.values());const n=Array.from(t.values());const o=Math.max(...i);const s=Math.min(...i);const r=Math.max(...n);const a=Math.min(...n);return (o-s+1)*(r-a+1)}function pP(e){const t=VE("table",e[0]);const i=sP(e);const n=parseInt(t.getAttribute("headingRows")||0);if(!bP(i,n)){return false}const o=parseInt(t.getAttribute("headingColumns")||0);const s=rP(e);return bP(s,o)}function bP({first:e,last:t},i){const n=e<i;const o=t<i;return n===o}function wP(e={}){return t=>t.on("insert:table",(t,i,n)=>{const o=i.item;if(!n.consumable.consume(o,"insert")){return}n.consumable.consume(o,"attribute:headingRows:table");n.consumable.consume(o,"attribute:headingColumns:table");const s=e&&e.asWidget;const r=n.writer.createContainerElement("figure",{class:"table"});const a=n.writer.createContainerElement("table");n.writer.insert(n.writer.createPositionAt(r,0),a);let c;if(s){c=KE(r,n.writer);}const l=new XE(o);const d={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};const u=new Map;for(const t of l){const{row:i,cell:s}=t;const r=SP(PP(i,d),a,n);const c=o.getChild(i);const l=u.get(i)||MP(c,i,r,n);u.set(i,l);n.consumable.consume(s,"insert");const h=n.writer.createPositionAt(l,"end");TP(t,d,h,n,e);}const h=n.mapper.toViewPosition(i.range.start);n.mapper.bindElements(o,s?c:r);n.writer.insert(h,s?c:r);})}function _P(e={}){return t=>t.on("insert:tableRow",(t,i,n)=>{const o=i.item;if(!n.consumable.consume(o,"insert")){return}const s=o.parent;const r=n.mapper.toViewElement(s);const a=LP(r);const c=s.getChildIndex(o);const l=new XE(s,{startRow:c,endRow:c});const d={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0};const u=new Map;for(const t of l){const i=SP(PP(c,d),a,n);const s=u.get(c)||MP(o,c,i,n);u.set(c,s);n.consumable.consume(t.cell,"insert");const r=n.writer.createPositionAt(s,"end");TP(t,d,r,n,e);}})}function vP(e={}){return t=>t.on("insert:tableCell",(t,i,n)=>{const o=i.item;if(!n.consumable.consume(o,"insert")){return}const s=o.parent;const r=s.parent;const a=r.getChildIndex(s);const c=new XE(r,{startRow:a,endRow:a});const l={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0};for(const t of c){if(t.cell===o){const i=n.mapper.toViewElement(s);const r=n.writer.createPositionAt(i,s.getChildIndex(o));TP(t,l,r,n,e);return}}})}function kP(e={}){const t=!!e.asWidget;return e=>e.on("attribute:headingRows:table",(e,i,n)=>{const o=i.item;if(!n.consumable.consume(i.item,e.name)){return}const s=n.mapper.toViewElement(o);const r=LP(s);const a=i.attributeOldValue;const c=i.attributeNewValue;if(c>a){const e=Array.from(o.getChildren()).filter(({index:e})=>l(e,a-1,c));const i=SP("thead",r,n);RP(e,i,n,"end");for(const i of e){for(const e of i.getChildren()){AP(e,"th",n,t);}}}else {const e=Array.from(o.getChildren()).filter(({index:e})=>l(e,c-1,a)).reverse();const i=SP("tbody",r,n);RP(e,i,n,0);const s=new XE(o,{startRow:c?c-1:c,endRow:a-1});const d={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};for(const e of s){CP(e,d,n,t);}}NP("thead",r,n);NP("tbody",r,n);function l(e,t,i){return e>t&&e<i}})}function yP(e={}){const t=!!e.asWidget;return e=>e.on("attribute:headingColumns:table",(e,i,n)=>{const o=i.item;if(!n.consumable.consume(i.item,e.name)){return}const s={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};const r=i.attributeOldValue;const a=i.attributeNewValue;const c=(r>a?r:a)-1;for(const e of new XE(o)){if(e.column>c){continue}CP(e,s,n,t);}})}function xP(){return e=>e.on("remove:tableRow",(e,t,i)=>{e.stop();const n=i.writer;const o=i.mapper;const s=o.toViewPosition(t.position).getLastMatchingPosition(e=>!e.item.is("tr"));const r=s.nodeAfter;const a=r.parent;const c=a.parent;const l=n.createRangeOn(r);const d=n.remove(l);for(const e of n.createRangeIn(d).getItems()){o.unbindViewElement(e);}NP("thead",c,i);NP("tbody",c,i);},{priority:"higher"})}function AP(e,t,i,n){const o=i.writer;const s=i.mapper.toViewElement(e);if(!s){return}let r;if(n){const e=o.createEditableElement(t,s.getAttributes());r=Mk(e,o);o.insert(o.createPositionAfter(s),r);o.move(o.createRangeIn(s),o.createPositionAt(r,0));o.remove(o.createRangeOn(s));}else {r=o.rename(t,s);}i.mapper.unbindViewElement(s);i.mapper.bindElements(e,r);}function CP(e,t,i,n){const{cell:o}=e;const s=EP(e,t);const r=i.mapper.toViewElement(o);if(r&&r.name!==s){AP(o,s,i,n);}}function TP(e,t,i,n,o){const s=o&&o.asWidget;const r=EP(e,t);const a=s?Mk(n.writer.createEditableElement(r),n.writer):n.writer.createContainerElement(r);const c=e.cell;const l=c.getChild(0);const d=c.childCount===1&&l.name==="paragraph";n.writer.insert(i,a);if(d&&!DP(l)){const e=c.getChild(0);const t=n.writer.createPositionAt(a,"end");n.consumable.consume(e,"insert");if(o.asWidget){const i=n.writer.createContainerElement("span",{style:"display:inline-block"});n.mapper.bindElements(e,i);n.writer.insert(t,i);n.mapper.bindElements(c,a);}else {n.mapper.bindElements(c,a);n.mapper.bindElements(e,a);}}else {n.mapper.bindElements(c,a);}}function MP(e,t,i,n){n.consumable.consume(e,"insert");const o=n.writer.createContainerElement("tr");n.mapper.bindElements(e,o);const s=e.parent.getAttribute("headingRows")||0;const r=s>0&&t>=s?t-s:t;const a=n.writer.createPositionAt(i,r);n.writer.insert(a,o);return o}function EP(e,t){const{row:i,column:n}=e;const{headingColumns:o,headingRows:s}=t;const r=s&&s>i;if(r){return "th"}const a=o&&o>n;return a?"th":"td"}function PP(e,t){return e<t.headingRows?"thead":"tbody"}function SP(e,t,i){const n=IP(e,t);return n?n:OP(e,t,i)}function IP(e,t){for(const i of t.getChildren()){if(i.name==e){return i}}}function OP(e,t,i){const n=i.writer.createContainerElement(e);const o=i.writer.createPositionAt(t,e=="tbody"?"end":0);i.writer.insert(o,n);return n}function NP(e,t,i){const n=IP(e,t);if(n&&n.childCount===0){i.writer.remove(i.writer.createRangeOn(n));}}function RP(e,t,i,n){for(const o of e){const e=i.mapper.toViewElement(o);if(e){i.writer.move(i.writer.createRangeOn(e),i.writer.createPositionAt(t,n));}}}function LP(e){for(const t of e.getChildren()){if(t.name==="table"){return t}}}function DP(e){return !![...e.getAttributeKeys()].length}class jP extends jw{refresh(){const e=this.editor.model;const t=e.document.selection;const i=e.schema;const n=zP(t.getFirstPosition());this.isEnabled=i.checkChild(n,"table");}execute(e={}){const t=this.editor.model;const i=t.document.selection;const n=this.editor.plugins.get("TableUtils");const o=parseInt(e.rows)||2;const s=parseInt(e.columns)||2;const r=Ek(i,t);t.change(e=>{const i=n.createTable(e,o,s);t.insertContent(i,r);e.setSelection(e.createPositionAt(i.getNodeByPath([0,0,0]),0));});}}function zP(e){const t=e.parent;return t===t.root?t:t.parent}class BP extends jw{constructor(e,t={}){super(e);this.order=t.order||"below";}refresh(){const e=this.editor.model.document.selection;const t=VE("table",e.getFirstPosition());this.isEnabled=!!t;}execute(){const e=this.editor;const t=e.model.document.selection;const i=e.plugins.get("TableUtils");const n=this.order==="above";const o=oP(t);const s=sP(o);const r=n?s.first:s.last;const a=VE("table",o[0]);i.insertRows(a,{at:n?r:r+1,copyStructureFromAbove:!n});}}class VP extends jw{constructor(e,t={}){super(e);this.order=t.order||"right";}refresh(){const e=this.editor.model.document.selection;const t=VE("table",e.getFirstPosition());this.isEnabled=!!t;}execute(){const e=this.editor;const t=e.model.document.selection;const i=e.plugins.get("TableUtils");const n=this.order==="left";const o=oP(t);const s=rP(o);const r=n?s.first:s.last;const a=VE("table",o[0]);i.insertColumns(a,{columns:1,at:n?r:r+1});}}class FP extends jw{constructor(e,t={}){super(e);this.direction=t.direction||"horizontally";}refresh(){const e=oP(this.editor.model.document.selection);this.isEnabled=e.length===1;}execute(){const e=oP(this.editor.model.document.selection)[0];const t=this.direction==="horizontally";const i=this.editor.plugins.get("TableUtils");if(t){i.splitCellHorizontally(e,2);}else {i.splitCellVertically(e,2);}}}class HP extends jw{constructor(e,t){super(e);this.direction=t.direction;this.isHorizontal=this.direction=="right"||this.direction=="left";}refresh(){const e=this._getMergeableCell();this.value=e;this.isEnabled=!!e;}execute(){const e=this.editor.model;const t=e.document;const i=nP(t.selection)[0];const n=this.value;const o=this.direction;e.change(e=>{const t=o=="right"||o=="down";const s=t?i:n;const r=t?n:i;const a=r.parent;$P(r,s,e);const c=this.isHorizontal?"colspan":"rowspan";const l=parseInt(i.getAttribute(c)||1);const d=parseInt(n.getAttribute(c)||1);e.setAttribute(c,l+d,s);e.setSelection(e.createRangeIn(s));if(!a.childCount){const t=this.editor.plugins.get("TableUtils");const i=VE("table",a);t.removeRows(i,{at:a.index,batch:e.batch});}});}_getMergeableCell(){const e=this.editor.model;const t=e.document;const i=nP(t.selection)[0];if(!i){return}const n=this.editor.plugins.get("TableUtils");const o=this.isHorizontal?UP(i,this.direction,n):WP(i,this.direction);if(!o){return}const s=this.isHorizontal?"rowspan":"colspan";const r=parseInt(i.getAttribute(s)||1);const a=parseInt(o.getAttribute(s)||1);if(a===r){return o}}}function UP(e,t,i){const n=e.parent;const o=n.parent;const s=t=="right"?e.nextSibling:e.previousSibling;const r=(o.getAttribute("headingColumns")||0)>0;if(!s){return}const a=t=="right"?e:s;const c=t=="right"?s:e;const{column:l}=i.getCellLocation(a);const{column:d}=i.getCellLocation(c);const u=parseInt(a.getAttribute("colspan")||1);const h=$E(i,a);const f=$E(i,c);if(r&&h!=f){return}const m=l+u===d;return m?s:undefined}function WP(e,t){const i=e.parent;const n=i.parent;const o=n.getChildIndex(i);if(t=="down"&&o===n.childCount-1||t=="up"&&o===0){return}const s=parseInt(e.getAttribute("rowspan")||1);const r=n.getAttribute("headingRows")||0;const a=t=="down"&&o+s===r;const c=t=="up"&&o===r;if(r&&(a||c)){return}const l=parseInt(e.getAttribute("rowspan")||1);const d=t=="down"?o+l:o;const u=[...new XE(n,{endRow:d})];const h=u.find(t=>t.cell===e);const f=h.column;const m=u.find(({row:e,rowspan:i,column:n})=>{if(n!==f){return false}if(t=="down"){return e===d}else {return d===e+i}});return m&&m.cell}function $P(e,t,i){if(!qP(e)){if(qP(t)){i.remove(i.createRangeIn(t));}i.move(i.createRangeIn(e),i.createPositionAt(t,"end"));}i.remove(e);}function qP(e){return e.childCount==1&&e.getChild(0).is("paragraph")&&e.getChild(0).isEmpty}class YP extends jw{refresh(){const e=oP(this.editor.model.document.selection);const t=e[0];if(t){const i=VE("table",t);const n=this.editor.plugins.get("TableUtils").getRows(i);const o=n-1;const s=sP(e);const r=s.first===0&&s.last===o;this.isEnabled=!r;}else {this.isEnabled=false;}}execute(){const e=this.editor.model;const t=oP(e.document.selection);const i=sP(t);const n=t[0];const o=VE("table",n);const s=this.editor.plugins.get("TableUtils").getCellLocation(n).column;const r=e.createBatch();e.enqueueChange(r,e=>{e.setSelection(e.createSelection(o,"on"));const t=i.last-i.first+1;this.editor.plugins.get("TableUtils").removeRows(o,{at:i.first,rows:t,batch:r});});e.enqueueChange(r,e=>{const t=JP(o,i.first,s);e.setSelection(e.createPositionAt(t,0));});}}function JP(e,t,i){const n=e.getChild(t)||e.getChild(e.childCount-1);let o=n.getChild(0);let s=0;for(const e of n.getChildren()){if(s>i){return o}o=e;s+=parseInt(e.getAttribute("colspan")||1);}return o}class GP extends jw{refresh(){const e=oP(this.editor.model.document.selection);const t=e[0];if(t){const i=VE("table",t);const n=this.editor.plugins.get("TableUtils").getColumns(i);const{first:o,last:s}=rP(e);this.isEnabled=s-o<n-1;}else {this.isEnabled=false;}}execute(){const[e,t]=XP(this.editor.model.document.selection);const i=e.parent.parent;const n=[...new XE(i)];const o={first:n.find(t=>t.cell===e).column,last:n.find(e=>e.cell===t).column};const s=QP(n,e,t,o);this.editor.model.change(e=>{const t=o.last-o.first+1;this.editor.plugins.get("TableUtils").removeColumns(i,{at:o.first,columns:t});e.setSelection(e.createPositionAt(s,0));});}}function QP(e,t,i,n){const o=parseInt(i.getAttribute("colspan")||1);if(o>1){return i}else if(t.previousSibling||i.nextSibling){return i.nextSibling||t.previousSibling}else {if(n.first){return e.reverse().find(({column:e})=>e<n.first).cell}else {return e.reverse().find(({column:e})=>e>n.last).cell}}}function XP(e){const t=oP(e);const i=t[0];const n=t.pop();const o=[i,n];return i.isBefore(n)?o:o.reverse()}class KP extends jw{refresh(){const e=this.editor.model;const t=oP(e.document.selection);const i=t.length>0;this.isEnabled=i;this.value=i&&t.every(e=>this._isInHeading(e,e.parent.parent));}execute(e={}){if(e.forceValue===this.value){return}const t=this.editor.model;const i=oP(t.document.selection);const n=VE("table",i[0]);const{first:o,last:s}=sP(i);const r=this.value?o:s+1;const a=n.getAttribute("headingRows")||0;t.change(e=>{if(r){const t=r>a?a:0;const i=cP(n,r,t);for(const{cell:t}of i){lP(t,r,e);}}FE("headingRows",r,n,e,0);});}_isInHeading(e,t){const i=parseInt(t.getAttribute("headingRows")||0);return !!i&&e.parent.index<i}}class ZP extends jw{refresh(){const e=this.editor.model;const t=oP(e.document.selection);const i=this.editor.plugins.get("TableUtils");const n=t.length>0;this.isEnabled=n;this.value=n&&t.every(e=>$E(i,e));}execute(e={}){if(e.forceValue===this.value){return}const t=this.editor.model;const i=oP(t.document.selection);const n=VE("table",i[0]);const{first:o,last:s}=rP(i);const r=this.value?o:s+1;t.change(e=>{if(r){const t=dP(n,r);for(const{cell:i,column:n}of t){uP(i,n,r,e);}}FE("headingColumns",r,n,e,0);});}}class eS extends Lw{static get pluginName(){return "TableUtils"}getCellLocation(e){const t=e.parent;const i=t.parent;const n=i.getChildIndex(t);const o=new XE(i,{startRow:n,endRow:n});for(const{cell:t,row:i,column:n}of o){if(t===e){return {row:i,column:n}}}}createTable(e,t,i){const n=e.createElement("table");tS(e,n,0,t,i);return n}insertRows(e,t={}){const i=this.editor.model;const n=t.at||0;const o=t.rows||1;const s=t.copyStructureFromAbove!==undefined;const r=t.copyStructureFromAbove?n-1:n;const a=this.getRows(e);const c=this.getColumns(e);i.change(t=>{const i=e.getAttribute("headingRows")||0;if(i>n){t.setAttribute("headingRows",i+o,e);}if(!s&&(n===0||n===a)){tS(t,e,n,o,c);return}const l=s?Math.max(n,r):n;const d=new XE(e,{endRow:l});const u=new Array(c).fill(1);for(const{row:e,column:i,rowspan:a,colspan:c,cell:l}of d){const d=e+a-1;const h=e<n&&n<=d;const f=e<=r&&r<=d;if(h){t.setAttribute("rowspan",a+o,l);u[i]=-c;}else if(s&&f){u[i]=c;}}for(let i=0;i<o;i++){const i=t.createElement("tableRow");t.insert(i,e,n);for(let e=0;e<u.length;e++){const n=u[e];const o=t.createPositionAt(i,"end");if(n>0){HE(t,o,n>1?{colspan:n}:null);}e+=Math.abs(n)-1;}}});}insertColumns(e,t={}){const i=this.editor.model;const n=t.at||0;const o=t.columns||1;i.change(t=>{const i=e.getAttribute("headingColumns");if(n<i){t.setAttribute("headingColumns",i+o,e);}const s=this.getColumns(e);if(n===0||s===n){for(const i of e.getChildren()){iS(o,t,t.createPositionAt(i,n?"end":0));}return}const r=new XE(e,{column:n,includeSpanned:true});for(const{row:i,cell:s,cellIndex:a}of r){const c=parseInt(s.getAttribute("rowspan")||1);const l=parseInt(s.getAttribute("colspan")||1);if(a!==n&&l>1){t.setAttribute("colspan",l+o,s);r.skipRow(i);if(c>1){for(let e=i+1;e<i+c;e++){r.skipRow(e);}}}else {const n=t.createPositionAt(e.getChild(i),a);iS(o,t,n);}}});}removeRows(e,t){const i=this.editor.model;const n=t.rows||1;const o=t.at;const s=o+n-1;const r=t.batch||"default";i.enqueueChange(r,t=>{const{cellsToMove:n,cellsToTrim:a}=rS(e,o,s);if(n.size){const i=s+1;aS(e,i,n,t);}for(let i=s;i>=o;i--){t.remove(e.getChild(i));}for(const{rowspan:e,cell:i}of a){FE("rowspan",e,i,t);}sS(e,o,s,i,r);});}removeColumns(e,t){const i=this.editor.model;const n=t.at;const o=t.columns||1;const s=t.at+o-1;i.change(t=>{oS(e,{first:n,last:s},t);const i=[];for(let o=s;o>=n;o--){for(const{cell:n,column:s,colspan:r}of [...new XE(e)]){if(s<=o&&r>1&&s+r>o){FE("colspan",r-1,n,t);}else if(s===o){const e=n.parent;t.remove(n);if(!e.childCount){i.push(e.index);}}}}i.reverse().forEach(i=>this.removeRows(e,{at:i,batch:t.batch}));});}splitCellVertically(e,t=2){const i=this.editor.model;const n=e.parent;const o=n.parent;const s=parseInt(e.getAttribute("rowspan")||1);const r=parseInt(e.getAttribute("colspan")||1);i.change(i=>{if(r>1){const{newCellsSpan:n,updatedSpan:o}=nS(r,t);FE("colspan",o,e,i);const a={};if(n>1){a.colspan=n;}if(s>1){a.rowspan=s;}const c=r>t?t-1:r-1;iS(c,i,i.createPositionAfter(e),a);}if(r<t){const n=t-r;const a=[...new XE(o)];const{column:c}=a.find(({cell:t})=>t===e);const l=a.filter(({cell:t,colspan:i,column:n})=>{const o=t!==e&&n===c;const s=n<c&&n+i>c;return o||s});for(const{cell:e,colspan:t}of l){i.setAttribute("colspan",t+n,e);}const d={};if(s>1){d.rowspan=s;}iS(n,i,i.createPositionAfter(e),d);const u=o.getAttribute("headingColumns")||0;if(u>c){FE("headingColumns",u+n,o,i);}}});}splitCellHorizontally(e,t=2){const i=this.editor.model;const n=e.parent;const o=n.parent;const s=o.getChildIndex(n);const r=parseInt(e.getAttribute("rowspan")||1);const a=parseInt(e.getAttribute("colspan")||1);i.change(i=>{if(r>1){const n=[...new XE(o,{startRow:s,endRow:s+r-1,includeSpanned:true})];const{newCellsSpan:c,updatedSpan:l}=nS(r,t);FE("rowspan",l,e,i);const{column:d}=n.find(({cell:t})=>t===e);const u={};if(c>1){u.rowspan=c;}if(a>1){u.colspan=a;}for(const{column:e,row:t,cellIndex:r}of n){const n=t>=s+l;const a=e===d;const h=(t+s+l)%c===0;if(n&&a&&h){const e=i.createPositionAt(o.getChild(t),r);iS(1,i,e,u);}}}if(r<t){const n=t-r;const c=[...new XE(o,{startRow:0,endRow:s})];for(const{cell:t,rowspan:o,row:r}of c){if(t!==e&&r+o>s){const e=o+n;i.setAttribute("rowspan",e,t);}}const l={};if(a>1){l.colspan=a;}tS(i,o,s+1,n,1,l);const d=o.getAttribute("headingRows")||0;if(d>s){FE("headingRows",d+n,o,i);}}});}getColumns(e){const t=e.getChild(0);return [...t.getChildren()].reduce((e,t)=>{const i=parseInt(t.getAttribute("colspan")||1);return e+i},0)}getRows(e){return e.childCount}}function tS(e,t,i,n,o,s={}){for(let r=0;r<n;r++){const n=e.createElement("tableRow");e.insert(n,t,i);iS(o,e,e.createPositionAt(n,"end"),s);}}function iS(e,t,i,n={}){for(let o=0;o<e;o++){HE(t,i,n);}}function nS(e,t){if(e<t){return {newCellsSpan:1,updatedSpan:1}}const i=Math.floor(e/t);const n=e-i*t+i;return {newCellsSpan:i,updatedSpan:n}}function oS(e,t,i){const n=e.getAttribute("headingColumns")||0;if(n&&t.first<n){const o=Math.min(n-1,t.last)-t.first+1;i.setAttribute("headingColumns",n-o,e);}}function sS(e,t,i,n,o){n.enqueueChange(o,n=>{const o=e.getAttribute("headingRows")||0;if(t<o){const s=i<o?o-(i-t+1):t;FE("headingRows",s,e,n,0);}});}function rS(e,t,i){const n=new Map;const o=[];for(const{row:s,column:r,rowspan:a,cell:c}of new XE(e,{endRow:i})){const e=s+a-1;const l=s>=t&&s<=i&&e>i;if(l){const e=i-s+1;const t=a-e;n.set(r,{cell:c,rowspan:t});}const d=s<t&&e>=t;if(d){let n;if(e>=i){n=i-t+1;}else {n=e-t+1;}o.push({cell:c,rowspan:a-n});}}return {cellsToMove:n,cellsToTrim:o}}function aS(e,t,i,n){const o=new XE(e,{includeSpanned:true,startRow:t,endRow:t});const s=[...o];const r=e.getChild(t);let a;for(const{column:e,cell:t,isSpanned:o}of s){if(i.has(e)){const{cell:t,rowspan:o}=i.get(e);const s=a?n.createPositionAfter(a):n.createPositionAt(r,0);n.move(n.createRangeOn(t),s);FE("rowspan",o,t,n);a=t;}else if(!o){a=t;}}}class cS extends jw{refresh(){const e=iP(this.editor.model.document.selection);this.isEnabled=aP(e,this.editor.plugins.get(eS));}execute(){const e=this.editor.model;const t=this.editor.plugins.get(eS);e.change(i=>{const n=iP(e.document.selection);const o=n.shift();i.setSelection(o,0);const{mergeWidth:s,mergeHeight:r}=uS(o,n,t);FE("colspan",s,o,i);FE("rowspan",r,o,i);const a=[];for(const e of n){const t=e.parent;lS(e,o,i);if(!t.childCount){a.push(t.index);}}if(a.length){const e=VE("table",o);a.reverse().forEach(n=>t.removeRows(e,{at:n,batch:i.batch}));}i.setSelection(o,"in");});}}function lS(e,t,i){if(!dS(e)){if(dS(t)){i.remove(i.createRangeIn(t));}i.move(i.createRangeIn(e),i.createPositionAt(t,"end"));}i.remove(e);}function dS(e){return e.childCount==1&&e.getChild(0).is("paragraph")&&e.getChild(0).isEmpty}function uS(e,t,i){let n=0;let o=0;for(const e of t){const{row:t,column:s}=i.getCellLocation(e);n=hS(e,s,n,"colspan");o=hS(e,t,o,"rowspan");}const{row:s,column:r}=i.getCellLocation(e);const a=n-r;const c=o-s;return {mergeWidth:a,mergeHeight:c}}function hS(e,t,i,n){const o=parseInt(e.getAttribute(n)||1);return Math.max(i,t+o)}class fS extends jw{refresh(){const e=oP(this.editor.model.document.selection);this.isEnabled=e.length>0;}execute(){const e=this.editor.model;const t=oP(e.document.selection);const i=sP(t);const n=VE("table",t[0]);const o=[];for(let t=i.first;t<=i.last;t++){for(const i of n.getChild(t).getChildren()){o.push(e.createRangeOn(i));}}e.change(e=>{e.setSelection(o);});}}class mS extends jw{refresh(){const e=oP(this.editor.model.document.selection);this.isEnabled=e.length>0;}execute(){const e=this.editor.model;const t=oP(e.document.selection);const i=t[0];const n=t.pop();const o=this.editor.plugins.get("TableUtils");const s=o.getCellLocation(i);const r=o.getCellLocation(n);const a=Math.min(s.column,r.column);const c=Math.max(s.column,r.column);const l=[];for(const t of new XE(VE("table",i))){if(t.column>=a&&t.column<=c){l.push(e.createRangeOn(t.cell));}}e.change(e=>{e.setSelection(l);});}}function gS(e){e.document.registerPostFixer(t=>pS(t,e));}function pS(e,t){const i=t.document.differ.getChanges();let n=false;const o=new Set;for(const t of i){let i;if(t.name=="table"&&t.type=="insert"){i=t.position.nodeAfter;}if(t.name=="tableRow"||t.name=="tableCell"){i=VE("table",t.position);}if(kS(t)){i=VE("table",t.range.start);}if(i&&!o.has(i)){n=bS(i,e)||n;n=wS(i,e)||n;o.add(i);}}return n}function bS(e,t){let i=false;const n=_S(e);if(n.length){i=true;for(const e of n){FE("rowspan",e.rowspan,e.cell,t,1);}}return i}function wS(e,t){let i=false;const n=vS(e);const o=[];for(const[e,t]of n.entries()){if(!t){o.push(e);}}if(o.length){i=true;for(const i of o.reverse()){t.remove(e.getChild(i));n.splice(i,1);}}const s=n[0];const r=n.every(e=>e===s);if(!r){const o=n.reduce((e,t)=>t>e?t:e,0);for(const[s,r]of n.entries()){const n=o-r;if(n){for(let i=0;i<n;i++){HE(t,t.createPositionAt(e.getChild(s),"end"));}i=true;}}}return i}function _S(e){const t=parseInt(e.getAttribute("headingRows")||0);const i=e.childCount;const n=[];for(const{row:o,rowspan:s,cell:r}of new XE(e)){if(s<2){continue}const e=o<t;const a=e?t:i;if(o+s>a){const e=a-o;n.push({cell:r,rowspan:e});}}return n}function vS(e){const t=new Array(e.childCount).fill(0);for(const{row:i}of new XE(e,{includeSpanned:true})){t[i]++;}return t}function kS(e){const t=e.type==="attribute";const i=e.attributeKey;return t&&(i==="headingRows"||i==="colspan"||i==="rowspan")}function yS(e){e.document.registerPostFixer(t=>xS(t,e));}function xS(e,t){const i=t.document.differ.getChanges();let n=false;for(const t of i){if(t.type=="insert"&&t.name=="table"){n=AS(t.position.nodeAfter,e)||n;}if(t.type=="insert"&&t.name=="tableRow"){n=CS(t.position.nodeAfter,e)||n;}if(t.type=="insert"&&t.name=="tableCell"){n=TS(t.position.nodeAfter,e)||n;}if(MS(t)){n=TS(t.position.parent,e)||n;}}return n}function AS(e,t){let i=false;for(const n of e.getChildren()){i=CS(n,t)||i;}return i}function CS(e,t){let i=false;for(const n of e.getChildren()){i=TS(n,t)||i;}return i}function TS(e,t){if(e.childCount==0){t.insertElement("paragraph",e);return true}const i=Array.from(e.getChildren()).filter(e=>e.is("text"));for(const e of i){t.wrap(t.createRangeOn(e),"paragraph");}return !!i.length}function MS(e){if(!e.position||!e.position.parent.is("tableCell")){return false}return e.type=="insert"&&e.name=="$text"||e.type=="remove"}function ES(e){e.document.registerPostFixer(()=>PS(e));}function PS(e){const t=e.document.differ;const i=new Set;let n=0;for(const e of t.getChanges()){const t=e.type=="insert"||e.type=="remove"?e.position.parent:e.range.start.parent;if(!t.is("tableCell")){continue}if(e.type=="insert"){n++;}if(SS(t,e.type,n)){i.add(t);}}if(i.size){for(const e of i.values()){t.refreshItem(e);}return true}return false}function SS(e,t,i){const n=Array.from(e.getChildren()).some(e=>e.is("paragraph"));if(!n){return false}if(t=="attribute"){const t=Array.from(e.getChild(0).getAttributeKeys()).length;return e.childCount===1&&t<2}return e.childCount<=(t=="insert"?i+1:1)}var IS=i(94);class OS extends Lw{static get pluginName(){return "TableEditing"}init(){const e=this.editor;const t=e.model;const i=t.schema;const n=e.conversion;i.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:true,isObject:true,isBlock:true});i.register("tableRow",{allowIn:"table",isLimit:true});i.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isObject:true});i.extend("$block",{allowIn:"tableCell"});i.addChildCheck((e,t)=>{if(t.name=="table"&&Array.from(e.getNames()).includes("table")){return false}});n.for("upcast").add(qE());n.for("editingDowncast").add(wP({asWidget:true}));n.for("dataDowncast").add(wP());n.for("upcast").elementToElement({model:"tableRow",view:"tr"});n.for("upcast").add(YE());n.for("editingDowncast").add(_P({asWidget:true}));n.for("dataDowncast").add(_P());n.for("downcast").add(xP());n.for("upcast").add(JE("td"));n.for("upcast").add(JE("th"));n.for("editingDowncast").add(vP({asWidget:true}));n.for("dataDowncast").add(vP());n.attributeToAttribute({model:"colspan",view:"colspan"});n.attributeToAttribute({model:"rowspan",view:"rowspan"});n.for("editingDowncast").add(yP({asWidget:true}));n.for("dataDowncast").add(yP());n.for("editingDowncast").add(kP({asWidget:true}));n.for("dataDowncast").add(kP());e.commands.add("insertTable",new jP(e));e.commands.add("insertTableRowAbove",new BP(e,{order:"above"}));e.commands.add("insertTableRowBelow",new BP(e,{order:"below"}));e.commands.add("insertTableColumnLeft",new VP(e,{order:"left"}));e.commands.add("insertTableColumnRight",new VP(e,{order:"right"}));e.commands.add("removeTableRow",new YP(e));e.commands.add("removeTableColumn",new GP(e));e.commands.add("splitTableCellVertically",new FP(e,{direction:"vertically"}));e.commands.add("splitTableCellHorizontally",new FP(e,{direction:"horizontally"}));e.commands.add("mergeTableCells",new cS(e));e.commands.add("mergeTableCellRight",new HP(e,{direction:"right"}));e.commands.add("mergeTableCellLeft",new HP(e,{direction:"left"}));e.commands.add("mergeTableCellDown",new HP(e,{direction:"down"}));e.commands.add("mergeTableCellUp",new HP(e,{direction:"up"}));e.commands.add("setTableColumnHeader",new ZP(e));e.commands.add("setTableRowHeader",new KP(e));e.commands.add("selectTableRow",new fS(e));e.commands.add("selectTableColumn",new mS(e));gS(t);ES(t);yS(t);}static get requires(){return [eS]}}var NS=i(96);class RS extends _b{constructor(e){super(e);const t=this.bindTemplate;this.set("icon");this.set("isEnabled",true);this.set("isOn",false);this.set("isToggleable",false);this.set("isVisible",true);this.set("keystroke");this.set("label");this.set("tabindex",-1);this.set("tooltip");this.set("tooltipPosition","s");this.set("type","button");this.set("withText",false);this.children=this.createCollection();this.actionView=this._createActionView();this.arrowView=this._createArrowView();this.keystrokes=new mp;this.focusTracker=new Mp;this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",t.if("isVisible","ck-hidden",e=>!e),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children});}render(){super.render();this.children.add(this.actionView);this.children.add(this.arrowView);this.focusTracker.add(this.actionView.element);this.focusTracker.add(this.arrowView.element);this.keystrokes.listenTo(this.element);this.keystrokes.set("arrowright",(e,t)=>{if(this.focusTracker.focusedElement===this.actionView.element){this.arrowView.focus();t();}});this.keystrokes.set("arrowleft",(e,t)=>{if(this.focusTracker.focusedElement===this.arrowView.element){this.actionView.focus();t();}});}focus(){this.actionView.focus();}_createActionView(){const e=new sw;e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this);e.extendTemplate({attributes:{class:"ck-splitbutton__action"}});e.delegate("execute").to(this);return e}_createArrowView(){const e=new sw;const t=e.bindTemplate;e.icon=rw;e.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":true,"aria-expanded":t.to("isOn",e=>String(e))}});e.bind("isEnabled").to(this);e.delegate("execute").to(this,"open");return e}}var LS=i(98);class DS extends _b{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection();this.set("rows",0);this.set("columns",0);this.bind("label").to(this,"columns",this,"rows",(e,t)=>`${t} × ${e}`);this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:t.to("label")}]}],on:{mousedown:t.to(e=>{e.preventDefault();}),click:t.to(()=>{this.fire("execute");})}});this.on("boxover",(e,t)=>{const{row:i,column:n}=t.target.dataset;this.set({rows:parseInt(i),columns:parseInt(n)});});this.on("change:columns",()=>{this._highlightGridBoxes();});this.on("change:rows",()=>{this._highlightGridBoxes();});}focus(){}focusLast(){}_highlightGridBoxes(){const e=this.rows;const t=this.columns;this.items.map((i,n)=>{const o=Math.floor(n/10);const s=n%10;const r=o<e&&s<t;i.set("isOn",r);});}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const i=Math.floor(t/10);const n=t%10;e.push(new jS(this.locale,i+1,n+1));}return this.createCollection(e)}}class jS extends _b{constructor(e,t,i){super(e);const n=this.bindTemplate;this.set("isOn",false);this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",n.if("isOn","ck-on")],"data-row":t,"data-column":i}});}}var zS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>';var BS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>';var VS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>';var FS='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>';class HS extends Lw{init(){const e=this.editor;const t=this.editor.t;const i=e.locale.contentLanguageDirection;const n=i==="ltr";e.ui.componentFactory.add("insertTable",i=>{const n=e.commands.get("insertTable");const o=bw(i);o.bind("isEnabled").to(n);o.buttonView.set({icon:zS,label:t("Insert table"),tooltip:true});let s;o.on("change:isOpen",()=>{if(s){return}s=new DS(i);o.panelView.children.add(s);s.delegate("execute").to(o);o.buttonView.on("open",()=>{s.rows=0;s.columns=0;});o.on("execute",()=>{e.execute("insertTable",{rows:s.rows,columns:s.columns});e.editing.view.focus();});});return o});e.ui.componentFactory.add("tableColumn",e=>{const i=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:true}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),BS,i,e)});e.ui.componentFactory.add("tableRow",e=>{const i=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:true}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),VS,i,e)});e.ui.componentFactory.add("mergeTableCells",e=>{const i=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),FS,i,e)});}_prepareDropdown(e,t,i,n){const o=this.editor;const s=bw(n);const r=this._fillDropdownWithListOptions(s,i);s.buttonView.set({label:e,icon:t,tooltip:true});s.bind("isEnabled").toMany(r,"isEnabled",(...e)=>e.some(e=>e));this.listenTo(s,"execute",e=>{o.execute(e.source.commandName);o.editing.view.focus();});return s}_prepareMergeSplitButtonDropdown(e,t,i,n){const o=this.editor;const s=bw(n,RS);const r="mergeTableCells";this._fillDropdownWithListOptions(s,i);s.buttonView.set({label:e,icon:t,tooltip:true,isEnabled:true});this.listenTo(s.buttonView,"execute",()=>{o.execute(r);o.editing.view.focus();});this.listenTo(s,"execute",e=>{o.execute(e.source.commandName);o.editing.view.focus();});return s}_fillDropdownWithListOptions(e,t){const i=this.editor;const n=[];const o=new xr;for(const e of t){US(e,i,n,o);}_w(e,o,i.ui.componentFactory);return n}}function US(e,t,i,n){const o=e.model=new ik(e.model);const{commandName:s,bindIsOn:r}=e.model;if(e.type==="button"||e.type==="switchbutton"){const e=t.commands.get(s);i.push(e);o.set({commandName:s});o.bind("isEnabled").to(e);if(r){o.bind("isOn").to(e,"value");}}o.set({withText:true});n.add(e);}class WS extends Gu{constructor(e){super(e);this.domEventType=["mousemove","mouseup","mouseleave"];}onDomEvent(e){this.fire(e.type,e);}}function $S(e,t,i,n){const{startRow:o,startColumn:s,endRow:r,endColumn:a}=t;const c=i.createElement("table");const l=r-o+1;for(let e=0;e<l;e++){i.insertElement("tableRow",c,"end");}const d=[...new XE(e,{startRow:o,endRow:r,includeSpanned:true})];for(const{row:e,column:t,cell:l,isSpanned:u}of d){if(t<s||t>a){continue}const d=e-o;const h=c.getChild(d);if(u){const{row:e,column:t}=n.getCellLocation(l);if(e<o||t<s){HE(i,i.createPositionAt(h,"end"));}}else {const n=l._clone(true);i.append(n,h);qS(n,e,t,r,a,i);}}YS(c,e,o,s,i);return c}function qS(e,t,i,n,o,s){const r=parseInt(e.getAttribute("colspan")||1);const a=parseInt(e.getAttribute("rowspan")||1);const c=i+r-1;if(c>o){const t=o-i+1;FE("colspan",t,e,s,1);}const l=t+a-1;if(l>n){const i=n-t+1;FE("rowspan",i,e,s,1);}}function YS(e,t,i,n,o){const s=parseInt(t.getAttribute("headingRows")||0);if(s>0){const t=s-i;FE("headingRows",t,e,o,0);}const r=parseInt(t.getAttribute("headingColumns")||0);if(r>0){const t=r-n;FE("headingColumns",t,e,o,0);}}var JS=i(100);class GS extends Lw{static get pluginName(){return "TableSelection"}static get requires(){return [eS]}init(){const e=this.editor;const t=e.model;this.listenTo(t,"deleteContent",(e,t)=>this._handleDeleteContent(e,t),{priority:"high"});e.editing.view.addObserver(WS);this._defineSelectionConverter();this._enableShiftClickSelection();this._enableMouseDragSelection();this._enablePluginDisabling();}getSelectedTableCells(){const e=this.editor.model.document.selection;const t=iP(e);if(t.length==0){return null}return t}getSelectionAsFragment(){const e=this.getSelectedTableCells();if(!e){return null}return this.editor.model.change(t=>{const i=t.createDocumentFragment();const{first:n,last:o}=rP(e);const{first:s,last:r}=sP(e);const a=VE("table",e[0]);const c={startRow:s,startColumn:n,endRow:r,endColumn:o};const l=$S(a,c,t,this.editor.plugins.get("TableUtils"));t.insert(l,i,0);return i})}setCellSelection(e,t){const i=this._getCellsToSelect(e,t);this.editor.model.change(e=>{e.setSelection(i.cells.map(t=>e.createRangeOn(t)),{backward:i.backward});});}getFocusCell(){const e=this.editor.model.document.selection;const t=[...e.getRanges()].pop();const i=t.getContainedElement();if(i&&i.is("tableCell")){return i}return null}getAnchorCell(){const e=this.editor.model.document.selection;const t=Bw(e.getRanges());const i=t.getContainedElement();if(i&&i.is("tableCell")){return i}return null}_defineSelectionConverter(){const e=this.editor;const t=new Set;e.conversion.for("editingDowncast").add(e=>e.on("selection",(e,n,o)=>{const s=o.writer;i(s);const r=this.getSelectedTableCells();if(!r){return}for(const e of r){const i=o.mapper.toViewElement(e);s.addClass("ck-editor__editable_selected",i);t.add(i);}const a=o.mapper.toViewElement(r[r.length-1]);s.setSelection(a,0);},{priority:"lowest"}));function i(e){for(const i of t){e.removeClass("ck-editor__editable_selected",i);}t.clear();}}_enableShiftClickSelection(){const e=this.editor;let t=false;this.listenTo(e.editing.view.document,"mousedown",(i,n)=>{if(!this.isEnabled){return}if(!n.domEvent.shiftKey){return}const o=this.getAnchorCell()||nP(e.model.document.selection)[0];if(!o){return}const s=this._getModelTableCellFromDomEvent(n);if(s&&QS(o,s)){t=true;this.setCellSelection(o,s);n.preventDefault();}});this.listenTo(e.editing.view.document,"mouseup",()=>{t=false;});this.listenTo(e.editing.view.document,"selectionChange",e=>{if(t){e.stop();}},{priority:"highest"});}_enableMouseDragSelection(){const e=this.editor;let t,i;let n=false;let o=false;this.listenTo(e.editing.view.document,"mousedown",(e,i)=>{if(!this.isEnabled){return}if(i.domEvent.shiftKey||i.domEvent.ctrlKey||i.domEvent.altKey){return}t=this._getModelTableCellFromDomEvent(i);});this.listenTo(e.editing.view.document,"mousemove",(e,s)=>{if(!s.domEvent.buttons){return}if(!t){return}const r=this._getModelTableCellFromDomEvent(s);if(r&&QS(t,r)){i=r;if(!n&&i!=t){n=true;}}if(!n){return}o=true;this.setCellSelection(t,i);s.preventDefault();});this.listenTo(e.editing.view.document,"mouseup",()=>{n=false;o=false;t=null;i=null;});this.listenTo(e.editing.view.document,"selectionChange",e=>{if(o){e.stop();}},{priority:"highest"});}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t){return}e.model.change(i=>{const n=i.createPositionAt(t[0],0);const o=e.model.schema.getNearestSelectionRange(n);i.setSelection(o);});}});}_handleDeleteContent(e,t){const[i,n]=t;const o=this.editor.model;const s=!n||n.direction=="backward";const r=iP(i);if(!r.length){return}e.stop();o.change(e=>{const t=r[s?r.length-1:0];o.change(e=>{for(const t of r){o.deleteContent(e.createSelection(t,"in"));}});const n=o.schema.getNearestSelectionRange(e.createPositionAt(t,0));if(i.is("documentSelection")){e.setSelection(n);}else {i.setTo(n);}});}_getModelTableCellFromDomEvent(e){const t=e.target;const i=this.editor.editing.view.createPositionAt(t,0);const n=this.editor.editing.mapper.toModelPosition(i);const o=n.parent;if(o.is("tableCell")){return o}return VE("tableCell",o)}_getCellsToSelect(e,t){const i=this.editor.plugins.get("TableUtils");const n=i.getCellLocation(e);const o=i.getCellLocation(t);const s=Math.min(n.row,o.row);const r=Math.max(n.row,o.row);const a=Math.min(n.column,o.column);const c=Math.max(n.column,o.column);const l=new Array(r-s+1).fill(null).map(()=>[]);for(const t of new XE(VE("table",e),{startRow:s,endRow:r})){if(t.column>=a&&t.column<=c){l[t.row-s].push(t.cell);}}const d=o.row<n.row;const u=o.column<n.column;if(d){l.reverse();}if(u){l.forEach(e=>e.reverse());}return {cells:l.flat(),backward:d||u}}}function QS(e,t){return e.parent.parent==t.parent.parent}class XS extends Lw{static get pluginName(){return "TableClipboard"}static get requires(){return [GS,eS]}init(){const e=this.editor;const t=e.editing.view.document;this.listenTo(t,"copy",(e,t)=>this._onCopyCut(e,t));this.listenTo(t,"cut",(e,t)=>this._onCopyCut(e,t));this.listenTo(e.model,"insertContent",(e,t)=>this._onInsertContent(e,...t),{priority:"high"});}_onCopyCut(e,t){const i=this.editor.plugins.get(GS);if(!i.getSelectedTableCells()){return}if(e.name=="cut"&&this.editor.isReadOnly){return}t.preventDefault();e.stop();const n=this.editor.data;const o=this.editor.editing.view.document;const s=n.toView(i.getSelectionAsFragment());o.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:s,method:e.name});}_onInsertContent(e,t,i){if(i&&!i.is("documentSelection")){return}const n=this.editor.model;const o=this.editor.plugins.get(eS);const s=oP(n.document.selection);if(!s.length){return}let r=eI(t);if(!r){return}e.stop();n.change(e=>{const t=rP(s);const i=sP(s);let{first:n,last:a}=t;let{first:c,last:l}=i;const d=o.getRows(r);const u=o.getColumns(r);const h=VE("table",s[0]);const f=s.length===1;if(f){l+=d-1;a+=u-1;ZS(h,l+1,a+1,e,o);}if(f||!aP(s,o)){const t={firstRow:c,lastRow:l,firstColumn:n,lastColumn:a};iI(h,t,e);}else {l=rI(h,i,t);a=aI(h,i,t);}const m=l-c+1;const g=a-n+1;const p={startRow:0,startColumn:0,endRow:Math.min(m-1,d-1),endColumn:Math.min(g-1,u-1)};r=$S(r,p,e,o);const b={width:u,height:d};const w={firstColumnOfSelection:n,firstRowOfSelection:c,lastColumnOfSelection:a,lastRowOfSelection:l};KS(r,b,h,w,e);});}}function KS(e,t,i,n,o){const{firstColumnOfSelection:s,lastColumnOfSelection:r,firstRowOfSelection:a,lastRowOfSelection:c}=n;const{width:l,height:d}=t;const u=tI(e,l,d);const h=[...new XE(i,{startRow:a,endRow:c,includeSpanned:true})];const f=[];let m;for(const{row:e,column:t,cell:n,isSpanned:g}of h){if(t===0){m=null;}if(t<s||t>r){if(!g){m=n;}continue}if(!g){o.remove(n);}const h=e-a;const p=t-s;const b=u[h%d][p%l];if(!b){continue}const w=b._clone(true);qS(w,e,t,c,r,o);let _;if(!m){_=o.createPositionAt(i.getChild(e),0);}else {_=o.createPositionAfter(m);}o.insert(w,_);f.push(w);m=w;}o.setSelection(f.map(e=>o.createRangeOn(e)));}function ZS(e,t,i,n,o){const s=o.getColumns(e);const r=o.getRows(e);if(i>s){o.insertColumns(e,{batch:n.batch,at:s,columns:i-s});}if(t>r){o.insertRows(e,{batch:n.batch,at:r,rows:t-r});}}function eI(e){if(e.is("table")){return e}if(e.childCount!=1||!e.getChild(0).is("table")){return null}return e.getChild(0)}function tI(e,t,i){const n=new Array(i).fill(null).map(()=>new Array(t).fill(null));for(const{column:t,row:i,cell:o}of new XE(e)){n[i][t]=o;}return n}function iI(e,t,i){const{firstRow:n,lastRow:o,firstColumn:s,lastColumn:r}=t;const a={first:n,last:o};const c={first:s,last:r};oI(e,s,a,i);oI(e,r+1,a,i);nI(e,n,c,i);nI(e,o+1,c,i,n);}function nI(e,t,i,n,o=0){if(t<1){return}const s=cP(e,t,o);const r=s.filter(({column:e,colspan:t})=>sI(e,t,i));for(const{cell:e}of r){lP(e,t,n);}}function oI(e,t,i,n){if(t<1){return}const o=dP(e,t);const s=o.filter(({row:e,rowspan:t})=>sI(e,t,i));for(const{cell:e,column:i}of s){uP(e,i,t,n);}}function sI(e,t,i){const n=e+t-1;const{first:o,last:s}=i;const r=e>=o&&e<=s;const a=e<o&&n>=o;return r||a}function rI(e,t,i){const n=new XE(e,{startRow:t.last,endRow:t.last});const o=Array.from(n).filter(({column:e})=>i.first<=e&&e<=i.last);const s=o.every(({rowspan:e})=>e===1);if(s){return t.last}const r=o[0].rowspan-1;return t.last+r}function aI(e,t,i){const n=Array.from(new XE(e,{startRow:t.first,endRow:t.last,column:i.last}));const o=n.every(({colspan:e})=>e===1);if(o){return i.last}const s=n[0].colspan-1;return i.last+s}class cI extends Lw{static get pluginName(){return "TableNavigation"}static get requires(){return [GS]}init(){const e=this.editor.editing.view;const t=e.document;this.editor.keystrokes.set("Tab",(...e)=>this._handleTabOnSelectedTable(...e),{priority:"low"});this.editor.keystrokes.set("Tab",this._getTabHandler(true),{priority:"low"});this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(false),{priority:"low"});this.listenTo(t,"keydown",(...e)=>this._onKeydown(...e),{priority:or.get("high")+1});}_handleTabOnSelectedTable(e,t){const i=this.editor;const n=i.model.document.selection;if(!n.isCollapsed&&n.rangeCount===1&&n.getFirstRange().isFlat){const e=n.getSelectedElement();if(!e||!e.is("table")){return}t();i.model.change(t=>{t.setSelection(t.createRangeIn(e.getChild(0).getChild(0)));});}}_getTabHandler(e){const t=this.editor;return (i,n)=>{const o=t.model.document.selection;const s=nP(o)[0];if(!s){return}n();const r=s.parent;const a=r.parent;const c=a.getChildIndex(r);const l=r.getChildIndex(s);const d=l===0;if(!e&&d&&c===0){return}const u=l===r.childCount-1;const h=c===a.childCount-1;if(e&&h&&u){t.execute("insertTableRowBelow");if(c===a.childCount-1){return}}let f;if(e&&u){const e=a.getChild(c+1);f=e.getChild(0);}else if(!e&&d){const e=a.getChild(c-1);f=e.getChild(e.childCount-1);}else {f=r.getChild(l+(e?1:-1));}t.model.change(e=>{e.setSelection(e.createRangeIn(f));});}}_onKeydown(e,t){const i=t.keyCode;if(!lI(i)){return}const n=dI(i,this.editor.locale.contentLanguageDirection);const o=this._handleArrowKeys(n,t.shiftKey);if(o){t.preventDefault();t.stopPropagation();e.stop();}}_handleArrowKeys(e,t){const i=this.editor.model;const n=i.document.selection;const o=["right","down"].includes(e);const s=iP(n);if(s.length){let i;if(t){i=this.editor.plugins.get("TableSelection").getFocusCell();}else {i=o?s[s.length-1]:s[0];}this._navigateFromCellInDirection(i,e,t);return true}const r=VE("tableCell",n.focus);if(!r){return false}const a=i.createRangeIn(r);if(this._isSelectionAtCellEdge(n,o)){this._navigateFromCellInDirection(r,e,t);return true}const c=n.getSelectedElement();if(c&&i.schema.isObject(c)){return false}if(this._isObjectElementNextToSelection(n,o)){return false}const l=this._findTextRangeFromSelection(a,n,o);if(!l){this._navigateFromCellInDirection(r,e,t);return true}if(["left","right"].includes(e)){return false}if(this._isSingleLineRange(l,o)){i.change(e=>{const s=o?a.end:a.start;if(t){const t=i.createSelection(n.anchor);t.setFocus(s);e.setSelection(t);}else {e.setSelection(s);}});return true}}_isSelectionAtCellEdge(e,t){const i=this.editor.model;const n=this.editor.model.schema;const o=t?e.getLastPosition():e.getFirstPosition();if(!n.getLimitElement(o).is("tableCell")){return false}const s=i.createSelection(o);i.modifySelection(s,{direction:t?"forward":"backward"});return o.isEqual(s.focus)}_isObjectElementNextToSelection(e,t){const i=this.editor.model;const n=i.schema;const o=i.createSelection(e);i.modifySelection(o,{direction:t?"forward":"backward"});const s=t?o.focus.nodeBefore:o.focus.nodeAfter;return s&&n.isObject(s)}_findTextRangeFromSelection(e,t,i){const n=this.editor.model;if(i){const i=t.getLastPosition();const o=this._getNearestVisibleTextPosition(e,"backward");if(o&&i.isBefore(o)){return n.createRange(i,o)}return null}else {const i=t.getFirstPosition();const o=this._getNearestVisibleTextPosition(e,"forward");if(o&&i.isAfter(o)){return n.createRange(o,i)}return null}}_getNearestVisibleTextPosition(e,t){const i=this.editor.model.schema;const n=this.editor.editing.mapper;for(const{nextPosition:o,item:s}of e.getWalker({direction:t})){if(i.checkChild(o,"$text")){const e=n.toViewElement(s);if(e&&!e.hasClass("ck-hidden")){return o}}}}_isSingleLineRange(e,t){const i=this.editor.model;const n=this.editor.editing;const o=n.view.domConverter;if(t){const t=i.createSelection(e.start);i.modifySelection(t);if(!t.focus.isAtEnd&&!e.start.isEqual(t.focus)){e=i.createRange(t.focus,e.end);}}const s=n.mapper.toViewRange(e);const r=o.viewRangeToDom(s);const a=kh.getDomRangeRects(r);let c;for(const e of a){if(c===undefined){c=Math.round(e.bottom);continue}if(Math.round(e.top)>=c){return false}c=Math.max(c,Math.round(e.bottom));}return true}_navigateFromCellInDirection(e,t,i=false){const n=this.editor.model;const o=VE("table",e);const s=[...new XE(o,{includeSpanned:true})];const{row:r,column:a}=s[s.length-1];const c=s.find(({cell:t})=>t==e);let{row:l,column:d}=c;switch(t){case"left":d--;break;case"up":l--;break;case"right":d+=c.colspan;break;case"down":l+=c.rowspan;break}const u=l<0||l>r;const h=d<0&&l<=0;const f=d>a&&l>=r;if(u||h||f){n.change(e=>{e.setSelection(e.createRangeOn(o));});return}if(d<0){d=i?0:a;l--;}else if(d>a){d=i?a:0;l++;}const m=s.find(e=>e.row==l&&e.column==d).cell;const g=["right","down"].includes(t);if(i){const t=this.editor.plugins.get("TableSelection");const i=t.getAnchorCell()||e;t.setCellSelection(i,m);}else {const e=n.createPositionAt(m,g?0:"end");n.change(t=>{t.setSelection(e);});}}}function lI(e){return e==Rl.arrowright||e==Rl.arrowleft||e==Rl.arrowup||e==Rl.arrowdown}function dI(e,t){const i=t==="ltr";switch(e){case Rl.arrowleft:return i?"left":"right";case Rl.arrowright:return i?"right":"left";case Rl.arrowup:return "up";case Rl.arrowdown:return "down"}}var uI=i(102);class hI extends Lw{static get requires(){return [OS,HS,GS,XS,cI,my]}static get pluginName(){return "Table"}}class fI extends Lw{static get requires(){return [Vx]}static get pluginName(){return "TableToolbar"}afterInit(){const e=this.editor;const t=e.t;const i=e.plugins.get(Vx);const n=e.config.get("table.contentToolbar");const o=e.config.get("table.tableToolbar");if(n){i.register("tableContent",{ariaLabel:t("Table toolbar"),items:n,getRelatedElement:tP});}if(o){i.register("table",{ariaLabel:t("Table toolbar"),items:o,getRelatedElement:eP});}}}class mI{constructor(e,t){this.model=e;this.testCallback=t;this.hasMatch=false;this.set("isEnabled",true);this.on("change:isEnabled",()=>{if(this.isEnabled){this._startListening();}else {this.stopListening(e.document.selection);this.stopListening(e.document);}});this._startListening();}_startListening(){const e=this.model;const t=e.document;this.listenTo(t.selection,"change:range",(e,{directChange:i})=>{if(!i){return}if(!t.selection.isCollapsed){if(this.hasMatch){this.fire("unmatched");this.hasMatch=false;}return}this._evaluateTextBeforeSelection("selection");});this.listenTo(t,"change:data",(e,t)=>{if(t.type=="transparent"){return}this._evaluateTextBeforeSelection("data",{batch:t});});}_evaluateTextBeforeSelection(e,t={}){const i=this.model;const n=i.document;const o=n.selection;const s=i.createRange(i.createPositionAt(o.focus.parent,0),o.focus);const{text:r,range:a}=n_(s,i);const c=this.testCallback(r);if(!c&&this.hasMatch){this.fire("unmatched");}this.hasMatch=!!c;if(c){const i=Object.assign(t,{text:r,range:a});if(typeof c=="object"){Object.assign(i,c);}this.fire(`matched:${e}`,i);}}}yr(mI,Qc);var gI=/[\\^$.*+?()[\]{}|]/g,pI=RegExp(gI.source);function bI(e){e=ka(e);return e&&pI.test(e)?e.replace(gI,"\\$&"):e}var wI=bI;const _I={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:"1/2",to:"½"},oneThird:{from:"1/3",to:"⅓"},twoThirds:{from:"2/3",to:"⅔"},oneForth:{from:"1/4",to:"¼"},threeQuarters:{from:"3/4",to:"¾"},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:TI('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:TI("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:TI("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:TI('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:TI('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:TI("'"),to:[null,"‚",null,"’"]}};const vI={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]};const kI=["symbols","mathematical","typography","quotes"];class yI extends Lw{static get pluginName(){return "TextTransformation"}constructor(e){super(e);e.config.define("typing",{transformations:{include:kI}});}init(){const e=this.editor.model;const t=e.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("codeBlock");});this._enableTransformationWatchers();}_enableTransformationWatchers(){const e=this.editor;const t=e.model;const i=e.plugins.get("Input");const n=MI(e.config.get("typing.transformations"));const o=e=>{for(const t of n){const i=t.from;const n=i.test(e);if(n){return {normalizedTransformation:t}}}};const s=(e,n)=>{if(!i.isInput(n.batch)){return}const{from:o,to:s}=n.normalizedTransformation;const r=o.exec(n.text);const a=s(r.slice(1));const c=n.range;let l=r.index;t.enqueueChange(e=>{for(let i=1;i<r.length;i++){const n=r[i];const o=a[i-1];if(o==null){l+=n.length;continue}const s=c.start.getShiftedBy(l);const d=t.createRange(s,s.getShiftedBy(n.length));const u=CI(s);t.insertContent(e.createText(o,u),d);l+=o.length;}});};const r=new mI(e.model,o);r.on("matched:data",s);r.bind("isEnabled").to(this);}}function xI(e){if(typeof e=="string"){return new RegExp(`(${wI(e)})$`)}return e}function AI(e){if(typeof e=="string"){return ()=>[e]}else if(e instanceof Array){return ()=>e}return e}function CI(e){const t=e.textNode?e.textNode:e.nodeAfter;return t.getAttributes()}function TI(e){return new RegExp(`(^|\\s)(${e})([^${e}]*)(${e})$`)}function MI(e){const t=e.extra||[];const i=e.remove||[];const n=e=>!i.includes(e);const o=e.include.concat(t).filter(n);return EI(o).filter(n).map(e=>_I[e]||e).map(e=>({from:xI(e.from),to:AI(e.to)}))}function EI(e){const t=new Set;for(const i of e){if(vI[i]){for(const e of vI[i]){t.add(e);}}else {t.add(i);}}return Array.from(t)}class PI extends Nw{}PI.builtinPlugins=[t_,r_,f_,x_,S_,$v,rk,qy,ox,yx,Bx,Wx,xA,PA,LA,cT,$T,LM,sE,Gv,BE,hI,fI,yI];var SI=t["default"]=PI;}])["default"]}));

    });

    var ClassicEditor = unwrapExports(ckeditor);

    /* src\components\CKeditor.svelte generated by Svelte v3.24.0 */

    const { console: console_1$4 } = globals;
    const file$a = "src\\components\\CKeditor.svelte";

    // (67:10)     
    function fallback_block(ctx) {
    	let em;

    	const block = {
    		c: function create() {
    			em = element("em");
    			em.textContent = "Mulai tulisan disini!";
    			add_location(em, file$a, 67, 2, 1426);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, em, anchor);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(em);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: fallback_block.name,
    		type: "fallback",
    		source: "(67:10)     ",
    		ctx
    	});

    	return block;
    }

    function create_fragment$e(ctx) {
    	let div;
    	let current;
    	const default_slot_template = /*$$slots*/ ctx[2].default;
    	const default_slot = create_slot(default_slot_template, ctx, /*$$scope*/ ctx[1], null);
    	const default_slot_or_fallback = default_slot || fallback_block(ctx);

    	const block = {
    		c: function create() {
    			div = element("div");
    			if (default_slot_or_fallback) default_slot_or_fallback.c();
    			attr_dev(div, "class", "editor");
    			add_location(div, file$a, 65, 0, 1369);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div, anchor);

    			if (default_slot_or_fallback) {
    				default_slot_or_fallback.m(div, null);
    			}

    			/*div_binding*/ ctx[3](div);
    			current = true;
    		},
    		p: function update(ctx, [dirty]) {
    			if (default_slot) {
    				if (default_slot.p && dirty & /*$$scope*/ 2) {
    					update_slot(default_slot, default_slot_template, ctx, /*$$scope*/ ctx[1], dirty, null, null);
    				}
    			}
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(default_slot_or_fallback, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(default_slot_or_fallback, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div);
    			if (default_slot_or_fallback) default_slot_or_fallback.d(detaching);
    			/*div_binding*/ ctx[3](null);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$e.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$e($$self, $$props, $$invalidate) {
    	let { editor = null } = $$props;

    	const initializeEditor = () => {
    		return ClassicEditor.create(editor, {
    			toolbar: {
    				items: [
    					"heading",
    					"|",
    					"bold",
    					"italic",
    					"link",
    					"bulletedList",
    					"numberedList",
    					"|",
    					"indent",
    					"alignment",
    					"outdent",
    					"|",
    					"imageUpload",
    					"blockQuote",
    					"insertTable",
    					"mediaEmbed",
    					"undo",
    					"redo",
    					"MathType",
    					"ChemType"
    				]
    			},
    			image: {
    				toolbar: ["imageTextAlternative", "imageStyle:full", "imageStyle:side"]
    			},
    			table: {
    				contentToolbar: ["tableColumn", "tableRow", "mergeTableCells"]
    			},
    			licenseKey: ""
    		}).then(edit => {
    			$$invalidate(0, editor = edit);
    		}).catch(error => {
    			console.error("Oops, something gone wrong!");
    			console.error("Please, report the following error in the https://github.com/ckeditor/ckeditor5 with the build id and the error stack trace:");
    			console.warn("Build id: nwedg07ue71o-4myfewwpqu4u");
    			console.error(error);
    		});
    	};

    	onMount(() => {
    		initializeEditor();
    	});

    	const writable_props = ["editor"];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console_1$4.warn(`<CKeditor> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("CKeditor", $$slots, ['default']);

    	function div_binding($$value) {
    		binding_callbacks[$$value ? "unshift" : "push"](() => {
    			editor = $$value;
    			$$invalidate(0, editor);
    		});
    	}

    	$$self.$set = $$props => {
    		if ("editor" in $$props) $$invalidate(0, editor = $$props.editor);
    		if ("$$scope" in $$props) $$invalidate(1, $$scope = $$props.$$scope);
    	};

    	$$self.$capture_state = () => ({
    		onMount,
    		ClassicEditor,
    		editor,
    		initializeEditor
    	});

    	$$self.$inject_state = $$props => {
    		if ("editor" in $$props) $$invalidate(0, editor = $$props.editor);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [editor, $$scope, $$slots, div_binding];
    }

    class CKeditor extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$e, create_fragment$e, safe_not_equal, { editor: 0 });

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "CKeditor",
    			options,
    			id: create_fragment$e.name
    		});
    	}

    	get editor() {
    		throw new Error("<CKeditor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}

    	set editor(value) {
    		throw new Error("<CKeditor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
    	}
    }

    /* src\pages\users\admin\tryout\soal.svelte generated by Svelte v3.24.0 */
    const file$b = "src\\pages\\users\\admin\\tryout\\soal.svelte";

    // (43:12) <CKeditor bind:editor='{question}'>
    function create_default_slot_6(ctx) {
    	let html_tag;
    	let raw_value = /*soal*/ ctx[10].question + "";
    	let html_anchor;

    	const block = {
    		c: function create() {
    			html_anchor = empty();
    			html_tag = new HtmlTag(html_anchor);
    		},
    		m: function mount(target, anchor) {
    			html_tag.m(raw_value, target, anchor);
    			insert_dev(target, html_anchor, anchor);
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(html_anchor);
    			if (detaching) html_tag.d();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_6.name,
    		type: "slot",
    		source: "(43:12) <CKeditor bind:editor='{question}'>",
    		ctx
    	});

    	return block;
    }

    // (67:24) <CKeditor bind:editor='{a}'>
    function create_default_slot_5(ctx) {
    	let html_tag;
    	let raw_value = /*soal*/ ctx[10].option_a + "";
    	let html_anchor;

    	const block = {
    		c: function create() {
    			html_anchor = empty();
    			html_tag = new HtmlTag(html_anchor);
    		},
    		m: function mount(target, anchor) {
    			html_tag.m(raw_value, target, anchor);
    			insert_dev(target, html_anchor, anchor);
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(html_anchor);
    			if (detaching) html_tag.d();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_5.name,
    		type: "slot",
    		source: "(67:24) <CKeditor bind:editor='{a}'>",
    		ctx
    	});

    	return block;
    }

    // (68:24) <CKeditor bind:editor='{b}'>
    function create_default_slot_4(ctx) {
    	let html_tag;
    	let raw_value = /*soal*/ ctx[10].option_b + "";
    	let html_anchor;

    	const block = {
    		c: function create() {
    			html_anchor = empty();
    			html_tag = new HtmlTag(html_anchor);
    		},
    		m: function mount(target, anchor) {
    			html_tag.m(raw_value, target, anchor);
    			insert_dev(target, html_anchor, anchor);
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(html_anchor);
    			if (detaching) html_tag.d();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_4.name,
    		type: "slot",
    		source: "(68:24) <CKeditor bind:editor='{b}'>",
    		ctx
    	});

    	return block;
    }

    // (69:24) <CKeditor bind:editor='{c}'>
    function create_default_slot_3(ctx) {
    	let html_tag;
    	let raw_value = /*soal*/ ctx[10].option_c + "";
    	let html_anchor;

    	const block = {
    		c: function create() {
    			html_anchor = empty();
    			html_tag = new HtmlTag(html_anchor);
    		},
    		m: function mount(target, anchor) {
    			html_tag.m(raw_value, target, anchor);
    			insert_dev(target, html_anchor, anchor);
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(html_anchor);
    			if (detaching) html_tag.d();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_3.name,
    		type: "slot",
    		source: "(69:24) <CKeditor bind:editor='{c}'>",
    		ctx
    	});

    	return block;
    }

    // (70:24) <CKeditor bind:editor='{d}'>
    function create_default_slot_2(ctx) {
    	let html_tag;
    	let raw_value = /*soal*/ ctx[10].option_d + "";
    	let html_anchor;

    	const block = {
    		c: function create() {
    			html_anchor = empty();
    			html_tag = new HtmlTag(html_anchor);
    		},
    		m: function mount(target, anchor) {
    			html_tag.m(raw_value, target, anchor);
    			insert_dev(target, html_anchor, anchor);
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(html_anchor);
    			if (detaching) html_tag.d();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_2.name,
    		type: "slot",
    		source: "(70:24) <CKeditor bind:editor='{d}'>",
    		ctx
    	});

    	return block;
    }

    // (71:24) <CKeditor bind:editor='{e}'>
    function create_default_slot_1(ctx) {
    	let html_tag;
    	let raw_value = /*soal*/ ctx[10].option_e + "";
    	let html_anchor;

    	const block = {
    		c: function create() {
    			html_anchor = empty();
    			html_tag = new HtmlTag(html_anchor);
    		},
    		m: function mount(target, anchor) {
    			html_tag.m(raw_value, target, anchor);
    			insert_dev(target, html_anchor, anchor);
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(html_anchor);
    			if (detaching) html_tag.d();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot_1.name,
    		type: "slot",
    		source: "(71:24) <CKeditor bind:editor='{e}'>",
    		ctx
    	});

    	return block;
    }

    // (75:12) <CKeditor bind:editor='{solution}'>
    function create_default_slot$1(ctx) {
    	let html_tag;
    	let raw_value = /*soal*/ ctx[10].solution + "";
    	let html_anchor;

    	const block = {
    		c: function create() {
    			html_anchor = empty();
    			html_tag = new HtmlTag(html_anchor);
    		},
    		m: function mount(target, anchor) {
    			html_tag.m(raw_value, target, anchor);
    			insert_dev(target, html_anchor, anchor);
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(html_anchor);
    			if (detaching) html_tag.d();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_default_slot$1.name,
    		type: "slot",
    		source: "(75:12) <CKeditor bind:editor='{solution}'>",
    		ctx
    	});

    	return block;
    }

    function create_fragment$f(ctx) {
    	let div4;
    	let div3;
    	let div2;
    	let div0;
    	let p0;
    	let t0_value = /*$dataTO*/ ctx[8].name + "";
    	let t0;
    	let t1;
    	let t2_value = /*$dataTO*/ ctx[8].subtest[/*$params*/ ctx[9].subtest].judul + "";
    	let t2;
    	let t3;
    	let t4_value = /*soal*/ ctx[10].no + "";
    	let t4;
    	let t5;
    	let div1;
    	let button;
    	let t7;
    	let div7;
    	let div6;
    	let div5;
    	let p1;
    	let t9;
    	let ckeditor0;
    	let updating_editor;
    	let t10;
    	let div14;
    	let div13;
    	let div12;
    	let p2;
    	let t12;
    	let div10;
    	let div8;
    	let select;
    	let option0;
    	let option1;
    	let option2;
    	let option3;
    	let option4;
    	let t18;
    	let div9;
    	let i;
    	let t19;
    	let div11;
    	let ol;
    	let li0;
    	let ckeditor1;
    	let updating_editor_1;
    	let t20;
    	let li1;
    	let ckeditor2;
    	let updating_editor_2;
    	let t21;
    	let li2;
    	let ckeditor3;
    	let updating_editor_3;
    	let t22;
    	let li3;
    	let ckeditor4;
    	let updating_editor_4;
    	let t23;
    	let li4;
    	let ckeditor5;
    	let updating_editor_5;
    	let t24;
    	let p3;
    	let t26;
    	let ckeditor6;
    	let updating_editor_6;
    	let current;
    	let mounted;
    	let dispose;

    	function ckeditor0_editor_binding(value) {
    		/*ckeditor0_editor_binding*/ ctx[12].call(null, value);
    	}

    	let ckeditor0_props = {
    		$$slots: { default: [create_default_slot_6] },
    		$$scope: { ctx }
    	};

    	if (/*question*/ ctx[0] !== void 0) {
    		ckeditor0_props.editor = /*question*/ ctx[0];
    	}

    	ckeditor0 = new CKeditor({ props: ckeditor0_props, $$inline: true });
    	binding_callbacks.push(() => bind(ckeditor0, "editor", ckeditor0_editor_binding));

    	function ckeditor1_editor_binding(value) {
    		/*ckeditor1_editor_binding*/ ctx[14].call(null, value);
    	}

    	let ckeditor1_props = {
    		$$slots: { default: [create_default_slot_5] },
    		$$scope: { ctx }
    	};

    	if (/*a*/ ctx[1] !== void 0) {
    		ckeditor1_props.editor = /*a*/ ctx[1];
    	}

    	ckeditor1 = new CKeditor({ props: ckeditor1_props, $$inline: true });
    	binding_callbacks.push(() => bind(ckeditor1, "editor", ckeditor1_editor_binding));

    	function ckeditor2_editor_binding(value) {
    		/*ckeditor2_editor_binding*/ ctx[15].call(null, value);
    	}

    	let ckeditor2_props = {
    		$$slots: { default: [create_default_slot_4] },
    		$$scope: { ctx }
    	};

    	if (/*b*/ ctx[2] !== void 0) {
    		ckeditor2_props.editor = /*b*/ ctx[2];
    	}

    	ckeditor2 = new CKeditor({ props: ckeditor2_props, $$inline: true });
    	binding_callbacks.push(() => bind(ckeditor2, "editor", ckeditor2_editor_binding));

    	function ckeditor3_editor_binding(value) {
    		/*ckeditor3_editor_binding*/ ctx[16].call(null, value);
    	}

    	let ckeditor3_props = {
    		$$slots: { default: [create_default_slot_3] },
    		$$scope: { ctx }
    	};

    	if (/*c*/ ctx[3] !== void 0) {
    		ckeditor3_props.editor = /*c*/ ctx[3];
    	}

    	ckeditor3 = new CKeditor({ props: ckeditor3_props, $$inline: true });
    	binding_callbacks.push(() => bind(ckeditor3, "editor", ckeditor3_editor_binding));

    	function ckeditor4_editor_binding(value) {
    		/*ckeditor4_editor_binding*/ ctx[17].call(null, value);
    	}

    	let ckeditor4_props = {
    		$$slots: { default: [create_default_slot_2] },
    		$$scope: { ctx }
    	};

    	if (/*d*/ ctx[4] !== void 0) {
    		ckeditor4_props.editor = /*d*/ ctx[4];
    	}

    	ckeditor4 = new CKeditor({ props: ckeditor4_props, $$inline: true });
    	binding_callbacks.push(() => bind(ckeditor4, "editor", ckeditor4_editor_binding));

    	function ckeditor5_editor_binding(value) {
    		/*ckeditor5_editor_binding*/ ctx[18].call(null, value);
    	}

    	let ckeditor5_props = {
    		$$slots: { default: [create_default_slot_1] },
    		$$scope: { ctx }
    	};

    	if (/*e*/ ctx[5] !== void 0) {
    		ckeditor5_props.editor = /*e*/ ctx[5];
    	}

    	ckeditor5 = new CKeditor({ props: ckeditor5_props, $$inline: true });
    	binding_callbacks.push(() => bind(ckeditor5, "editor", ckeditor5_editor_binding));

    	function ckeditor6_editor_binding(value) {
    		/*ckeditor6_editor_binding*/ ctx[19].call(null, value);
    	}

    	let ckeditor6_props = {
    		$$slots: { default: [create_default_slot$1] },
    		$$scope: { ctx }
    	};

    	if (/*solution*/ ctx[6] !== void 0) {
    		ckeditor6_props.editor = /*solution*/ ctx[6];
    	}

    	ckeditor6 = new CKeditor({ props: ckeditor6_props, $$inline: true });
    	binding_callbacks.push(() => bind(ckeditor6, "editor", ckeditor6_editor_binding));

    	const block = {
    		c: function create() {
    			div4 = element("div");
    			div3 = element("div");
    			div2 = element("div");
    			div0 = element("div");
    			p0 = element("p");
    			t0 = text(t0_value);
    			t1 = text(" - ");
    			t2 = text(t2_value);
    			t3 = text(" - No ");
    			t4 = text(t4_value);
    			t5 = space();
    			div1 = element("div");
    			button = element("button");
    			button.textContent = "save";
    			t7 = space();
    			div7 = element("div");
    			div6 = element("div");
    			div5 = element("div");
    			p1 = element("p");
    			p1.textContent = "Persoalan";
    			t9 = space();
    			create_component(ckeditor0.$$.fragment);
    			t10 = space();
    			div14 = element("div");
    			div13 = element("div");
    			div12 = element("div");
    			p2 = element("p");
    			p2.textContent = "Pilihan Jawaban";
    			t12 = space();
    			div10 = element("div");
    			div8 = element("div");
    			select = element("select");
    			option0 = element("option");
    			option0.textContent = "A";
    			option1 = element("option");
    			option1.textContent = "B";
    			option2 = element("option");
    			option2.textContent = "C";
    			option3 = element("option");
    			option3.textContent = "D";
    			option4 = element("option");
    			option4.textContent = "E";
    			t18 = space();
    			div9 = element("div");
    			i = element("i");
    			t19 = space();
    			div11 = element("div");
    			ol = element("ol");
    			li0 = element("li");
    			create_component(ckeditor1.$$.fragment);
    			t20 = space();
    			li1 = element("li");
    			create_component(ckeditor2.$$.fragment);
    			t21 = space();
    			li2 = element("li");
    			create_component(ckeditor3.$$.fragment);
    			t22 = space();
    			li3 = element("li");
    			create_component(ckeditor4.$$.fragment);
    			t23 = space();
    			li4 = element("li");
    			create_component(ckeditor5.$$.fragment);
    			t24 = space();
    			p3 = element("p");
    			p3.textContent = "Solusi Persoalan";
    			t26 = space();
    			create_component(ckeditor6.$$.fragment);
    			attr_dev(p0, "class", "subtitle");
    			add_location(p0, file$b, 30, 12, 1333);
    			attr_dev(div0, "class", "level-left");
    			add_location(div0, file$b, 29, 8, 1295);
    			attr_dev(button, "class", "button is-info is-outlined");
    			add_location(button, file$b, 33, 12, 1494);
    			attr_dev(div1, "class", "level-right");
    			add_location(div1, file$b, 32, 8, 1455);
    			attr_dev(div2, "class", "level");
    			add_location(div2, file$b, 28, 4, 1266);
    			attr_dev(div3, "class", "card-content");
    			add_location(div3, file$b, 27, 4, 1234);
    			attr_dev(div4, "class", "card");
    			set_style(div4, "position", "sticky");
    			set_style(div4, "top", "0");
    			set_style(div4, "z-index", "100");
    			add_location(div4, file$b, 26, 0, 1164);
    			attr_dev(p1, "class", "title is-4");
    			add_location(p1, file$b, 41, 12, 1743);
    			attr_dev(div5, "class", "card-content");
    			add_location(div5, file$b, 40, 8, 1703);
    			attr_dev(div6, "class", "card");
    			add_location(div6, file$b, 39, 4, 1675);
    			attr_dev(div7, "class", "container");
    			set_style(div7, "margin-top", "20px");
    			add_location(div7, file$b, 38, 0, 1620);
    			attr_dev(p2, "class", "title is-4");
    			add_location(p2, file$b, 49, 12, 2020);
    			option0.__value = "A";
    			option0.value = option0.__value;
    			add_location(option0, file$b, 53, 24, 2222);
    			option1.__value = "B";
    			option1.value = option1.__value;
    			add_location(option1, file$b, 54, 24, 2276);
    			option2.__value = "C";
    			option2.value = option2.__value;
    			add_location(option2, file$b, 55, 24, 2330);
    			option3.__value = "D";
    			option3.value = option3.__value;
    			add_location(option3, file$b, 56, 24, 2384);
    			option4.__value = "E";
    			option4.value = option4.__value;
    			add_location(option4, file$b, 57, 24, 2438);
    			if (/*key*/ ctx[7] === void 0) add_render_callback(() => /*select_change_handler*/ ctx[13].call(select));
    			add_location(select, file$b, 52, 20, 2171);
    			attr_dev(div8, "class", "select");
    			add_location(div8, file$b, 51, 16, 2129);
    			attr_dev(i, "class", "fas fa-key");
    			add_location(i, file$b, 61, 20, 2596);
    			attr_dev(div9, "class", "icon is-small is-left");
    			add_location(div9, file$b, 60, 16, 2539);
    			attr_dev(div10, "class", "control has-icons-left");
    			add_location(div10, file$b, 50, 12, 2075);
    			add_location(li0, file$b, 66, 20, 2754);
    			add_location(li1, file$b, 67, 20, 2845);
    			add_location(li2, file$b, 68, 20, 2936);
    			add_location(li3, file$b, 69, 20, 3027);
    			add_location(li4, file$b, 70, 20, 3118);
    			attr_dev(ol, "type", "A");
    			add_location(ol, file$b, 65, 16, 2719);
    			attr_dev(div11, "class", "content");
    			add_location(div11, file$b, 64, 12, 2680);
    			attr_dev(p3, "class", "title is-5");
    			add_location(p3, file$b, 73, 12, 3244);
    			attr_dev(div12, "class", "card-content");
    			add_location(div12, file$b, 48, 8, 1980);
    			attr_dev(div13, "class", "card");
    			add_location(div13, file$b, 47, 4, 1952);
    			attr_dev(div14, "class", "container");
    			set_style(div14, "margin-top", "20px");
    			add_location(div14, file$b, 46, 0, 1897);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, div4, anchor);
    			append_dev(div4, div3);
    			append_dev(div3, div2);
    			append_dev(div2, div0);
    			append_dev(div0, p0);
    			append_dev(p0, t0);
    			append_dev(p0, t1);
    			append_dev(p0, t2);
    			append_dev(p0, t3);
    			append_dev(p0, t4);
    			append_dev(div2, t5);
    			append_dev(div2, div1);
    			append_dev(div1, button);
    			insert_dev(target, t7, anchor);
    			insert_dev(target, div7, anchor);
    			append_dev(div7, div6);
    			append_dev(div6, div5);
    			append_dev(div5, p1);
    			append_dev(div5, t9);
    			mount_component(ckeditor0, div5, null);
    			insert_dev(target, t10, anchor);
    			insert_dev(target, div14, anchor);
    			append_dev(div14, div13);
    			append_dev(div13, div12);
    			append_dev(div12, p2);
    			append_dev(div12, t12);
    			append_dev(div12, div10);
    			append_dev(div10, div8);
    			append_dev(div8, select);
    			append_dev(select, option0);
    			append_dev(select, option1);
    			append_dev(select, option2);
    			append_dev(select, option3);
    			append_dev(select, option4);
    			select_option(select, /*key*/ ctx[7]);
    			append_dev(div10, t18);
    			append_dev(div10, div9);
    			append_dev(div9, i);
    			append_dev(div12, t19);
    			append_dev(div12, div11);
    			append_dev(div11, ol);
    			append_dev(ol, li0);
    			mount_component(ckeditor1, li0, null);
    			append_dev(ol, t20);
    			append_dev(ol, li1);
    			mount_component(ckeditor2, li1, null);
    			append_dev(ol, t21);
    			append_dev(ol, li2);
    			mount_component(ckeditor3, li2, null);
    			append_dev(ol, t22);
    			append_dev(ol, li3);
    			mount_component(ckeditor4, li3, null);
    			append_dev(ol, t23);
    			append_dev(ol, li4);
    			mount_component(ckeditor5, li4, null);
    			append_dev(div12, t24);
    			append_dev(div12, p3);
    			append_dev(div12, t26);
    			mount_component(ckeditor6, div12, null);
    			current = true;

    			if (!mounted) {
    				dispose = [
    					listen_dev(button, "click", /*saveSoal*/ ctx[11], false, false, false),
    					listen_dev(select, "change", /*select_change_handler*/ ctx[13])
    				];

    				mounted = true;
    			}
    		},
    		p: function update(ctx, [dirty]) {
    			if ((!current || dirty & /*$dataTO*/ 256) && t0_value !== (t0_value = /*$dataTO*/ ctx[8].name + "")) set_data_dev(t0, t0_value);
    			if ((!current || dirty & /*$dataTO, $params*/ 768) && t2_value !== (t2_value = /*$dataTO*/ ctx[8].subtest[/*$params*/ ctx[9].subtest].judul + "")) set_data_dev(t2, t2_value);
    			const ckeditor0_changes = {};

    			if (dirty & /*$$scope*/ 2097152) {
    				ckeditor0_changes.$$scope = { dirty, ctx };
    			}

    			if (!updating_editor && dirty & /*question*/ 1) {
    				updating_editor = true;
    				ckeditor0_changes.editor = /*question*/ ctx[0];
    				add_flush_callback(() => updating_editor = false);
    			}

    			ckeditor0.$set(ckeditor0_changes);

    			if (dirty & /*key*/ 128) {
    				select_option(select, /*key*/ ctx[7]);
    			}

    			const ckeditor1_changes = {};

    			if (dirty & /*$$scope*/ 2097152) {
    				ckeditor1_changes.$$scope = { dirty, ctx };
    			}

    			if (!updating_editor_1 && dirty & /*a*/ 2) {
    				updating_editor_1 = true;
    				ckeditor1_changes.editor = /*a*/ ctx[1];
    				add_flush_callback(() => updating_editor_1 = false);
    			}

    			ckeditor1.$set(ckeditor1_changes);
    			const ckeditor2_changes = {};

    			if (dirty & /*$$scope*/ 2097152) {
    				ckeditor2_changes.$$scope = { dirty, ctx };
    			}

    			if (!updating_editor_2 && dirty & /*b*/ 4) {
    				updating_editor_2 = true;
    				ckeditor2_changes.editor = /*b*/ ctx[2];
    				add_flush_callback(() => updating_editor_2 = false);
    			}

    			ckeditor2.$set(ckeditor2_changes);
    			const ckeditor3_changes = {};

    			if (dirty & /*$$scope*/ 2097152) {
    				ckeditor3_changes.$$scope = { dirty, ctx };
    			}

    			if (!updating_editor_3 && dirty & /*c*/ 8) {
    				updating_editor_3 = true;
    				ckeditor3_changes.editor = /*c*/ ctx[3];
    				add_flush_callback(() => updating_editor_3 = false);
    			}

    			ckeditor3.$set(ckeditor3_changes);
    			const ckeditor4_changes = {};

    			if (dirty & /*$$scope*/ 2097152) {
    				ckeditor4_changes.$$scope = { dirty, ctx };
    			}

    			if (!updating_editor_4 && dirty & /*d*/ 16) {
    				updating_editor_4 = true;
    				ckeditor4_changes.editor = /*d*/ ctx[4];
    				add_flush_callback(() => updating_editor_4 = false);
    			}

    			ckeditor4.$set(ckeditor4_changes);
    			const ckeditor5_changes = {};

    			if (dirty & /*$$scope*/ 2097152) {
    				ckeditor5_changes.$$scope = { dirty, ctx };
    			}

    			if (!updating_editor_5 && dirty & /*e*/ 32) {
    				updating_editor_5 = true;
    				ckeditor5_changes.editor = /*e*/ ctx[5];
    				add_flush_callback(() => updating_editor_5 = false);
    			}

    			ckeditor5.$set(ckeditor5_changes);
    			const ckeditor6_changes = {};

    			if (dirty & /*$$scope*/ 2097152) {
    				ckeditor6_changes.$$scope = { dirty, ctx };
    			}

    			if (!updating_editor_6 && dirty & /*solution*/ 64) {
    				updating_editor_6 = true;
    				ckeditor6_changes.editor = /*solution*/ ctx[6];
    				add_flush_callback(() => updating_editor_6 = false);
    			}

    			ckeditor6.$set(ckeditor6_changes);
    		},
    		i: function intro(local) {
    			if (current) return;
    			transition_in(ckeditor0.$$.fragment, local);
    			transition_in(ckeditor1.$$.fragment, local);
    			transition_in(ckeditor2.$$.fragment, local);
    			transition_in(ckeditor3.$$.fragment, local);
    			transition_in(ckeditor4.$$.fragment, local);
    			transition_in(ckeditor5.$$.fragment, local);
    			transition_in(ckeditor6.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(ckeditor0.$$.fragment, local);
    			transition_out(ckeditor1.$$.fragment, local);
    			transition_out(ckeditor2.$$.fragment, local);
    			transition_out(ckeditor3.$$.fragment, local);
    			transition_out(ckeditor4.$$.fragment, local);
    			transition_out(ckeditor5.$$.fragment, local);
    			transition_out(ckeditor6.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(div4);
    			if (detaching) detach_dev(t7);
    			if (detaching) detach_dev(div7);
    			destroy_component(ckeditor0);
    			if (detaching) detach_dev(t10);
    			if (detaching) detach_dev(div14);
    			destroy_component(ckeditor1);
    			destroy_component(ckeditor2);
    			destroy_component(ckeditor3);
    			destroy_component(ckeditor4);
    			destroy_component(ckeditor5);
    			destroy_component(ckeditor6);
    			mounted = false;
    			run_all(dispose);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$f.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$f($$self, $$props, $$invalidate) {
    	let $dataTO;
    	let $params;
    	let $goto;
    	validate_store(dataTO, "dataTO");
    	component_subscribe($$self, dataTO, $$value => $$invalidate(8, $dataTO = $$value));
    	validate_store(params, "params");
    	component_subscribe($$self, params, $$value => $$invalidate(9, $params = $$value));
    	validate_store(goto, "goto");
    	component_subscribe($$self, goto, $$value => $$invalidate(20, $goto = $$value));
    	let question, a, b, c, d, e, solution;
    	let soal = $dataTO.subtest[$params.subtest].soal[$params.soal];
    	let key = soal.key;

    	//Menyimpan soal ke dalam state
    	let saveSoal = () => {
    		dataTO.update(n => {
    			n.subtest[$params.subtest].soal[$params.soal].question = question.getData();
    			n.subtest[$params.subtest].soal[$params.soal].option_a = a.getData();
    			n.subtest[$params.subtest].soal[$params.soal].option_b = b.getData();
    			n.subtest[$params.subtest].soal[$params.soal].option_c = c.getData();
    			n.subtest[$params.subtest].soal[$params.soal].option_d = d.getData();
    			n.subtest[$params.subtest].soal[$params.soal].option_e = e.getData();
    			n.subtest[$params.subtest].soal[$params.soal].key = key;
    			n.subtest[$params.subtest].soal[$params.soal].solution = solution.getData();
    			return n;
    		});

    		$goto("../edit", { idtryout: $dataTO.idtryout });
    	};

    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<Soal> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Soal", $$slots, []);

    	function ckeditor0_editor_binding(value) {
    		question = value;
    		$$invalidate(0, question);
    	}

    	function select_change_handler() {
    		key = select_value(this);
    		$$invalidate(7, key);
    	}

    	function ckeditor1_editor_binding(value) {
    		a = value;
    		$$invalidate(1, a);
    	}

    	function ckeditor2_editor_binding(value) {
    		b = value;
    		$$invalidate(2, b);
    	}

    	function ckeditor3_editor_binding(value) {
    		c = value;
    		$$invalidate(3, c);
    	}

    	function ckeditor4_editor_binding(value) {
    		d = value;
    		$$invalidate(4, d);
    	}

    	function ckeditor5_editor_binding(value) {
    		e = value;
    		$$invalidate(5, e);
    	}

    	function ckeditor6_editor_binding(value) {
    		solution = value;
    		$$invalidate(6, solution);
    	}

    	$$self.$capture_state = () => ({
    		CKeditor,
    		dataTO,
    		goto,
    		params,
    		question,
    		a,
    		b,
    		c,
    		d,
    		e,
    		solution,
    		soal,
    		key,
    		saveSoal,
    		$dataTO,
    		$params,
    		$goto
    	});

    	$$self.$inject_state = $$props => {
    		if ("question" in $$props) $$invalidate(0, question = $$props.question);
    		if ("a" in $$props) $$invalidate(1, a = $$props.a);
    		if ("b" in $$props) $$invalidate(2, b = $$props.b);
    		if ("c" in $$props) $$invalidate(3, c = $$props.c);
    		if ("d" in $$props) $$invalidate(4, d = $$props.d);
    		if ("e" in $$props) $$invalidate(5, e = $$props.e);
    		if ("solution" in $$props) $$invalidate(6, solution = $$props.solution);
    		if ("soal" in $$props) $$invalidate(10, soal = $$props.soal);
    		if ("key" in $$props) $$invalidate(7, key = $$props.key);
    		if ("saveSoal" in $$props) $$invalidate(11, saveSoal = $$props.saveSoal);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [
    		question,
    		a,
    		b,
    		c,
    		d,
    		e,
    		solution,
    		key,
    		$dataTO,
    		$params,
    		soal,
    		saveSoal,
    		ckeditor0_editor_binding,
    		select_change_handler,
    		ckeditor1_editor_binding,
    		ckeditor2_editor_binding,
    		ckeditor3_editor_binding,
    		ckeditor4_editor_binding,
    		ckeditor5_editor_binding,
    		ckeditor6_editor_binding
    	];
    }

    class Soal extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$f, create_fragment$f, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Soal",
    			options,
    			id: create_fragment$f.name
    		});
    	}
    }

    /* src\pages\users\siswa\dashboard.svelte generated by Svelte v3.24.0 */

    const { Error: Error_1 } = globals;
    const file$c = "src\\pages\\users\\siswa\\dashboard.svelte";

    // (23:0) {:catch error}
    function create_catch_block$2(ctx) {
    	let t_value = /*error*/ ctx[3] + "";
    	let t;

    	const block = {
    		c: function create() {
    			t = text(t_value);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, t, anchor);
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*userInfo*/ 1 && t_value !== (t_value = /*error*/ ctx[3] + "")) set_data_dev(t, t_value);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(t);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_catch_block$2.name,
    		type: "catch",
    		source: "(23:0) {:catch error}",
    		ctx
    	});

    	return block;
    }

    // (20:0) {:then res}
    function create_then_block$2(ctx) {
    	let h1;
    	let t0;
    	let t1_value = /*res*/ ctx[2].username + "";
    	let t1;
    	let t2;
    	let t3;
    	let p;
    	let t4;
    	let a0;
    	let t6;
    	let a1;
    	let mounted;
    	let dispose;

    	const block = {
    		c: function create() {
    			h1 = element("h1");
    			t0 = text("Hello ");
    			t1 = text(t1_value);
    			t2 = text("!");
    			t3 = space();
    			p = element("p");
    			t4 = text("Visit the ");
    			a0 = element("a");
    			a0.textContent = "Login";
    			t6 = text(" to learn how to build Svelte apps. ");
    			a1 = element("a");
    			a1.textContent = "logout";
    			attr_dev(h1, "class", "svelte-13pp65m");
    			add_location(h1, file$c, 20, 0, 337);
    			attr_dev(a0, "href", "/accounts/login");
    			add_location(a0, file$c, 21, 13, 382);
    			attr_dev(a1, "href", "/");
    			add_location(a1, file$c, 21, 84, 453);
    			add_location(p, file$c, 21, 0, 369);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, h1, anchor);
    			append_dev(h1, t0);
    			append_dev(h1, t1);
    			append_dev(h1, t2);
    			insert_dev(target, t3, anchor);
    			insert_dev(target, p, anchor);
    			append_dev(p, t4);
    			append_dev(p, a0);
    			append_dev(p, t6);
    			append_dev(p, a1);

    			if (!mounted) {
    				dispose = listen_dev(a1, "click", /*handleClick*/ ctx[1], false, false, false);
    				mounted = true;
    			}
    		},
    		p: function update(ctx, dirty) {
    			if (dirty & /*userInfo*/ 1 && t1_value !== (t1_value = /*res*/ ctx[2].username + "")) set_data_dev(t1, t1_value);
    		},
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(h1);
    			if (detaching) detach_dev(t3);
    			if (detaching) detach_dev(p);
    			mounted = false;
    			dispose();
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_then_block$2.name,
    		type: "then",
    		source: "(20:0) {:then res}",
    		ctx
    	});

    	return block;
    }

    // (18:17)   <p>loading...</p>  {:then res}
    function create_pending_block$2(ctx) {
    	let p;

    	const block = {
    		c: function create() {
    			p = element("p");
    			p.textContent = "loading...";
    			add_location(p, file$c, 18, 0, 305);
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, p, anchor);
    		},
    		p: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(p);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_pending_block$2.name,
    		type: "pending",
    		source: "(18:17)   <p>loading...</p>  {:then res}",
    		ctx
    	});

    	return block;
    }

    function create_fragment$g(ctx) {
    	let await_block_anchor;
    	let promise;

    	let info = {
    		ctx,
    		current: null,
    		token: null,
    		pending: create_pending_block$2,
    		then: create_then_block$2,
    		catch: create_catch_block$2,
    		value: 2,
    		error: 3
    	};

    	handle_promise(promise = /*userInfo*/ ctx[0], info);

    	const block = {
    		c: function create() {
    			await_block_anchor = empty();
    			info.block.c();
    		},
    		l: function claim(nodes) {
    			throw new Error_1("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			insert_dev(target, await_block_anchor, anchor);
    			info.block.m(target, info.anchor = anchor);
    			info.mount = () => await_block_anchor.parentNode;
    			info.anchor = await_block_anchor;
    		},
    		p: function update(new_ctx, [dirty]) {
    			ctx = new_ctx;
    			info.ctx = ctx;

    			if (dirty & /*userInfo*/ 1 && promise !== (promise = /*userInfo*/ ctx[0]) && handle_promise(promise, info)) ; else {
    				const child_ctx = ctx.slice();
    				child_ctx[2] = info.resolved;
    				info.block.p(child_ctx, dirty);
    			}
    		},
    		i: noop,
    		o: noop,
    		d: function destroy(detaching) {
    			if (detaching) detach_dev(await_block_anchor);
    			info.block.d(detaching);
    			info.token = null;
    			info = null;
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$g.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    async function auth() {
    	let getReq = await fetch("/auth");
    	let res = getReq.json();

    	if (getReq.ok) {
    		return res;
    	} else {
    		throw new Error(res);
    	}
    }

    function instance$g($$self, $$props, $$invalidate) {
    	let userInfo = auth();

    	function handleClick() {
    		$$invalidate(0, userInfo = fetch("/logout"));
    	}

    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<Dashboard> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("Dashboard", $$slots, []);
    	$$self.$capture_state = () => ({ userInfo, auth, handleClick });

    	$$self.$inject_state = $$props => {
    		if ("userInfo" in $$props) $$invalidate(0, userInfo = $$props.userInfo);
    	};

    	if ($$props && "$$inject" in $$props) {
    		$$self.$inject_state($$props.$$inject);
    	}

    	return [userInfo, handleClick];
    }

    class Dashboard extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$g, create_fragment$g, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "Dashboard",
    			options,
    			id: create_fragment$g.name
    		});
    	}
    }

    //tree
    const _tree = {
      "name": "root",
      "filepath": "/",
      "root": true,
      "ownMeta": {},
      "absolutePath": "src/pages",
      "children": [
        {
          "isFile": true,
          "isDir": false,
          "file": "_layout.svelte",
          "filepath": "/_layout.svelte",
          "name": "_layout",
          "ext": "svelte",
          "badExt": false,
          "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/_layout.svelte",
          "importPath": "../../../../src/pages/_layout.svelte",
          "isLayout": true,
          "isReset": false,
          "isIndex": false,
          "isFallback": false,
          "isPage": false,
          "ownMeta": {},
          "meta": {
            "preload": false,
            "prerender": true,
            "precache-order": false,
            "precache-proximity": true,
            "recursive": true
          },
          "path": "/",
          "id": "__layout",
          "component": () => Layout
        },
        {
          "isFile": false,
          "isDir": true,
          "file": "accounts",
          "filepath": "/accounts",
          "name": "accounts",
          "ext": "",
          "badExt": false,
          "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/accounts",
          "children": [
            {
              "isFile": true,
              "isDir": false,
              "file": "_reset.svelte",
              "filepath": "/accounts/_reset.svelte",
              "name": "_reset",
              "ext": "svelte",
              "badExt": false,
              "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/accounts/_reset.svelte",
              "importPath": "../../../../src/pages/accounts/_reset.svelte",
              "isLayout": true,
              "isReset": true,
              "isIndex": false,
              "isFallback": false,
              "isPage": false,
              "ownMeta": {},
              "meta": {
                "preload": false,
                "prerender": true,
                "precache-order": false,
                "precache-proximity": true,
                "recursive": true
              },
              "path": "/accounts",
              "id": "_accounts__reset",
              "component": () => Reset
            },
            {
              "isFile": true,
              "isDir": false,
              "file": "login.svelte",
              "filepath": "/accounts/login.svelte",
              "name": "login",
              "ext": "svelte",
              "badExt": false,
              "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/accounts/login.svelte",
              "importPath": "../../../../src/pages/accounts/login.svelte",
              "isLayout": false,
              "isReset": false,
              "isIndex": false,
              "isFallback": false,
              "isPage": true,
              "ownMeta": {},
              "meta": {
                "preload": false,
                "prerender": true,
                "precache-order": false,
                "precache-proximity": true,
                "recursive": true
              },
              "path": "/accounts/login",
              "id": "_accounts_login",
              "component": () => Login
            },
            {
              "isFile": true,
              "isDir": false,
              "file": "registration.svelte",
              "filepath": "/accounts/registration.svelte",
              "name": "registration",
              "ext": "svelte",
              "badExt": false,
              "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/accounts/registration.svelte",
              "importPath": "../../../../src/pages/accounts/registration.svelte",
              "isLayout": false,
              "isReset": false,
              "isIndex": false,
              "isFallback": false,
              "isPage": true,
              "ownMeta": {},
              "meta": {
                "preload": false,
                "prerender": true,
                "precache-order": false,
                "precache-proximity": true,
                "recursive": true
              },
              "path": "/accounts/registration",
              "id": "_accounts_registration",
              "component": () => Registration
            }
          ],
          "isLayout": false,
          "isReset": false,
          "isIndex": false,
          "isFallback": false,
          "isPage": false,
          "ownMeta": {},
          "meta": {
            "preload": false,
            "prerender": true,
            "precache-order": false,
            "precache-proximity": true,
            "recursive": true
          },
          "path": "/accounts"
        },
        {
          "isFile": true,
          "isDir": false,
          "file": "index.svelte",
          "filepath": "/index.svelte",
          "name": "index",
          "ext": "svelte",
          "badExt": false,
          "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/index.svelte",
          "importPath": "../../../../src/pages/index.svelte",
          "isLayout": false,
          "isReset": false,
          "isIndex": true,
          "isFallback": false,
          "isPage": true,
          "ownMeta": {},
          "meta": {
            "preload": false,
            "prerender": true,
            "precache-order": false,
            "precache-proximity": true,
            "recursive": true
          },
          "path": "/index",
          "id": "_index",
          "component": () => Pages
        },
        {
          "isFile": false,
          "isDir": true,
          "file": "users",
          "filepath": "/users",
          "name": "users",
          "ext": "",
          "badExt": false,
          "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/users",
          "children": [
            {
              "isFile": true,
              "isDir": false,
              "file": "_reset.svelte",
              "filepath": "/users/_reset.svelte",
              "name": "_reset",
              "ext": "svelte",
              "badExt": false,
              "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/users/_reset.svelte",
              "importPath": "../../../../src/pages/users/_reset.svelte",
              "isLayout": true,
              "isReset": true,
              "isIndex": false,
              "isFallback": false,
              "isPage": false,
              "ownMeta": {},
              "meta": {
                "preload": false,
                "prerender": true,
                "precache-order": false,
                "precache-proximity": true,
                "recursive": true
              },
              "path": "/users",
              "id": "_users__reset",
              "component": () => Reset$1
            },
            {
              "isFile": false,
              "isDir": true,
              "file": "admin",
              "filepath": "/users/admin",
              "name": "admin",
              "ext": "",
              "badExt": false,
              "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/users/admin",
              "children": [
                {
                  "isFile": false,
                  "isDir": true,
                  "file": "tryout",
                  "filepath": "/users/admin/tryout",
                  "name": "tryout",
                  "ext": "",
                  "badExt": false,
                  "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/users/admin/tryout",
                  "children": [
                    {
                      "isFile": true,
                      "isDir": false,
                      "file": "edit.svelte",
                      "filepath": "/users/admin/tryout/edit.svelte",
                      "name": "edit",
                      "ext": "svelte",
                      "badExt": false,
                      "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/users/admin/tryout/edit.svelte",
                      "importPath": "../../../../src/pages/users/admin/tryout/edit.svelte",
                      "isLayout": false,
                      "isReset": false,
                      "isIndex": false,
                      "isFallback": false,
                      "isPage": true,
                      "ownMeta": {},
                      "meta": {
                        "preload": false,
                        "prerender": true,
                        "precache-order": false,
                        "precache-proximity": true,
                        "recursive": true
                      },
                      "path": "/users/admin/tryout/edit",
                      "id": "_users_admin_tryout_edit",
                      "component": () => Edit
                    },
                    {
                      "isFile": true,
                      "isDir": false,
                      "file": "list.svelte",
                      "filepath": "/users/admin/tryout/list.svelte",
                      "name": "list",
                      "ext": "svelte",
                      "badExt": false,
                      "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/users/admin/tryout/list.svelte",
                      "importPath": "../../../../src/pages/users/admin/tryout/list.svelte",
                      "isLayout": false,
                      "isReset": false,
                      "isIndex": false,
                      "isFallback": false,
                      "isPage": true,
                      "ownMeta": {},
                      "meta": {
                        "preload": false,
                        "prerender": true,
                        "precache-order": false,
                        "precache-proximity": true,
                        "recursive": true
                      },
                      "path": "/users/admin/tryout/list",
                      "id": "_users_admin_tryout_list",
                      "component": () => List
                    },
                    {
                      "isFile": true,
                      "isDir": false,
                      "file": "soal.svelte",
                      "filepath": "/users/admin/tryout/soal.svelte",
                      "name": "soal",
                      "ext": "svelte",
                      "badExt": false,
                      "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/users/admin/tryout/soal.svelte",
                      "importPath": "../../../../src/pages/users/admin/tryout/soal.svelte",
                      "isLayout": false,
                      "isReset": false,
                      "isIndex": false,
                      "isFallback": false,
                      "isPage": true,
                      "ownMeta": {},
                      "meta": {
                        "preload": false,
                        "prerender": true,
                        "precache-order": false,
                        "precache-proximity": true,
                        "recursive": true
                      },
                      "path": "/users/admin/tryout/soal",
                      "id": "_users_admin_tryout_soal",
                      "component": () => Soal
                    }
                  ],
                  "isLayout": false,
                  "isReset": false,
                  "isIndex": false,
                  "isFallback": false,
                  "isPage": false,
                  "ownMeta": {},
                  "meta": {
                    "preload": false,
                    "prerender": true,
                    "precache-order": false,
                    "precache-proximity": true,
                    "recursive": true
                  },
                  "path": "/users/admin/tryout"
                }
              ],
              "isLayout": false,
              "isReset": false,
              "isIndex": false,
              "isFallback": false,
              "isPage": false,
              "ownMeta": {},
              "meta": {
                "preload": false,
                "prerender": true,
                "precache-order": false,
                "precache-proximity": true,
                "recursive": true
              },
              "path": "/users/admin"
            },
            {
              "isFile": false,
              "isDir": true,
              "file": "siswa",
              "filepath": "/users/siswa",
              "name": "siswa",
              "ext": "",
              "badExt": false,
              "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/users/siswa",
              "children": [
                {
                  "isFile": true,
                  "isDir": false,
                  "file": "dashboard.svelte",
                  "filepath": "/users/siswa/dashboard.svelte",
                  "name": "dashboard",
                  "ext": "svelte",
                  "badExt": false,
                  "absolutePath": "C:/Users/PS42/Desktop/Project/App/src/pages/users/siswa/dashboard.svelte",
                  "importPath": "../../../../src/pages/users/siswa/dashboard.svelte",
                  "isLayout": false,
                  "isReset": false,
                  "isIndex": false,
                  "isFallback": false,
                  "isPage": true,
                  "ownMeta": {},
                  "meta": {
                    "preload": false,
                    "prerender": true,
                    "precache-order": false,
                    "precache-proximity": true,
                    "recursive": true
                  },
                  "path": "/users/siswa/dashboard",
                  "id": "_users_siswa_dashboard",
                  "component": () => Dashboard
                }
              ],
              "isLayout": false,
              "isReset": false,
              "isIndex": false,
              "isFallback": false,
              "isPage": false,
              "ownMeta": {},
              "meta": {
                "preload": false,
                "prerender": true,
                "precache-order": false,
                "precache-proximity": true,
                "recursive": true
              },
              "path": "/users/siswa"
            }
          ],
          "isLayout": false,
          "isReset": false,
          "isIndex": false,
          "isFallback": false,
          "isPage": false,
          "ownMeta": {},
          "meta": {
            "preload": false,
            "prerender": true,
            "precache-order": false,
            "precache-proximity": true,
            "recursive": true
          },
          "path": "/users"
        }
      ],
      "isLayout": false,
      "isReset": false,
      "isIndex": false,
      "isFallback": false,
      "meta": {
        "preload": false,
        "prerender": true,
        "precache-order": false,
        "precache-proximity": true,
        "recursive": true
      },
      "path": "/"
    };


    const {tree, routes: routes$1} = buildClientTree(_tree);

    /* src\App.svelte generated by Svelte v3.24.0 */

    function create_fragment$h(ctx) {
    	let router;
    	let current;
    	router = new Router({ props: { routes: routes$1 }, $$inline: true });

    	const block = {
    		c: function create() {
    			create_component(router.$$.fragment);
    		},
    		l: function claim(nodes) {
    			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
    		},
    		m: function mount(target, anchor) {
    			mount_component(router, target, anchor);
    			current = true;
    		},
    		p: noop,
    		i: function intro(local) {
    			if (current) return;
    			transition_in(router.$$.fragment, local);
    			current = true;
    		},
    		o: function outro(local) {
    			transition_out(router.$$.fragment, local);
    			current = false;
    		},
    		d: function destroy(detaching) {
    			destroy_component(router, detaching);
    		}
    	};

    	dispatch_dev("SvelteRegisterBlock", {
    		block,
    		id: create_fragment$h.name,
    		type: "component",
    		source: "",
    		ctx
    	});

    	return block;
    }

    function instance$h($$self, $$props, $$invalidate) {
    	const writable_props = [];

    	Object.keys($$props).forEach(key => {
    		if (!~writable_props.indexOf(key) && key.slice(0, 2) !== "$$") console.warn(`<App> was created with unknown prop '${key}'`);
    	});

    	let { $$slots = {}, $$scope } = $$props;
    	validate_slots("App", $$slots, []);
    	$$self.$capture_state = () => ({ Router, routes: routes$1 });
    	return [];
    }

    class App extends SvelteComponentDev {
    	constructor(options) {
    		super(options);
    		init(this, options, instance$h, create_fragment$h, safe_not_equal, {});

    		dispatch_dev("SvelteRegisterComponent", {
    			component: this,
    			tagName: "App",
    			options,
    			id: create_fragment$h.name
    		});
    	}
    }

    const app = new App({
    	target: document.body
    });

    return app;

}());
//# sourceMappingURL=bundle.js.map
